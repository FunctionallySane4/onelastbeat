/* Generated by Nim Compiler v2.2.2 */
/* Compiled for: Linux, wasm32, clang */
/* Command for C compiler:
   emcc -c -w -ferror-limit=3 -pthread -O3   -I/home/gregis/.choosenim/toolchains/nim-2.2.2/lib -I/home/gregis/Projects/OneLastBeat/src -o /home/gregis/Projects/OneLastBeat/tmp/@m..@s..@s..@s.nimble@spkgs2@snico-0.4.10-f4d0514d40cc9aeaa3f02e3654986ff28d1038ec@snico@sbackends@ssdl2.nim.c.o /home/gregis/Projects/OneLastBeat/tmp/@m..@s..@s..@s.nimble@spkgs2@snico-0.4.10-f4d0514d40cc9aeaa3f02e3654986ff28d1038ec@snico@sbackends@ssdl2.nim.c */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <stdlib.h>
#include <string.h>
#include <math.h>
#include <sys/types.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ tySequence__4Xyxy0Om14N6K1l5e9bUPSQ;
typedef struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content;
typedef struct tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g;
typedef struct tyObject_RingBuffer__5AEViOu9cYv2OfTpleULS2A tyObject_RingBuffer__5AEViOu9cYv2OfTpleULS2A;
typedef struct tySequence__4l0J2KoADAIc79csLV36IwA tySequence__4l0J2KoADAIc79csLV36IwA;
typedef struct tySequence__4l0J2KoADAIc79csLV36IwA_Content tySequence__4l0J2KoADAIc79csLV36IwA_Content;
typedef struct tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg;
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_Channel__in24RcHDml3U5CQrgcGk5g tyObject_Channel__in24RcHDml3U5CQrgcGk5g;
typedef struct tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg;
typedef struct tyTuple__ktGn6XuQgErLkL9bJoC2G3A tyTuple__ktGn6XuQgErLkL9bJoC2G3A;
typedef struct tyTuple__YZGftELtXgCScyeZyJvrRw tyTuple__YZGftELtXgCScyeZyJvrRw;
typedef struct tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg;
typedef struct tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg;
typedef struct tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ;
typedef struct tySequence__friFxHbsLN0MVvin0IyEFg tySequence__friFxHbsLN0MVvin0IyEFg;
typedef struct tySequence__friFxHbsLN0MVvin0IyEFg_Content tySequence__friFxHbsLN0MVvin0IyEFg_Content;
typedef struct tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ;
typedef struct tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg;
typedef struct tyTuple__Wf8pb9aU0WdM83selH6Zpuw tyTuple__Wf8pb9aU0WdM83selH6Zpuw;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimTypeV2 TNimTypeV2;
typedef struct tySequence__PclZllI1Ry7MX4uStk4Jug tySequence__PclZllI1Ry7MX4uStk4Jug;
typedef struct tySequence__PclZllI1Ry7MX4uStk4Jug_Content tySequence__PclZllI1Ry7MX4uStk4Jug_Content;
typedef struct tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw;
typedef struct tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw;
typedef struct tyObject_PixelFormat__ZXBoc9czIwguAe8cjoo6okA tyObject_PixelFormat__ZXBoc9czIwguAe8cjoo6okA;
typedef struct tyObject_RendererInfo__VcLvp0GdChq8dHjDDtJ7jw tyObject_RendererInfo__VcLvp0GdChq8dHjDDtJ7jw;
typedef struct tySequence__pcXSChh0J6OCdCDPpBK9b1g tySequence__pcXSChh0J6OCdCDPpBK9b1g;
typedef struct tySequence__pcXSChh0J6OCdCDPpBK9b1g_Content tySequence__pcXSChh0J6OCdCDPpBK9b1g_Content;
typedef union tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg;
typedef struct tyObject_CommonEventObj__lj9aaL1DaSYn38P86QN9b9cAg tyObject_CommonEventObj__lj9aaL1DaSYn38P86QN9b9cAg;
typedef struct tyObject_DisplayEventObj__szbGLCRrjX7NvWl3Ztot4g tyObject_DisplayEventObj__szbGLCRrjX7NvWl3Ztot4g;
typedef struct tyObject_WindowEventObj__y9br8GgmoTOm2DtO9aSQ9c9c9ag tyObject_WindowEventObj__y9br8GgmoTOm2DtO9aSQ9c9c9ag;
typedef struct tyObject_KeyboardEventObj__v6d39cQmpAHPDvmBvjTVkMg tyObject_KeyboardEventObj__v6d39cQmpAHPDvmBvjTVkMg;
typedef struct tyObject_Keysym__aB9buZWLRuxQLeYZth85DQA tyObject_Keysym__aB9buZWLRuxQLeYZth85DQA;
typedef struct tyObject_TextEditingEventObj__ncjyI4IwlbIgUfwEwFiIoQ tyObject_TextEditingEventObj__ncjyI4IwlbIgUfwEwFiIoQ;
typedef struct tyObject_TextInputEventObj__O3LnOPiF5R2JMtVScUa3PQ tyObject_TextInputEventObj__O3LnOPiF5R2JMtVScUa3PQ;
typedef struct tyObject_MouseMotionEventObj__RZvLB9cydaX8FR2j2NgyK8g tyObject_MouseMotionEventObj__RZvLB9cydaX8FR2j2NgyK8g;
typedef struct tyObject_MouseButtonEventObj__9cEGKbXhSt7gE3PXi0f8bYg tyObject_MouseButtonEventObj__9cEGKbXhSt7gE3PXi0f8bYg;
typedef struct tyObject_MouseWheelEventObj__PqrPwNRsr1ZxuT1rudY8LA tyObject_MouseWheelEventObj__PqrPwNRsr1ZxuT1rudY8LA;
typedef struct tyObject_JoyAxisEventObj__G9acGGuplQom1XLoBfd8Zdw tyObject_JoyAxisEventObj__G9acGGuplQom1XLoBfd8Zdw;
typedef struct tyObject_JoyBallEventObj__bg1L8YJUjIO8b9aiX6paU8w tyObject_JoyBallEventObj__bg1L8YJUjIO8b9aiX6paU8w;
typedef struct tyObject_JoyHatEventObj__EZMBbvpDTwTUEDcjKB5JZA tyObject_JoyHatEventObj__EZMBbvpDTwTUEDcjKB5JZA;
typedef struct tyObject_JoyButtonEventObj__bBm776l4dLItNjvAglHAaQ tyObject_JoyButtonEventObj__bBm776l4dLItNjvAglHAaQ;
typedef struct tyObject_JoyDeviceEventObj__5CEuW9b9bVcNWm9aaMD9aH736A tyObject_JoyDeviceEventObj__5CEuW9b9bVcNWm9aaMD9aH736A;
typedef struct tyObject_ControllerAxisEventObj__6HJ9bZKf0KGkGgg330sj5Rw tyObject_ControllerAxisEventObj__6HJ9bZKf0KGkGgg330sj5Rw;
typedef struct tyObject_ControllerButtonEventObj__RUsTd8py9bT6BGj9a0rEycqg tyObject_ControllerButtonEventObj__RUsTd8py9bT6BGj9a0rEycqg;
typedef struct tyObject_ControllerDeviceEventObj__fdeKLq0vW4Su9b9b02LlHyVA tyObject_ControllerDeviceEventObj__fdeKLq0vW4Su9b9b02LlHyVA;
typedef struct tyObject_ControllerTouchpadEventObj__3GKYTCTQZi9c1Db4OsFqttg tyObject_ControllerTouchpadEventObj__3GKYTCTQZi9c1Db4OsFqttg;
typedef struct tyObject_ControllerSensorEventObj__DT9ch1Sp5EixKAjwUK1Hv3g tyObject_ControllerSensorEventObj__DT9ch1Sp5EixKAjwUK1Hv3g;
typedef struct tyObject_AudioDeviceEventObj__qfP3gOFQiyVFtGRVoRjftQ tyObject_AudioDeviceEventObj__qfP3gOFQiyVFtGRVoRjftQ;
typedef struct tyObject_SensorEventObj__KoVsGWbpgRSZEXMujjAd6Q tyObject_SensorEventObj__KoVsGWbpgRSZEXMujjAd6Q;
typedef struct tyObject_QuitEventObj__dS5MEeRYJHTvgm075pG5IQ tyObject_QuitEventObj__dS5MEeRYJHTvgm075pG5IQ;
typedef struct tyObject_UserEventObj__8wSpIbk23PKptH9bNsy9aXpg tyObject_UserEventObj__8wSpIbk23PKptH9bNsy9aXpg;
typedef struct tyObject_SysWMEventObj__9boAL9cuaOG34DU1GUwWDU8w tyObject_SysWMEventObj__9boAL9cuaOG34DU1GUwWDU8w;
typedef struct tyObject_TouchFingerEventObj__5bV9aPPtijoqCixsyjwAwyA tyObject_TouchFingerEventObj__5bV9aPPtijoqCixsyjwAwyA;
typedef struct tyObject_MultiGestureEventObj__sFQYRKWLZEIMu86MZPxkxA tyObject_MultiGestureEventObj__sFQYRKWLZEIMu86MZPxkxA;
typedef struct tyObject_DollarGestureEventObj__gYLdgj9bBAviNanQD0tpChA tyObject_DollarGestureEventObj__gYLdgj9bBAviNanQD0tpChA;
typedef struct tyObject_DropEventObj__Msoa4iesOH549cO19cjonx6w tyObject_DropEventObj__Msoa4iesOH549cO19cjonx6w;
typedef struct tyObject_Event__PhexTflZOX2N20Vr39cGsHg tyObject_Event__PhexTflZOX2N20Vr39cGsHg;
typedef struct tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg;
typedef struct tySequence__29c7ihdQ3dPeS9crD6M3kKQw tySequence__29c7ihdQ3dPeS9crD6M3kKQw;
typedef struct tySequence__29c7ihdQ3dPeS9crD6M3kKQw_Content tySequence__29c7ihdQ3dPeS9crD6M3kKQw_Content;
typedef struct tySequence__eXQ7qBth9b8fN9aDUGBmEWLg tySequence__eXQ7qBth9b8fN9aDUGBmEWLg;
typedef struct tySequence__eXQ7qBth9b8fN9aDUGBmEWLg_Content tySequence__eXQ7qBth9b8fN9aDUGBmEWLg_Content;
typedef struct tySequence__GyXTUZbNFl9a0ulDnQFpFoA tySequence__GyXTUZbNFl9a0ulDnQFpFoA;
typedef struct tySequence__GyXTUZbNFl9a0ulDnQFpFoA_Content tySequence__GyXTUZbNFl9a0ulDnQFpFoA_Content;
typedef struct tyObject_Touch__W7l2d79afJabNHgASXk0Cqw tyObject_Touch__W7l2d79afJabNHgASXk0Cqw;
typedef struct tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw;
typedef struct tySequence__wgMvnlQViw7eTDXNUYd1uQ tySequence__wgMvnlQViw7eTDXNUYd1uQ;
typedef struct tySequence__wgMvnlQViw7eTDXNUYd1uQ_Content tySequence__wgMvnlQViw7eTDXNUYd1uQ_Content;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ tySequence__6H5Oh5UUvVCLiakt9aTwtUQ;
typedef struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content;
typedef struct tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg;
typedef struct tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg;
typedef struct tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg;
typedef struct tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw;
typedef struct tyObject_CatchableError__170PUSd9bpOf09cSZOeaNOaA tyObject_CatchableError__170PUSd9bpOf09cSZOeaNOaA;
typedef struct tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA;
typedef struct tyObject_HSlice__DO5p5S32LbatC4OszWRAIA tyObject_HSlice__DO5p5S32LbatC4OszWRAIA;
typedef struct tyObject_PNGSettingscolonObjectType___kSFts2V2g1i9agIpa4WQc9cw tyObject_PNGSettingscolonObjectType___kSFts2V2g1i9agIpa4WQc9cw;
typedef struct tySequence__20Ne2e786rD5enhnlBsgzQ tySequence__20Ne2e786rD5enhnlBsgzQ;
typedef struct tySequence__20Ne2e786rD5enhnlBsgzQ_Content tySequence__20Ne2e786rD5enhnlBsgzQ_Content;
typedef struct tySequence__ztXEf1BIWdc7MS9aHj9ayR2g tySequence__ztXEf1BIWdc7MS9aHj9ayR2g;
typedef struct tySequence__ztXEf1BIWdc7MS9aHj9ayR2g_Content tySequence__ztXEf1BIWdc7MS9aHj9ayR2g_Content;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content;
typedef struct tyObject_PNGDecodercolonObjectType___GcwpDfDt9c6JckQzZHpx9aMQ tyObject_PNGDecodercolonObjectType___GcwpDfDt9c6JckQzZHpx9aMQ;
typedef struct tyObject_PNGColorModecolonObjectType___19bxbwR9cXjfigdkDFR7utPA tyObject_PNGColorModecolonObjectType___19bxbwR9cXjfigdkDFR7utPA;
typedef struct tySequence__NqGJoEBr3GJIzbW4pc8fbg tySequence__NqGJoEBr3GJIzbW4pc8fbg;
typedef struct tySequence__NqGJoEBr3GJIzbW4pc8fbg_Content tySequence__NqGJoEBr3GJIzbW4pc8fbg_Content;
typedef struct tyTuple__hSHiEU6uEtL7soi1F4tKCg tyTuple__hSHiEU6uEtL7soi1F4tKCg;
typedef struct tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g;
typedef struct tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg;
typedef struct tySequence__EtvC1a2T849cB0SNWHj6Fbg tySequence__EtvC1a2T849cB0SNWHj6Fbg;
typedef struct tySequence__EtvC1a2T849cB0SNWHj6Fbg_Content tySequence__EtvC1a2T849cB0SNWHj6Fbg_Content;
typedef struct tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw;
typedef struct tyObject_TimezonecolonObjectType___JH9aunI9a9ayPxNP9czXuDdvMQ tyObject_TimezonecolonObjectType___JH9aunI9a9ayPxNP9czXuDdvMQ;
typedef struct tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA;
typedef struct tyObject_StringTableObj__iKFSivqnSQE42YZSbu9cwnA tyObject_StringTableObj__iKFSivqnSQE42YZSbu9cwnA;
typedef struct tySequence__QfewH7ZCzlg03Itl2jsx5w tySequence__QfewH7ZCzlg03Itl2jsx5w;
typedef struct tySequence__QfewH7ZCzlg03Itl2jsx5w_Content tySequence__QfewH7ZCzlg03Itl2jsx5w_Content;
typedef struct tyTuple__A9bbISTrJh1vfJUGVCQM7pA tyTuple__A9bbISTrJh1vfJUGVCQM7pA;
typedef struct tyObject_VorbisInfo__8z9au9booJEXpPHjdj0gksbQ tyObject_VorbisInfo__8z9au9booJEXpPHjdj0gksbQ;
typedef struct tyObject_StackTraceEntry__DppJCFaZRvent8fPJeLs4Q tyObject_StackTraceEntry__DppJCFaZRvent8fPJeLs4Q;
typedef struct tyObject_PNGChunkcolonObjectType___lWFdBl9cDujDHDuhQAqFlog tyObject_PNGChunkcolonObjectType___lWFdBl9cDujDHDuhQAqFlog;
typedef struct tyObject_APNGFrameChunkcolonObjectType___iMYzOO9b1c04zwyUK2LLibg tyObject_APNGFrameChunkcolonObjectType___iMYzOO9b1c04zwyUK2LLibg;
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ {
  NI len; tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content* p;
};
struct tySequence__4l0J2KoADAIc79csLV36IwA {
  NI len; tySequence__4l0J2KoADAIc79csLV36IwA_Content* p;
};
struct tyObject_RingBuffer__5AEViOu9cYv2OfTpleULS2A {
	tySequence__4l0J2KoADAIc79csLV36IwA data;
	NI head;
	NI tail;
	NI size;
	NI length;
};
typedef tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* tyArray__rI9cN53rlLps39bq8FMId9b2Q[64];
struct NimStrPayload {
	NI cap;
	NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
	NI len;
	NimStrPayload* p;
};
typedef NimStringV2 tyArray__TLUjAhnMfzBtYkb49czB0KA[64];
typedef NU8 tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g;
typedef struct {
N_NIMCALL_PTR(NF32, ClP_0) (NF32 input_p0, void* ClE_0);
void* ClE_0;
} tyProc__Gpfb5rC9cmDwspzoCJcvT9cg;
typedef NF32 tyArray__AH8zxXMFV9aJOtXCzmguz0Q[4096];
typedef tyArray__AH8zxXMFV9aJOtXCzmguz0Q tyArray__MLIYHgc9b3aVhhy7Dt9bea6g[2];
typedef NU8 tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg;
struct tyTuple__YZGftELtXgCScyeZyJvrRw {
	NU8 Field0;
	NU8 Field1;
	tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg Field2;
};
typedef tyTuple__YZGftELtXgCScyeZyJvrRw tyArray__8fYrKWsiK9cNFYjzjxgot2w[32];
struct tyTuple__ktGn6XuQgErLkL9bJoC2G3A {
	NU8 Field0;
	tyArray__8fYrKWsiK9cNFYjzjxgot2w Field1;
	NU8 Field2;
	NU8 Field3;
};
typedef NU8 tyArray__vEOa9c5qaE9ajWxR5R4zwfQg[32];
struct tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg {
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ data;
	NI head;
	NI tail;
	NI size;
	NI length;
};
struct tyObject_Channel__in24RcHDml3U5CQrgcGk5g {
	tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g kind;
	tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* buffer;
	tyProc__Gpfb5rC9cmDwspzoCJcvT9cg callback;
	NIM_BOOL callbackStereo;
	tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* musicFile;
	NI musicIndex;
	NI musicBuffer;
	NIM_BOOL musicStereo;
	NF32 musicSampleRate;
	tyArray__MLIYHgc9b3aVhhy7Dt9bea6g musicBuffers;
	NI loop;
	NF32 phase;
	NF32 freq;
	NF32 basefreq;
	NF32 targetFreq;
	NF32 width;
	NF32 pan;
	tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg shape;
	NF32 gain;
	tyTuple__ktGn6XuQgErLkL9bJoC2G3A synthData;
	NI synthDataIndex;
	NI init;
	NI env;
	NF32 envValue;
	NI envPhase;
	NI length;
	NI vibspeed;
	NI vibamount;
	NI glide;
	NI pchange;
	NIM_BOOL trigger;
	NU32 lfsr;
	NU32 lfsr2;
	NI nextClick;
	NF32 outvalue;
	NF32 priority;
	tyArray__vEOa9c5qaE9ajWxR5R4zwfQg wavData;
	tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg outputBuffer;
};
typedef tyObject_Channel__in24RcHDml3U5CQrgcGk5g tyArray__9ct6ChkkKOZOxiC0M4Gk5Ww[16];
struct tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ {
	int x;
	int y;
	int w;
	int h;
};
struct tySequence__friFxHbsLN0MVvin0IyEFg {
  NI len; tySequence__friFxHbsLN0MVvin0IyEFg_Content* p;
};
typedef NU8 tyEnum_NicoControllerKind__5THGgzvcmaTrlb1pD5eKbQ;
struct tyTuple__Wf8pb9aU0WdM83selH6Zpuw {
	NF Field0;
	NF Field1;
	NI Field2;
};
typedef tyTuple__Wf8pb9aU0WdM83selH6Zpuw tyArray__NJOswEblr10qEBmk9am1gFg[6];
typedef NI tyArray__0gDP19airgUjPdMoI3rX27g[16];
struct tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ {
	tyEnum_NicoControllerKind__5THGgzvcmaTrlb1pD5eKbQ kind;
	NimStringV2 name;
	void* sdlController;
	NI id;
	tyArray__NJOswEblr10qEBmk9am1gFg axes;
	tyArray__0gDP19airgUjPdMoI3rX27g buttons;
	NF deadzone;
	NIM_BOOL invertX;
	NIM_BOOL invertY;
	NIM_BOOL useRightStick;
};
struct TNimTypeV2 {
	void* destructor;
	NI size;
	NI16 align;
	NI16 depth;
	NU32* display;
	void* traceImpl;
	void* typeInfoV1;
	NI flags;
	void* vTable[SEQ_DECL_SIZE];
};
struct RootObj {
	TNimTypeV2* m_type;
};
struct tySequence__PclZllI1Ry7MX4uStk4Jug {
  NI len; tySequence__PclZllI1Ry7MX4uStk4Jug_Content* p;
};
struct Exception {
	RootObj Sup;
	Exception* parent;
	NCSTRING name;
	NimStringV2 message;
	tySequence__PclZllI1Ry7MX4uStk4Jug trace;
	Exception* up;
};
typedef N_CDECL_PTR(void, tyProc__CUefAxx002Jz73DhrZmBjA) (void* userdata_p0, NU8* stream_p1, int len_p2);
struct tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw {
	int freq;
	NU16 format;
	NU8 channels;
	NU8 silence;
	NU16 samples;
	NU16 padding;
	NU32 size;
	tyProc__CUefAxx002Jz73DhrZmBjA callback;
	void* userdata;
};
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (void* ClE_0);
void* ClE_0;
} tyProc__HzVCwACFYM9cx9aV62PdjtuA;
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_14) (void);
struct tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg {
	char dummy;
};
struct tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg {
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ data;
	NF32 rate;
	NI channels;
	NI length;
};
typedef N_CLOSURE_PTR(NF32, TM__lQXcKkYGF8KYpfC3LuZn2A_15) (NF32 input_p0);
struct tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg {
	NU32 flags;
	tyObject_PixelFormat__ZXBoc9czIwguAe8cjoo6okA* format;
	int w;
	int h;
	int pitch;
	void* pixels;
	void* userdata;
	int locked;
	void* list_bitmap;
	tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ clip_rect;
	void* map;
	int refcount;
};
typedef NU32 tyArray__U0SiHM0pVagA9c71oWelQMA[16];
struct tyObject_RendererInfo__VcLvp0GdChq8dHjDDtJ7jw {
	NCSTRING name;
	NU32 flags;
	NU32 num_texture_formats;
	tyArray__U0SiHM0pVagA9c71oWelQMA texture_formats;
	int max_texture_width;
	int max_texture_height;
};
typedef NI32 tyEnum_TextureAccess__WzRI54OGSxoDjTlJwa24mw;
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (NI x_p0, NI y_p1, void* ClE_0);
void* ClE_0;
} tyProc__yZbvgbtLeGIhzIA9bifjdPw;
struct tySequence__pcXSChh0J6OCdCDPpBK9b1g {
  NI len; tySequence__pcXSChh0J6OCdCDPpBK9b1g_Content* p;
};
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_25) (NI x_p0, NI y_p1);
typedef N_CDECL_PTR(void, tyProc__ln4kdL5W9bbX4a1xl8nnVXQ) (void);
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_26) (void);
typedef NI32 tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g;
struct tyObject_CommonEventObj__lj9aaL1DaSYn38P86QN9b9cAg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
};
struct tyObject_DisplayEventObj__szbGLCRrjX7NvWl3Ztot4g {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 display;
	NU8 event;
	NU8 padding1;
	NU8 padding2;
	NU8 padding3;
	NI32 data1;
};
typedef NU8 tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw;
struct tyObject_WindowEventObj__y9br8GgmoTOm2DtO9aSQ9c9c9ag {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw event;
	NU8 padding1;
	NU8 padding2;
	NU8 padding3;
	NI32 data1;
	NI32 data2;
};
typedef NI32 tyEnum_Scancode__vEHIUn9c0BakmTIxcQarHJw;
typedef NI32 tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw;
struct tyObject_Keysym__aB9buZWLRuxQLeYZth85DQA {
	tyEnum_Scancode__vEHIUn9c0BakmTIxcQarHJw scancode;
	tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw sym;
	NU16 mods;
	NU32 unused;
};
struct tyObject_KeyboardEventObj__v6d39cQmpAHPDvmBvjTVkMg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	NU8 state;
	NU8 repeat;
	NU8 padding2;
	NU8 padding3;
	tyObject_Keysym__aB9buZWLRuxQLeYZth85DQA keysym;
};
typedef NIM_CHAR tyArray__x9aRkN8DVcTBDUl3hEPJutg[32];
struct tyObject_TextEditingEventObj__ncjyI4IwlbIgUfwEwFiIoQ {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	tyArray__x9aRkN8DVcTBDUl3hEPJutg text;
	NI32 start;
	NI32 length;
};
struct tyObject_TextInputEventObj__O3LnOPiF5R2JMtVScUa3PQ {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	tyArray__x9aRkN8DVcTBDUl3hEPJutg text;
};
struct tyObject_MouseMotionEventObj__RZvLB9cydaX8FR2j2NgyK8g {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	NU32 which;
	NU32 state;
	NI32 x;
	NI32 y;
	NI32 xrel;
	NI32 yrel;
};
struct tyObject_MouseButtonEventObj__9cEGKbXhSt7gE3PXi0f8bYg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	NU32 which;
	NU8 button;
	NU8 state;
	NU8 clicks;
	NU8 padding1;
	NI32 x;
	NI32 y;
};
typedef NI32 tyEnum_MouseWheelDirection__HJ9cHZ8yT1qGKklrd9amOpXQ;
struct tyObject_MouseWheelEventObj__PqrPwNRsr1ZxuT1rudY8LA {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	NU32 which;
	NI32 x;
	NI32 y;
	tyEnum_MouseWheelDirection__HJ9cHZ8yT1qGKklrd9amOpXQ direction;
};
struct tyObject_JoyAxisEventObj__G9acGGuplQom1XLoBfd8Zdw {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	NU8 axis;
	NU8 padding1;
	NU8 padding2;
	NU8 padding3;
	NI16 value;
	NU16 padding4;
};
struct tyObject_JoyBallEventObj__bg1L8YJUjIO8b9aiX6paU8w {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	NU8 ball;
	NU8 padding1;
	NU8 padding2;
	NU8 padding3;
	NI16 xrel;
	NI16 yrel;
};
typedef NU8 tyEnum_HatPosition__yFxdi749asVoWFkzKrI8Q8g;
struct tyObject_JoyHatEventObj__EZMBbvpDTwTUEDcjKB5JZA {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	NU8 hat;
	tyEnum_HatPosition__yFxdi749asVoWFkzKrI8Q8g value;
	NU8 padding1;
	NU8 padding2;
};
struct tyObject_JoyButtonEventObj__bBm776l4dLItNjvAglHAaQ {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	NU8 button;
	NU8 state;
	NU8 padding1;
	NU8 padding2;
};
struct tyObject_JoyDeviceEventObj__5CEuW9b9bVcNWm9aaMD9aH736A {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
};
typedef NU8 tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA;
struct tyObject_ControllerAxisEventObj__6HJ9bZKf0KGkGgg330sj5Rw {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA axis;
	NU8 padding1;
	NU8 padding2;
	NU8 padding3;
	NI16 value;
	NU16 padding4;
};
typedef NU8 tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw;
struct tyObject_ControllerButtonEventObj__RUsTd8py9bT6BGj9a0rEycqg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw button;
	NU8 state;
	NU8 padding1;
	NU8 padding2;
};
struct tyObject_ControllerDeviceEventObj__fdeKLq0vW4Su9b9b02LlHyVA {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
};
struct tyObject_ControllerTouchpadEventObj__3GKYTCTQZi9c1Db4OsFqttg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	NI32 touchpad;
	NI32 finger;
	float x;
	float y;
	float pressure;
};
typedef float tyArray__mCRXooyduXq5RqruXcvOiw[3];
struct tyObject_ControllerSensorEventObj__DT9ch1Sp5EixKAjwUK1Hv3g {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	NI32 sensor;
	tyArray__mCRXooyduXq5RqruXcvOiw data;
};
struct tyObject_AudioDeviceEventObj__qfP3gOFQiyVFtGRVoRjftQ {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 which;
	NU8 iscapture;
	NU8 padding1;
	NU8 padding2;
	NU8 padding3;
};
typedef float tyArray__KB5GPxSDvK2ATg8EryjL3Q[6];
struct tyObject_SensorEventObj__KoVsGWbpgRSZEXMujjAd6Q {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI32 which;
	tyArray__KB5GPxSDvK2ATg8EryjL3Q data;
};
struct tyObject_QuitEventObj__dS5MEeRYJHTvgm075pG5IQ {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
};
struct tyObject_UserEventObj__8wSpIbk23PKptH9bNsy9aXpg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NU32 windowID;
	NI32 code;
	void* data1;
	void* data2;
};
struct tyObject_SysWMEventObj__9boAL9cuaOG34DU1GUwWDU8w {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	void* msg;
};
struct tyObject_TouchFingerEventObj__5bV9aPPtijoqCixsyjwAwyA {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI64 touchId;
	NI64 fingerId;
	float x;
	float y;
	float dx;
	float dy;
	float pressure;
	NU32 windowID;
};
struct tyObject_MultiGestureEventObj__sFQYRKWLZEIMu86MZPxkxA {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI64 touchId;
	float dTheta;
	float dDist;
	float x;
	float y;
	NU16 numFingers;
	NU16 padding;
};
struct tyObject_DollarGestureEventObj__gYLdgj9bBAviNanQD0tpChA {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NI64 touchId;
	NI64 gestureId;
	NU32 numFingers;
	float error;
	float x;
	float y;
};
struct tyObject_DropEventObj__Msoa4iesOH549cO19cjonx6w {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	NU32 timestamp;
	NCSTRING file;
	NU32 windowID;
};
typedef NU8 tyArray__sH9avbK619blGCGFZhgSDaWg[56];
union tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg {
	tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g kind;
	tyObject_CommonEventObj__lj9aaL1DaSYn38P86QN9b9cAg common;
	tyObject_DisplayEventObj__szbGLCRrjX7NvWl3Ztot4g display;
	tyObject_WindowEventObj__y9br8GgmoTOm2DtO9aSQ9c9c9ag window;
	tyObject_KeyboardEventObj__v6d39cQmpAHPDvmBvjTVkMg key;
	tyObject_TextEditingEventObj__ncjyI4IwlbIgUfwEwFiIoQ edit;
	tyObject_TextInputEventObj__O3LnOPiF5R2JMtVScUa3PQ text;
	tyObject_MouseMotionEventObj__RZvLB9cydaX8FR2j2NgyK8g motion;
	tyObject_MouseButtonEventObj__9cEGKbXhSt7gE3PXi0f8bYg button;
	tyObject_MouseWheelEventObj__PqrPwNRsr1ZxuT1rudY8LA wheel;
	tyObject_JoyAxisEventObj__G9acGGuplQom1XLoBfd8Zdw jaxis;
	tyObject_JoyBallEventObj__bg1L8YJUjIO8b9aiX6paU8w jball;
	tyObject_JoyHatEventObj__EZMBbvpDTwTUEDcjKB5JZA jhat;
	tyObject_JoyButtonEventObj__bBm776l4dLItNjvAglHAaQ jbutton;
	tyObject_JoyDeviceEventObj__5CEuW9b9bVcNWm9aaMD9aH736A jdevice;
	tyObject_ControllerAxisEventObj__6HJ9bZKf0KGkGgg330sj5Rw caxis;
	tyObject_ControllerButtonEventObj__RUsTd8py9bT6BGj9a0rEycqg cbutton;
	tyObject_ControllerDeviceEventObj__fdeKLq0vW4Su9b9b02LlHyVA cdevice;
	tyObject_ControllerTouchpadEventObj__3GKYTCTQZi9c1Db4OsFqttg ctouchpad;
	tyObject_ControllerSensorEventObj__DT9ch1Sp5EixKAjwUK1Hv3g csensor;
	tyObject_AudioDeviceEventObj__qfP3gOFQiyVFtGRVoRjftQ adevice;
	tyObject_SensorEventObj__KoVsGWbpgRSZEXMujjAd6Q sensor;
	tyObject_QuitEventObj__dS5MEeRYJHTvgm075pG5IQ quit;
	tyObject_UserEventObj__8wSpIbk23PKptH9bNsy9aXpg user;
	tyObject_SysWMEventObj__9boAL9cuaOG34DU1GUwWDU8w syswm;
	tyObject_TouchFingerEventObj__5bV9aPPtijoqCixsyjwAwyA tfinger;
	tyObject_MultiGestureEventObj__sFQYRKWLZEIMu86MZPxkxA mgesture;
	tyObject_DollarGestureEventObj__gYLdgj9bBAviNanQD0tpChA dgesture;
	tyObject_DropEventObj__Msoa4iesOH549cO19cjonx6w drop;
	tyArray__sH9avbK619blGCGFZhgSDaWg padding;
};
typedef tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g tyArray__c5lnLEfRlDwbqHOXeIhApQ[10];
typedef NU8 tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA;
typedef NI32 tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw;
typedef NI32 tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A;
struct tyObject_Event__PhexTflZOX2N20Vr39cGsHg {
	tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA kind;
	NU8 button;
	NI x;
	NI y;
	NF32 xrel;
	NF32 yrel;
	tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw keycode;
	tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A scancode;
	NU16 mods;
	NU8 clicks;
	NI repeat;
	NI ywheel;
	NimStringV2 text;
	NU8 which;
};
struct tySequence__29c7ihdQ3dPeS9crD6M3kKQw {
  NI len; tySequence__29c7ihdQ3dPeS9crD6M3kKQw_Content* p;
};
struct tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg {
	tySequence__29c7ihdQ3dPeS9crD6M3kKQw data;
	NI counter;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClP_0) (tyObject_Event__PhexTflZOX2N20Vr39cGsHg* e_p0, void* ClE_0);
void* ClE_0;
} tyProc__WgqeCw2WGxAI9bmI3lHRKog;
struct tySequence__eXQ7qBth9b8fN9aDUGBmEWLg {
  NI len; tySequence__eXQ7qBth9b8fN9aDUGBmEWLg_Content* p;
};
typedef N_CLOSURE_PTR(NIM_BOOL, TM__lQXcKkYGF8KYpfC3LuZn2A_28) (tyObject_Event__PhexTflZOX2N20Vr39cGsHg* e_p0);
struct tySequence__GyXTUZbNFl9a0ulDnQFpFoA {
  NI len; tySequence__GyXTUZbNFl9a0ulDnQFpFoA_Content* p;
};
typedef NU8 tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg;
struct tyObject_Touch__W7l2d79afJabNHgASXk0Cqw {
	NI id;
	NI x;
	NI y;
	NF32 sx;
	NF32 sy;
	NF32 xrel;
	NF32 yrel;
	NF32 xrelraw;
	NF32 yrelraw;
	tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg state;
};
typedef NIM_BOOL tyArray__xSxqoPo7Fj4uIDcWiYyWDg[3];
typedef NI tyArray__Bd4h7Ocx9bGTvrKzPIWNlHw[3];
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* controller_p0, void* ClE_0);
void* ClE_0;
} tyProc__9cFudSqKwo7KIwGlL9bTobiA;
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_30) (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* controller_p0);
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_31) (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* controller_p0);
typedef NU8 tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw;
typedef NU8 tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg;
struct tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw {
	RootObj Sup;
	NI i0;
};
typedef tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* tyArray__WGdFp1x1TRhEll6Qsgf9cLQ[16];
struct tySequence__wgMvnlQViw7eTDXNUYd1uQ {
  NI len; tySequence__wgMvnlQViw7eTDXNUYd1uQ_Content* p;
};
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ {
  NI len; tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content* p;
};
struct tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw {
	tySequence__wgMvnlQViw7eTDXNUYd1uQ palette;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ data;
	NI channels;
	NI w;
	NI h;
	NI tw;
	NI th;
	NimStringV2 filename;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ spriteFlags;
};
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0, void* ClE_0);
void* ClE_0;
} tyProc__V9bGopLHKFo2FjArm25MFaw;
struct tyObject_CatchableError__170PUSd9bpOf09cSZOeaNOaA {
	Exception Sup;
};
struct tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw {
	tyObject_CatchableError__170PUSd9bpOf09cSZOeaNOaA Sup;
};
typedef N_NIMCALL_PTR(void, tyProc__qFtPiArvTLs9aLHfBnp8Vyw) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0);
typedef N_NIMCALL_PTR(NIM_BOOL, tyProc__k9aIo4nr0k2Z1bpIS3anQ1g) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0);
typedef N_NIMCALL_PTR(void, tyProc__IDMlkxgUZM2moxooT9ag01w) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0, NI pos_p1);
typedef N_NIMCALL_PTR(NI, tyProc__FzA1MTISmh9angjjA386gkA) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0);
typedef N_NIMCALL_PTR(NI, tyProc__8kgJV02C7W4rHNCint9aXIA) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0, NimStringV2* buffer_p1, tyObject_HSlice__DO5p5S32LbatC4OszWRAIA slice_p2);
typedef N_NIMCALL_PTR(NIM_BOOL, tyProc__XAFAe7pn9cM54yXi0T9bDoJA) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0, NimStringV2* line_p1);
typedef N_NIMCALL_PTR(NI, tyProc__sS5pT015KHKoqdfoeXhrHQ) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0, void* buffer_p1, NI bufLen_p2);
typedef N_NIMCALL_PTR(void, tyProc__HfF9aKAAyZtQEiN7BWjhY9bQ) (tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0, void* buffer_p1, NI bufLen_p2);
struct tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA {
	RootObj Sup;
	tyProc__qFtPiArvTLs9aLHfBnp8Vyw closeImpl;
	tyProc__k9aIo4nr0k2Z1bpIS3anQ1g atEndImpl;
	tyProc__IDMlkxgUZM2moxooT9ag01w setPositionImpl;
	tyProc__FzA1MTISmh9angjjA386gkA getPositionImpl;
	tyProc__8kgJV02C7W4rHNCint9aXIA readDataStrImpl;
	tyProc__XAFAe7pn9cM54yXi0T9bDoJA readLineImpl;
	tyProc__sS5pT015KHKoqdfoeXhrHQ readDataImpl;
	tyProc__sS5pT015KHKoqdfoeXhrHQ peekDataImpl;
	tyProc__HfF9aKAAyZtQEiN7BWjhY9bQ writeDataImpl;
	tyProc__qFtPiArvTLs9aLHfBnp8Vyw flushImpl;
};
struct tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg {
	tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA Sup;
	NimStringV2 data;
	NI pos;
};
struct tySequence__20Ne2e786rD5enhnlBsgzQ {
  NI len; tySequence__20Ne2e786rD5enhnlBsgzQ_Content* p;
};
struct tySequence__ztXEf1BIWdc7MS9aHj9ayR2g {
  NI len; tySequence__ztXEf1BIWdc7MS9aHj9ayR2g_Content* p;
};
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  NI len; tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content* p;
};
struct tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg {
	tyObject_PNGSettingscolonObjectType___kSFts2V2g1i9agIpa4WQc9cw* settings;
	tySequence__20Ne2e786rD5enhnlBsgzQ chunks;
	NimStringV2 pixels;
	NI width;
	NI height;
	tySequence__ztXEf1BIWdc7MS9aHj9ayR2g apngChunks;
	NIM_BOOL firstFrameIsDefaultImage;
	NIM_BOOL isAPNG;
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ apngPixels;
};
struct tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg {
	NI width;
	NI height;
	tyObject_PNGColorModecolonObjectType___19bxbwR9cXjfigdkDFR7utPA* mode;
	NIM_BOOL backgroundDefined;
	NI backgroundR;
	NI backgroundG;
	NI backgroundB;
	NIM_BOOL physDefined;
	NI physX;
	NI physY;
	NI physUnit;
	NIM_BOOL timeDefined;
	NI year;
	NI month;
	NI day;
	NI hour;
	NI minute;
	NI second;
};
typedef NU8 tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ;
struct tySequence__NqGJoEBr3GJIzbW4pc8fbg {
  NI len; tySequence__NqGJoEBr3GJIzbW4pc8fbg_Content* p;
};
struct tyObject_PNGColorModecolonObjectType___19bxbwR9cXjfigdkDFR7utPA {
	tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ colorType;
	NI bitDepth;
	NI paletteSize;
	tySequence__NqGJoEBr3GJIzbW4pc8fbg palette;
	NIM_BOOL keyDefined;
	NI keyR;
	NI keyG;
	NI keyB;
};
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_35) (tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0);
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_36) (tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0);
struct tyTuple__hSHiEU6uEtL7soi1F4tKCg {
	NU8 Field0;
	NU8 Field1;
	NU8 Field2;
};
struct tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g {
	NIM_CHAR r;
	NIM_CHAR g;
	NIM_CHAR b;
	NIM_CHAR a;
};
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_37) (tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0);
struct tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg {
	NI rc;
	NI rootIdx;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClP_0) (NI sym_p0, NU16 mods_p1, NI scancode_p2, NIM_BOOL down_p3, void* ClE_0);
void* ClE_0;
} tyProc__SR0j0ClEYDvwlJHrgLh3cQ;
struct tySequence__EtvC1a2T849cB0SNWHj6Fbg {
  NI len; tySequence__EtvC1a2T849cB0SNWHj6Fbg_Content* p;
};
typedef N_CLOSURE_PTR(NIM_BOOL, TM__lQXcKkYGF8KYpfC3LuZn2A_38) (NI sym_p0, NU16 mods_p1, NI scancode_p2, NIM_BOOL down_p3);
typedef NU8 tyEnum_WeekDay__ITbdm6KM8R8hjtitbWkqnw;
struct tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw {
	RootObj Sup;
	NI nanosecond;
	NI second;
	NI minute;
	NI hour;
	NI monthdayZero;
	NI monthZero;
	NI year;
	tyEnum_WeekDay__ITbdm6KM8R8hjtitbWkqnw weekday;
	NI yearday;
	NIM_BOOL isDst;
	tyObject_TimezonecolonObjectType___JH9aunI9a9ayPxNP9czXuDdvMQ* timezone;
	NI utcOffset;
};
typedef NimStringV2 tyArray__Re75IspeoxXy2oCZHwcRrA[2];
typedef NU8 tySet_tyEnum_ProcessOption__Uv0WJtGKhlKIoRPgQ9bhbCA;
struct tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA {
	RootObj Sup;
	int inHandle;
	int outHandle;
	int errHandle;
	pid_t id;
	tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* inStream;
	tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* outStream;
	tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* errStream;
	int exitStatus;
	NIM_BOOL exitFlag;
	tySet_tyEnum_ProcessOption__Uv0WJtGKhlKIoRPgQ9bhbCA options;
};
typedef NimStringV2 tyArray__nHXaesL0DJZHyVS07ARPRA[1];
struct tySequence__QfewH7ZCzlg03Itl2jsx5w {
  NI len; tySequence__QfewH7ZCzlg03Itl2jsx5w_Content* p;
};
typedef tySequence__QfewH7ZCzlg03Itl2jsx5w tyArray__4vilY9btTc3ckSe1VekvIyQ[16];
typedef struct {
N_NIMCALL_PTR(void, ClP_0) (NF32 dt_p0, void* ClE_0);
void* ClE_0;
} tyProc__y9aUXu4JGz72YDIZVWUrK5w;
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_47) (NF32 dt_p0);
typedef tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg tyArray__odD3OrSf9bkvqRPpOUKRvXQ[2];
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_49) (void);
struct tyTuple__A9bbISTrJh1vfJUGVCQM7pA {
	NI Field0;
	tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw Field1;
	NU32 Field2;
};
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_50) (tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0);
typedef N_CLOSURE_PTR(void, TM__lQXcKkYGF8KYpfC3LuZn2A_51) (tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0);
struct tyObject_VorbisInfo__8z9au9booJEXpPHjdj0gksbQ {
	unsigned int sample_rate;
	int channels;
	unsigned int setup_memory_required;
	unsigned int setup_temp_memory_required;
	unsigned int temp_memory_required;
	int max_frame_size;
};
struct tySequence__4Xyxy0Om14N6K1l5e9bUPSQ_Content { NI cap; NF32 data[SEQ_DECL_SIZE]; };
struct tySequence__4l0J2KoADAIc79csLV36IwA_Content { NI cap; tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* data[SEQ_DECL_SIZE]; };
struct tySequence__friFxHbsLN0MVvin0IyEFg_Content { NI cap; tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* data[SEQ_DECL_SIZE]; };
struct tyObject_StackTraceEntry__DppJCFaZRvent8fPJeLs4Q {
	NCSTRING procname;
	NI line;
	NCSTRING filename;
};
struct tySequence__PclZllI1Ry7MX4uStk4Jug_Content { NI cap; tyObject_StackTraceEntry__DppJCFaZRvent8fPJeLs4Q data[SEQ_DECL_SIZE]; };
struct tySequence__pcXSChh0J6OCdCDPpBK9b1g_Content { NI cap; tyProc__yZbvgbtLeGIhzIA9bifjdPw data[SEQ_DECL_SIZE]; };
struct tySequence__29c7ihdQ3dPeS9crD6M3kKQw_Content { NI cap; tyTuple__A9bbISTrJh1vfJUGVCQM7pA data[SEQ_DECL_SIZE]; };
struct tySequence__eXQ7qBth9b8fN9aDUGBmEWLg_Content { NI cap; tyProc__WgqeCw2WGxAI9bmI3lHRKog data[SEQ_DECL_SIZE]; };
struct tySequence__GyXTUZbNFl9a0ulDnQFpFoA_Content { NI cap; tyObject_Touch__W7l2d79afJabNHgASXk0Cqw data[SEQ_DECL_SIZE]; };
struct tySequence__wgMvnlQViw7eTDXNUYd1uQ_Content { NI cap; tyTuple__hSHiEU6uEtL7soi1F4tKCg data[SEQ_DECL_SIZE]; };
struct tySequence__6H5Oh5UUvVCLiakt9aTwtUQ_Content { NI cap; NU8 data[SEQ_DECL_SIZE]; };
struct tyObject_HSlice__DO5p5S32LbatC4OszWRAIA {
	NI a;
	NI b;
};
struct tySequence__20Ne2e786rD5enhnlBsgzQ_Content { NI cap; tyObject_PNGChunkcolonObjectType___lWFdBl9cDujDHDuhQAqFlog* data[SEQ_DECL_SIZE]; };
struct tySequence__ztXEf1BIWdc7MS9aHj9ayR2g_Content { NI cap; tyObject_APNGFrameChunkcolonObjectType___iMYzOO9b1c04zwyUK2LLibg* data[SEQ_DECL_SIZE]; };
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ_Content { NI cap; NimStringV2 data[SEQ_DECL_SIZE]; };
struct tySequence__NqGJoEBr3GJIzbW4pc8fbg_Content { NI cap; tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g data[SEQ_DECL_SIZE]; };
struct tySequence__EtvC1a2T849cB0SNWHj6Fbg_Content { NI cap; tyProc__SR0j0ClEYDvwlJHrgLh3cQ data[SEQ_DECL_SIZE]; };
struct tySequence__QfewH7ZCzlg03Itl2jsx5w_Content { NI cap; tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A data[SEQ_DECL_SIZE]; };
N_CDECL(NU32, SDL_GetTicks)(void);
  #include <emscripten.h>
  
N_LIB_PRIVATE N_CDECL(void, initConfigDone)(void);
N_CDECL(NIM_BOOL, SDL_SetHint)(NCSTRING name_p0, NCSTRING value_p1);
N_CDECL(int, SDL_Init)(NU32 flags_p0);
static N_INLINE(void, quit__system_u8177)(NI errorcode_p0);
N_LIB_PRIVATE N_NIMCALL(void, add__pkgZnicoZbackendsZsdl2_u1354)(tySequence__friFxHbsLN0MVvin0IyEFg* x_p0, tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* y_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ*, newNicoController__pkgZnicoZcontroller_u53)(int id_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZcontroller_u68)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___system_u2696)(NimStringV2* dest_p0, NimStringV2 src_p1);
N_CDECL(NCSTRING, SDL_GetBasePath)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, cstrToNimstr)(NCSTRING str_p0);
static N_INLINE(NimStringV2, slash___stdZprivateZospaths2_u88)(NimStringV2 head_p0, NimStringV2 tail_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nosjoinPath)(NimStringV2 head_p0, NimStringV2 tail_p1);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(void, eqdestroy___system_u281)(NimStringV2 x_p0);
N_CDECL(int, SDL_GameControllerAddMappingsFromRW)(tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* rw_p0, int freerw_p1);
N_CDECL(tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg*, SDL_RWFromFile)(NCSTRING file_p0, NCSTRING mode_p1);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0);
N_CDECL(int, SDL_NumJoysticks)(void);
N_CDECL(NIM_BOOL, SDL_IsGameController)(int joystick_index_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___pkgZnicoZcontroller_u65)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** dest_p0);
static N_INLINE(void, popCurrentException)(void);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___stdZtypedthreads_u223)(Exception** dest_p0, Exception* src_p1, NIM_BOOL cyclic_p2);
N_CDECL(void, SDL_StopTextInput)(void);
N_LIB_PRIVATE N_NIMCALL(void, initConfig__pkgZnicoZbackendsZsdl2_u4439)(void);
N_LIB_PRIVATE N_NIMCALL(void, initMixer__pkgZnicoZbackendsZsdl2_u6339)(NIM_BOOL wantsAudioIn_p0);
N_LIB_PRIVATE N_NIMCALL(void*, nimNewObj)(NI size_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e_p0, NCSTRING ename_p1, NCSTRING procname_p2, NCSTRING filename_p3, NI line_p4);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
N_CDECL(NU32, SDL_OpenAudioDevice)(NCSTRING device_p0, int iscapture_p1, tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw* desired_p2, tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw* obtained_p3, int allowed_changes_p4);
N_CDECL(int, SDL_GetNumAudioDevices)(int iscapture_p0);
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1);
static N_INLINE(void, copyMem__system_u1731)(void* dest_p0, void* source_p1, NI size_p2);
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2);
N_CDECL(NCSTRING, SDL_GetError)(void);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, rawNewString)(NI space_p0);
N_LIB_PRIVATE N_NOCONV(void, deallocShared)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZsdl2_u6086)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* dest_p0, tySequence__4Xyxy0Om14N6K1l5e9bUPSQ src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6077)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, alignedDealloc)(void* p_p0, NI align_p1);
N_LIB_PRIVATE N_NIMCALL(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ, newSeq__pkgZnicoZbackendsZsdl2_u6375)(NI len_p0);
N_CDECL(void, SDL_PauseAudioDevice)(NU32 dev_p0, int pause_on_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZsdl2_u6506)(tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg* dest_p0, tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg src_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg, initRingBuffer__pkgZnicoZbackendsZsdl2_u6468)(NI length_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6497)(tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(NI, rand__pureZrandom_u143)(NI max_p0);
N_LIB_PRIVATE N_NIMCALL(void, queueMixerAudio__pkgZnicoZbackendsZsdl2_u3542)(void);
N_CDECL(int, SDL_DequeueAudio)(NU32 dev_p0, void* data_p1, NU32 len_p2);
static N_INLINE(NI32, toPint__pkgZnicoZbackendsZcommon_u851)(NF32 x_p0);
N_LIB_PRIVATE N_NIMCALL(NF32, process__pkgZnicoZbackendsZsdl2_u6000)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* self_p0);
N_LIB_PRIVATE N_NIMCALL(NF32, processSynth__pkgZnicoZbackendsZsdl2_u5840)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* self_p0);
N_LIB_PRIVATE N_NIMCALL(NF32, note__pkgZnicoZbackendsZcommon_u718)(NI n_p0);
N_LIB_PRIVATE N_NIMCALL(NI, toInt__pkgZsdl295nimZsdl_u581)(NU8 x_p0);
N_LIB_PRIVATE N_NIMCALL(void, resetChannel__pkgZnicoZbackendsZsdl2_u166)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* channel_p0);
N_NOCONV(void, stb_vorbis_close)(tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* f_p0);
N_LIB_PRIVATE N_NIMCALL(NF32, lerp__pkgZnicoZbackendsZsdl2_u5853)(NF32 a_p0, NF32 b_p1, NF32 t_p2);
static N_INLINE(void, pluseq___pkgZnicoZbackendsZsdl2_u5859)(NF32* x_p0, NF32 y_p1);
static N_INLINE(NF, abs__pureZmath_u218)(NF x_p0);
N_LIB_PRIVATE N_NIMCALL(NF32, clamp__pkgZnicoZbackendsZsdl2_u5898)(NF32 x_p0, NF32 a_p1, NF32 b_p2);
static N_INLINE(NF, slash___system_u1693)(NI x_p0, NI y_p1);
static N_INLINE(NF, toFloat__system_u1681)(NI i_p0);
N_LIB_PRIVATE N_NIMCALL(NF32, interpolatedLookup__pkgZnicoZbackendsZsdl2_u6004)(NF32* a_p0, NI a_p0Len_0, NF32 s_p1);
N_NOCONV(int, stb_vorbis_get_samples_float_interleaved)(tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* f_p0, int channels_p1, NF32* buffer_p2, int num_floats_p3);
static N_INLINE(void, stareq___pkgZnicoZbackendsZsdl2_u6048)(int* x_p0, int y_p1);
N_NOCONV(int, stb_vorbis_seek_frame)(tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* f_p0, unsigned int frame_p1);
N_LIB_PRIVATE N_NIMCALL(void, add__pkgZnicoZbackendsZsdl2_u6327)(tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg* b_p0, NF32 data_p1);
N_LIB_PRIVATE N_NIMCALL(void, queueAudio__pkgZnicoZbackendsZsdl2_u5832)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* samples_p0);
N_CDECL(int, SDL_QueueAudio)(NU32 dev_p0, void* data_p1, NU32 len_p2);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZparsecfg_u937)(tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g** dest_p0, tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g* src_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g*, loadConfig__pureZparsecfg_u4987)(NimStringV2 filename_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___system_u2687)(NimStringV2* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZparsecfg_u928)(tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g* dest_p0);
static N_INLINE(NIM_BOOL, isObjDisplayCheck)(TNimTypeV2* source_p0, NI16 targetDepth_p1, NU32 token_p2);
static N_INLINE(Exception*, nimBorrowCurrentException)(void);
N_LIB_PRIVATE N_NIMCALL(tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g*, newConfig__pureZparsecfg_u467)(void);
N_CDECL(int, SDL_GetDisplayUsableBounds)(int displayIndex_p0, tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ* rect_p1);
N_CDECL(void*, SDL_CreateWindow)(NCSTRING title_p0, int x_p1, int y_p2, int w_p3, int h_p4, NU32 flags_p5);
N_CDECL(void, SDL_GetWindowSize)(void* window_p0, int* w_p1, int* h_p2);
N_LIB_PRIVATE N_NIMCALL(void, resize__pkgZnicoZbackendsZsdl2_u171)(NI w_p0, NI h_p1);
N_CDECL(void, SDL_DestroyRenderer)(void* renderer_p0);
static N_INLINE(NF, max__system_u1206)(NF x_p0, NF y_p1);
static N_INLINE(NF32, min__system_u1169)(NF32 x_p0, NF32 y_p1);
static N_INLINE(NI32, toPint__pkgZnicoZbackendsZcommon_u848)(NF x_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZcommon_u1116)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw** dest_p0, tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* src_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw*, newSurface__pkgZnicoZbackendsZcommon_u1091)(NI w_p0, NI h_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZcommon_u1107)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* dest_p0);
N_CDECL(void, SDL_FreeSurface)(tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg* surface_p0);
N_CDECL(tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg*, SDL_CreateRGBSurface)(NU32 flags_p0, int width_p1, int height_p2, int depth_p3, NU32 rMask_p4, NU32 gMask_p5, NU32 bMask_p6, NU32 aMask_p7);
N_CDECL(void*, SDL_CreateRenderer)(void* window_p0, int index_p1, NU32 flags_p2);
N_CDECL(int, SDL_GetRendererInfo)(void* renderer_p0, tyObject_RendererInfo__VcLvp0GdChq8dHjDDtJ7jw* info_p1);
N_CDECL(void*, SDL_CreateTexture)(void* renderer_p0, NU32 format_p1, tyEnum_TextureAccess__WzRI54OGSxoDjTlJwa24mw access_p2, int w_p3, int h_p4);
N_CDECL(int, SDL_SetRenderTarget)(void* renderer_p0, void* texture_p1);
N_LIB_PRIVATE N_NIMCALL(void, createRecordBuffer__pkgZnicoZbackendsZsdl2_u169)(NIM_BOOL forceClear_p0);
N_CDECL(void, SDL_RaiseWindow)(void* window_p0);
N_NIMCALL(void, emscripten_cancel_main_loop)(void);
N_NIMCALL(void, emscripten_set_main_loop)(tyProc__ln4kdL5W9bbX4a1xl8nnVXQ f_p0, int fps_p1, int simulate_infinite_loop_p2);
N_LIB_PRIVATE N_CDECL(void, emscLoop__pkgZnicoZbackendsZsdl2_u6661)(void);
N_LIB_PRIVATE N_CDECL(void, step__pkgZnicoZbackendsZsdl2_u3548)(void);
N_LIB_PRIVATE N_NIMCALL(void, checkInput__pkgZnicoZbackendsZsdl2_u1792)(void);
N_CDECL(int, SDL_PollEvent)(tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg* event_p0);
static N_INLINE(NIM_BOOL, contains__pkgZnicoZbackendsZsdl2_u1833)(tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g* a_p0, NI a_p0Len_0, tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g item_p1);
static N_INLINE(NI, find__pkgZnicoZbackendsZsdl2_u1838)(tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g* a_p0, NI a_p0Len_0, tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g item_p1);
N_LIB_PRIVATE N_NIMCALL(tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw, toNicoKeycode__pkgZnicoZbackendsZsdl2_u19)(tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw x_p0);
N_LIB_PRIVATE N_NIMCALL(tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A, toNicoScancode__pkgZnicoZbackendsZsdl2_u22)(tyEnum_Scancode__vEHIUn9c0BakmTIxcQarHJw x_p0);
N_LIB_PRIVATE N_NIMCALL(void, X5BX5Deq___pkgZnicoZbackendsZsdl2_u1933)(tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg* t_p0, tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw key_p1, NU32 val_p2);
static N_INLINE(NI, emarkamp___pureZhashes_u4)(NI h_p0, NI val_p1);
static N_INLINE(NI, hash__pureZhashes_u131)(NI x_p0);
static N_INLINE(NI, hashWangYi1__pureZhashes_u139)(NU64 x_p0);
static N_INLINE(NU64, hiXorLo__pureZhashes_u80)(NU64 a_p0, NU64 b_p1);
static N_INLINE(NU64, hiXorLoFallback64__pureZhashes_u36)(NU64 a_p0, NU64 b_p1);
static N_INLINE(NI, emarkdollar___pureZhashes_u19)(NI h_p0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, charArrayToString__pkgZsdl295nimZsdl_u3847)(NIM_CHAR* a_p0, NI a_p0Len_0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u3412)(tyObject_Event__PhexTflZOX2N20Vr39cGsHg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, appHandleEvent__pkgZnicoZbackendsZsdl2_u1231)(tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg* evt_p0);
N_LIB_PRIVATE N_NIMCALL(void, add__pkgZnicoZbackendsZsdl2_u1255)(tySequence__GyXTUZbNFl9a0ulDnQFpFoA* x_p0, tyObject_Touch__W7l2d79afJabNHgASXk0Cqw* y_p1);
N_CDECL(int, SDL_CaptureMouse)(NIM_BOOL enabled_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ*, eqdup___pkgZnicoZcontroller_u74)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* src_p0);
N_CDECL(void, SDL_GameControllerClose)(void* gamecontroller_p0);
N_LIB_PRIVATE N_NIMCALL(void, del__pkgZnicoZbackendsZsdl2_u1449)(tySequence__friFxHbsLN0MVvin0IyEFg* x_p0, NI i_p1);
N_LIB_PRIVATE N_NIMCALL(void, setButtonState__pkgZnicoZcontroller_u420)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* self_p0, tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw button_p1, NIM_BOOL down_p2);
N_LIB_PRIVATE N_NIMCALL(void, setAxisValue__pkgZnicoZcontroller_u432)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* self_p0, tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg axis_p1, NF value_p2);
N_CDECL(int, SDL_SetRenderDrawColor)(void* renderer_p0, NU8 r_p1, NU8 g_p2, NU8 b_p3, NU8 a_p4);
N_CDECL(int, SDL_RenderClear)(void* renderer_p0);
N_LIB_PRIVATE N_NIMCALL(void, refreshSpritesheets__pkgZnicoZbackendsZsdl2_u674)(void);
N_LIB_PRIVATE N_NIMCALL(void, loadSurfaceFromPNG__pkgZnicoZbackendsZsdl2_u368)(NimStringV2 filename_p0, tyProc__V9bGopLHKFo2FjArm25MFaw callback_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, readFile__pkgZnicoZbackendsZsdl2_u312)(NimStringV2 filename_p0);
N_CDECL(NI64, SDL_RWsize)(tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* context_p0);
N_LIB_PRIVATE N_NIMCALL(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ, newSeq__pkgZnicoZbackendsZcommon_u1280)(NI len_p0);
N_CDECL(size_t, SDL_RWread)(tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* context_p0, void* p_p1, size_t size_p2, size_t maxnum_p3);
N_CDECL(int, SDL_RWclose)(tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* context_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___pureZtimes_u2592)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZtimes_u2595)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ dest_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg*, newStringStream__pureZstreams_u942)(NimStringV2 s_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg*, decodePNG__pkgZnim807871_u11151)(tyObject_StreamObj__bDd24In9b3VuDv2QPQULZmA* s_p0, tyObject_PNGDecodercolonObjectType___GcwpDfDt9c6JckQzZHpx9aMQ* settings_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg*, getInfo__pkgZnicoZbackendsZsdl2_u376)(tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg* png_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_u2690)(NimStringV2* dest_p0, NimStringV2 src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pureZtimes_u2604)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* dest_p0, tySequence__6H5Oh5UUvVCLiakt9aTwtUQ src_p1);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, eqdup___system_u2693)(NimStringV2 src_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw*, convertToIndexed__pkgZnicoZbackendsZcommon_u1597)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZcommon_u1152)(tySequence__wgMvnlQViw7eTDXNUYd1uQ* dest_p0, tySequence__wgMvnlQViw7eTDXNUYd1uQ src_p1);
N_LIB_PRIVATE N_NIMCALL(void*, newSeqPayload)(NI cap_p0, NI elemSize_p1, NI elemAlign_p2);
N_LIB_PRIVATE N_NIMCALL(void, add__pkgZnicoZbackendsZsdl2_u561)(tySequence__wgMvnlQViw7eTDXNUYd1uQ* x_p0, tyTuple__hSHiEU6uEtL7soi1F4tKCg y_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u392)(tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnim807871_u6612)(tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZstreams_u725)(tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg* dest_p0);
N_LIB_PRIVATE N_CLOSURE(void, colonanonymous___pkgZnicoZbackendsZsdl2_u733)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0, void* ClE_0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___pureZtimes_u2598)(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ* dest_p0, tySequence__6H5Oh5UUvVCLiakt9aTwtUQ src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u7979)(tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw* dest_p0);
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p_p0);
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1);
N_LIB_PRIVATE N_NOINLINE(void, rememberCycle__system_u3528)(NIM_BOOL isDestroyAction_p0, tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg* s_p1, TNimTypeV2* desc_p2);
N_LIB_PRIVATE N_NIMCALL(void, nimDestroyAndDispose)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, getFullscreen__pkgZnicoZbackendsZsdl2_u1229)(void);
N_CDECL(NU32, SDL_GetWindowFlags)(void* window_p0);
N_LIB_PRIVATE N_NIMCALL(void, setFullscreen__pkgZnicoZbackendsZsdl2_u1227)(NIM_BOOL fullscreen_p0);
N_CDECL(int, SDL_SetWindowFullscreen)(void* window_p0, NU32 flags_p1);
N_LIB_PRIVATE N_NIMCALL(void, resize__pkgZnicoZbackendsZsdl2_u298)(void);
N_LIB_PRIVATE N_NIMCALL(void, saveRecording__pkgZnicoZbackendsZsdl2_u853)(void);
N_LIB_PRIVATE N_NIMCALL(void, saveScreenshot__pkgZnicoZbackendsZsdl2_u747)(void);
N_LIB_PRIVATE N_NIMCALL(void, noscreateDir)(NimStringV2 dir_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw*, X5BX5D___pkgZnicoZbackendsZsdl2_u802)(tyObject_RingBuffer__5AEViOu9cYv2OfTpleULS2A b_p0, NI i_p1);
N_LIB_PRIVATE N_NIMCALL(void, convertToRGBA__pkgZnicoZbackendsZcommon_u1400)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* src_p0, void* abgrPixels_p1, int dpitch_p2, int w_p3, int h_p4);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, nsuFormatVarargs)(NimStringV2 formatstr_p0, NimStringV2* a_p1, NI a_p1Len_0);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ntgetDateStr)(tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw* dt_p0);
N_LIB_PRIVATE N_NIMCALL(void, now__pureZtimes_u2042)(tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw* Result);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, ntgetClockStr)(tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw* dt_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZtimes_u1688)(tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw* dest_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA*, nospstartProcess)(NimStringV2 command_p0, NimStringV2 workingDir_p1, NimStringV2* args_p2, NI args_p2Len_0, tyObject_StringTableObj__iKFSivqnSQE42YZSbu9cwnA* env_p3, tySet_tyEnum_ProcessOption__Uv0WJtGKhlKIoRPgQ9bhbCA options_p4);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pureZosproc_u214)(tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___pkgZnicoZbackendsZcommon_u2754)(tySequence__QfewH7ZCzlg03Itl2jsx5w* dest_p0, tySequence__QfewH7ZCzlg03Itl2jsx5w src_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZcommon_u2751)(tySequence__QfewH7ZCzlg03Itl2jsx5w dest_p0);
static N_INLINE(void, pluseq___pureZstrutils_u2427)(NF* x_p0, NF y_p1);
N_LIB_PRIVATE N_NIMCALL(void, update__pkgZnicoZcontroller_u182)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* self_p0);
N_LIB_PRIVATE N_NIMCALL(void, postUpdate__pkgZnicoZcontroller_u296)(tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* self_p0);
static N_INLINE(NIM_BOOL, contains__pkgZnicoZbackendsZsdl2_u3626)(tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg* a_p0, NI a_p0Len_0, tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg item_p1);
static N_INLINE(NI, find__pkgZnicoZbackendsZsdl2_u3631)(tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg* a_p0, NI a_p0Len_0, tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg item_p1);
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___pkgZnicoZbackendsZsdl2_u1629)(tyObject_Touch__W7l2d79afJabNHgASXk0Cqw* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, setLen__pkgZnicoZbackendsZcommon_u2193)(tySequence__GyXTUZbNFl9a0ulDnQFpFoA* s_p0, NI newlen_p1);
N_LIB_PRIVATE N_NIMCALL(void, flip__pkgZnicoZbackendsZsdl2_u746)(void);
N_LIB_PRIVATE N_NIMCALL(void, present__pkgZnicoZbackendsZsdl2_u745)(void);
N_LIB_PRIVATE N_NIMCALL(void, convertToABGR__pkgZnicoZbackendsZcommon_u1324)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* src_p0, void* rgbaPixels_p1, int dpitch_p2, int w_p3, int h_p4);
N_CDECL(int, SDL_UpdateTexture)(void* texture_p0, tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ* rect_p1, void* pixels_p2, int pitch_p3);
N_CDECL(int, SDL_RenderCopy)(void* renderer_p0, void* texture_p1, tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ* srcrect_p2, tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ* dstrect_p3);
N_CDECL(void, SDL_RenderPresent)(void* renderer_p0);
N_LIB_PRIVATE N_NIMCALL(NI, len__pkgZnicoZbackendsZsdl2_u3823)(tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg t_p0);
static N_INLINE(NIM_BOOL, isFilled__pureZcollectionsZtables_u31)(NI hcode_p0);
N_LIB_PRIVATE N_NIMCALL(NU32*, X5BX5D___pkgZnicoZbackendsZsdl2_u4127)(tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg* t_p0, tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw key_p1);
static N_INLINE(void, minuseq___pkgZnicoZbackendsZsdl2_u4228)(NF* x_p0, NF y_p1);
N_LIB_PRIVATE N_NIMCALL(NI, queuedAudioSize__pkgZnicoZbackendsZsdl2_u3543)(void);
N_CDECL(NU32, SDL_GetQueuedAudioSize)(NU32 dev_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZsdl2_u6689)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg** dest_p0, tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* src_p1);
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6698)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimRawDispose)(void* p_p0, NI alignment_p1);
N_LIB_PRIVATE N_NIMCALL(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg*, newSfxBuffer__pkgZnicoZbackendsZsdl2_u6665)(NimStringV2 filename_p0);
N_LIB_PRIVATE N_NIMCALL(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg*, new__pkgZnicoZbackendsZsdl2_u6668)(void);
N_NOCONV(tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg*, stb_vorbis_open_memory)(void* data_p0, int len_p1, int* error_p2, void* alloc_buffer_p3);
N_NOCONV(tyObject_VorbisInfo__8z9au9booJEXpPHjdj0gksbQ, stb_vorbis_get_info)(tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* f_p0);
N_NOCONV(unsigned int, stb_vorbis_stream_length_in_samples)(tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* f_p0);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6680)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* dest_p0);
N_LIB_PRIVATE N_NIMCALL(void, nimTestErrorFlag)(void);
static const struct {
  NI cap; NIM_CHAR data[6+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_2 = { 6 | NIM_STRLIT_FLAG, "assets" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_3 = {6, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_2};
static const struct {
  NI cap; NIM_CHAR data[6+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_4 = { 6 | NIM_STRLIT_FLAG, "/IDBFS" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_5 = {6, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_4};
static const struct {
  NI cap; NIM_CHAR data[20+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_6 = { 20 | NIM_STRLIT_FLAG, "gamecontrollerdb.txt" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_7 = {20, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_6};
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_8 = {20, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_6};
extern TNimTypeV2 NTIv2__XEycrCsme5C8CVWAYEcdBQ_;
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_9 = { 26 | NIM_STRLIT_FLAG, "Unable to initialize audio" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_10 = {26, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_9};
static const struct {
  NI cap; NIM_CHAR data[35+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_11 = { 35 | NIM_STRLIT_FLAG, "Unable to open audio input device: " };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_12 = {35, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_11};
static NIM_CONST tyProc__HzVCwACFYM9cx9aV62PdjtuA TM__lQXcKkYGF8KYpfC3LuZn2A_13 = {NIM_NIL,NIM_NIL};
static const struct {
  NI cap; NIM_CHAR data[22+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_16 = { 22 | NIM_STRLIT_FLAG, "error queueing audio: " };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_17 = {22, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_16};
static const struct {
  NI cap; NIM_CHAR data[10+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_18 = { 10 | NIM_STRLIT_FLAG, "config.ini" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_19 = {10, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_18};
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_20 = {10, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_18};
static const struct {
  NI cap; NIM_CHAR data[23+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_21 = { 23 | NIM_STRLIT_FLAG, "Could not create window" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_22 = {23, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_21};
static const struct {
  NI cap; NIM_CHAR data[26+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_23 = { 26 | NIM_STRLIT_FLAG, "error creating RGB surface" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_24 = {26, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_23};
static NIM_CONST tyProc__9cFudSqKwo7KIwGlL9bTobiA TM__lQXcKkYGF8KYpfC3LuZn2A_29 = {NIM_NIL,NIM_NIL};
N_LIB_PRIVATE TNimTypeV2 NTIv2__X7FnXK6jNyJ9awQQk3PLdLw_;
extern TNimTypeV2 NTIv2__YfyTxe9cThBYfr9aHkc9cltBw_;
static const struct {
  NI cap; NIM_CHAR data[21+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_33 = { 21 | NIM_STRLIT_FLAG, "Unable to open file: " };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_34 = {21, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_33};
extern TNimTypeV2 NTIv2__jv4UdNhSLvgRCLMhwqIjHw_;
static const struct {
  NI cap; NIM_CHAR data[12+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_39 = { 12 | NIM_STRLIT_FLAG, "/screenshots" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_40 = {12, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_39};
static const struct {
  NI cap; NIM_CHAR data[11+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_41 = { 11 | NIM_STRLIT_FLAG, "screenshots" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_42 = {11, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_41};
static const struct {
  NI cap; NIM_CHAR data[20+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_43 = { 20 | NIM_STRLIT_FLAG, "screenshot-$1T$2.png" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_44 = {20, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_43};
static const struct {
  NI cap; NIM_CHAR data[8+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_45 = { 8 | NIM_STRLIT_FLAG, "xdg-open" };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_46 = {8, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_45};
static const struct {
  NI cap; NIM_CHAR data[27+1];
} TM__lQXcKkYGF8KYpfC3LuZn2A_52 = { 27 | NIM_STRLIT_FLAG, "error opening vorbis file: " };
static const NimStringV2 TM__lQXcKkYGF8KYpfC3LuZn2A_53 = {27, (NimStrPayload*)&TM__lQXcKkYGF8KYpfC3LuZn2A_52};
static NIM_CONST tyArray__c5lnLEfRlDwbqHOXeIhApQ TM__lQXcKkYGF8KYpfC3LuZn2A_27 = {((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1025),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1026),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1024),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)768),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)769),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1027),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)771),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1618),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1617),
((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1616)}
;
static NIM_CONST tyArray__odD3OrSf9bkvqRPpOUKRvXQ TM__lQXcKkYGF8KYpfC3LuZn2A_48 = {((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)3),
((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)4)}
;
N_LIB_PRIVATE tySequence__4Xyxy0Om14N6K1l5e9bUPSQ inputSamples__pkgZnicoZbackendsZsdl2_u118;
N_LIB_PRIVATE tySequence__4Xyxy0Om14N6K1l5e9bUPSQ outputSamples__pkgZnicoZbackendsZsdl2_u119;
N_LIB_PRIVATE tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g* config__pkgZnicoZbackendsZsdl2_u132;
N_LIB_PRIVATE tyObject_RingBuffer__5AEViOu9cYv2OfTpleULS2A recordFrames__pkgZnicoZbackendsZsdl2_u139;
N_LIB_PRIVATE tyArray__rI9cN53rlLps39bq8FMId9b2Q sfxBufferLibrary__pkgZnicoZbackendsZsdl2_u140;
N_LIB_PRIVATE tyArray__TLUjAhnMfzBtYkb49czB0KA musicFileLibrary__pkgZnicoZbackendsZsdl2_u141;
N_LIB_PRIVATE tyArray__9ct6ChkkKOZOxiC0M4Gk5Ww audioChannels__pkgZnicoZbackendsZsdl2_u143;
N_LIB_PRIVATE NIM_BOOL linearFilter__pkgZnicoZbackendsZsdl2_u109 = NIM_FALSE;
N_LIB_PRIVATE NU32 audioDeviceId__pkgZnicoZbackendsZsdl2_u110;
N_LIB_PRIVATE NU32 audioInDeviceId__pkgZnicoZbackendsZsdl2_u111;
N_LIB_PRIVATE void* window__pkgZnicoZbackendsZsdl2_u112;
N_LIB_PRIVATE NIM_BOOL noAudio__pkgZnicoZbackendsZsdl2_u113 = NIM_TRUE;
N_LIB_PRIVATE NF32 audioInSample__pkgZnicoZbackendsZsdl2_u114;
N_LIB_PRIVATE NI audioBufferSize__pkgZnicoZbackendsZsdl2_u115 = ((NI)2048);
N_LIB_PRIVATE NI displayWidth__pkgZnicoZbackendsZsdl2_u116;
N_LIB_PRIVATE NI displayHeight__pkgZnicoZbackendsZsdl2_u117;
N_LIB_PRIVATE NI nextTick__pkgZnicoZbackendsZsdl2_u120 = ((NI)0);
N_LIB_PRIVATE NIM_BOOL audioClock__pkgZnicoZbackendsZsdl2_u121;
N_LIB_PRIVATE NI nextAudioClock__pkgZnicoZbackendsZsdl2_u122 = ((NI)0);
N_LIB_PRIVATE NIM_BOOL vsyncEnabled__pkgZnicoZbackendsZsdl2_u123;
N_LIB_PRIVATE void* render__pkgZnicoZbackendsZsdl2_u124;
N_LIB_PRIVATE void* hwCanvas__pkgZnicoZbackendsZsdl2_u125;
N_LIB_PRIVATE tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg* swCanvas32__pkgZnicoZbackendsZsdl2_u126;
N_LIB_PRIVATE tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ srcRect__pkgZnicoZbackendsZsdl2_u127;
N_LIB_PRIVATE tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ dstRect__pkgZnicoZbackendsZsdl2_u128;
N_LIB_PRIVATE NU32 current_time__pkgZnicoZbackendsZsdl2_u129;
N_LIB_PRIVATE NF acc__pkgZnicoZbackendsZsdl2_u130 = 0.0;
N_LIB_PRIVATE NU32 next_time__pkgZnicoZbackendsZsdl2_u131;
N_LIB_PRIVATE NU32 audioSampleId__pkgZnicoZbackendsZsdl2_u142;
N_LIB_PRIVATE NF32 realDt__pkgZnicoZbackendsZsdl2_u3545;
N_LIB_PRIVATE NIM_BOOL configInitialised__pkgZnicoZbackendsZsdl2_u4437 = NIM_FALSE;
N_LIB_PRIVATE NIM_BOOL wait__pkgZnicoZbackendsZsdl2_u6662 = NIM_TRUE;
extern tySequence__friFxHbsLN0MVvin0IyEFg controllers__pkgZnicoZbackendsZcommon_u996;
extern NimStringV2 basePath__pkgZnicoZbackendsZcommon_u1020;
extern NimStringV2 assetPath__pkgZnicoZbackendsZcommon_u1021;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4433;
extern NimStringV2 writePath__pkgZnicoZbackendsZcommon_u1022;
extern NIM_THREADVAR Exception* currException__system_u4140;
extern NF32 sampleRate__pkgZnicoZbackendsZcommon_u867;
extern NF32 invSampleRate__pkgZnicoZbackendsZcommon_u868;
extern tyProc__HzVCwACFYM9cx9aV62PdjtuA audioTickCallback__pkgZnicoZbackendsZcommon_u870;
extern NI currentBpm__pkgZnicoZbackendsZcommon_u871;
extern NI currentTpb__pkgZnicoZbackendsZcommon_u872;
extern NF32 sfxVolume__pkgZnicoZbackendsZcommon_u865;
extern NF32 musicVolume__pkgZnicoZbackendsZcommon_u866;
extern NF32 masterVolume__pkgZnicoZbackendsZcommon_u864;
extern NI targetScreenWidth__pkgZnicoZbackendsZcommon_u917;
extern NI targetScreenHeight__pkgZnicoZbackendsZcommon_u918;
extern NIM_BOOL integerScreenScale__pkgZnicoZbackendsZcommon_u920;
extern NF screenScale__pkgZnicoZbackendsZcommon_u1023;
extern NIM_BOOL fixedScreenSize__pkgZnicoZbackendsZcommon_u919;
extern NI screenPaddingX__pkgZnicoZbackendsZcommon_u923;
extern NI screenPaddingY__pkgZnicoZbackendsZcommon_u924;
extern NI screenWidth__pkgZnicoZbackendsZcommon_u921;
extern NI screenHeight__pkgZnicoZbackendsZcommon_u922;
extern NI clipMinX__pkgZnicoZbackendsZcommon_u1058;
extern NI clipMinY__pkgZnicoZbackendsZcommon_u1060;
extern NI clipMaxX__pkgZnicoZbackendsZcommon_u1059;
extern NI clipMaxY__pkgZnicoZbackendsZcommon_u1061;
extern tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* swCanvas__pkgZnicoZbackendsZcommon_u888;
extern tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* stencilBuffer__pkgZnicoZbackendsZcommon_u889;
extern tySequence__pcXSChh0J6OCdCDPpBK9b1g resizeFuncs__pkgZnicoZbackendsZcommon_u1039;
extern NIM_BOOL keepRunning__pkgZnicoZbackendsZcommon_u1055;
extern NIM_BOOL initFuncCalled__pkgZnicoZbackendsZcommon_u1030;
extern tyProc__HzVCwACFYM9cx9aV62PdjtuA initFunc__pkgZnicoZbackendsZcommon_u1029;
extern tyObject_Table__Ve9bn55DYmdh0AMXQm5C0gg keysDown__pkgZnicoZbackendsZcommon_u244;
extern NIM_BOOL aKeyWasPressed__pkgZnicoZbackendsZcommon_u245;
extern NIM_BOOL aKeyWasReleased__pkgZnicoZbackendsZcommon_u246;
extern tySequence__eXQ7qBth9b8fN9aDUGBmEWLg eventListeners__pkgZnicoZbackendsZcommon_u884;
extern NIM_BOOL focused__pkgZnicoZbackendsZcommon_u997;
extern tySequence__GyXTUZbNFl9a0ulDnQFpFoA touches__pkgZnicoZbackendsZcommon_u862;
extern NI mouseWheelState__pkgZnicoZbackendsZcommon_u1076;
extern NIM_BOOL touchMouseEmulation__pkgZnicoZbackendsZcommon_u863;
extern tyArray__xSxqoPo7Fj4uIDcWiYyWDg mouseButtonsDown__pkgZnicoZbackendsZcommon_u1074;
extern tyArray__Bd4h7Ocx9bGTvrKzPIWNlHw mouseButtons__pkgZnicoZbackendsZcommon_u1075;
extern NIM_BOOL mouseDetected__pkgZnicoZbackendsZcommon_u1063;
extern NI mouseRawX__pkgZnicoZbackendsZcommon_u1066;
extern NI mouseRawY__pkgZnicoZbackendsZcommon_u1067;
extern NI mouseX__pkgZnicoZbackendsZcommon_u1064;
extern NI mouseY__pkgZnicoZbackendsZcommon_u1065;
extern tyProc__9cFudSqKwo7KIwGlL9bTobiA controllerAddedFunc__pkgZnicoZbackendsZcommon_u992;
extern tyProc__9cFudSqKwo7KIwGlL9bTobiA controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995;
static NIM_CONST NU32 TM__lQXcKkYGF8KYpfC3LuZn2A_32[2] = {3701606400, 2976340992};
N_LIB_PRIVATE TNimTypeV2 NTIv2__X7FnXK6jNyJ9awQQk3PLdLw_ = {.destructor = (void*)NIM_NIL, .size = sizeof(tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw), .align = (NI16) NIM_ALIGNOF(tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw), .depth = 1, .display = TM__lQXcKkYGF8KYpfC3LuZn2A_32, .traceImpl = (void*)NIM_NIL, .flags = 0};
extern tyArray__WGdFp1x1TRhEll6Qsgf9cLQ spritesheets__pkgZnicoZbackendsZcommon_u1024;
extern tySequence__EtvC1a2T849cB0SNWHj6Fbg keyListeners__pkgZnicoZbackendsZcommon_u879;
extern tyArray__4vilY9btTc3ckSe1VekvIyQ keymap__pkgZnicoZbackendsZcommon_u989;
extern NI frameMult__pkgZnicoZbackendsZcommon_u1019;
extern NF timeStep__pkgZnicoZbackendsZcommon_u1018;
extern tyProc__y9aUXu4JGz72YDIZVWUrK5w updateFunc__pkgZnicoZbackendsZcommon_u1033;
extern NI frame__pkgZnicoZbackendsZcommon_u1043;
extern tyProc__HzVCwACFYM9cx9aV62PdjtuA drawFunc__pkgZnicoZbackendsZcommon_u1035;
extern NF32 mouseRelX__pkgZnicoZbackendsZcommon_u1068;
extern NI lastMouseRawX__pkgZnicoZbackendsZcommon_u1072;
extern NF32 mouseRelY__pkgZnicoZbackendsZcommon_u1069;
extern NI lastMouseRawY__pkgZnicoZbackendsZcommon_u1073;
extern NI lastMouseX__pkgZnicoZbackendsZcommon_u1070;
extern NI lastMouseY__pkgZnicoZbackendsZcommon_u1071;
N_LIB_PRIVATE N_CDECL(void, initConfigDone)(void) {
	configInitialised__pkgZnicoZbackendsZsdl2_u4437 = NIM_TRUE;
}
static N_INLINE(void, quit__system_u8177)(NI errorcode_p0) {
	{
		if (!(errorcode_p0 < ((NI)-128))) goto LA3_;
		exit(((int)-128));
	}
	goto LA1_;
LA3_: ;
	{
		if (!(((NI)127) < errorcode_p0)) goto LA6_;
		exit(((int)127));
	}
	goto LA1_;
LA6_: ;
	{
		exit(((int) (errorcode_p0)));
	}
LA1_: ;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4433);
	return result;
}
static N_INLINE(NimStringV2, slash___stdZprivateZospaths2_u88)(NimStringV2 head_p0, NimStringV2 tail_p1) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = nosjoinPath(head_p0, tail_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, eqdestroy___system_u281)(NimStringV2 x_p0) {
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringV2 s_p0) {
	NCSTRING result;
	{
		if (!(s_p0.len == ((NI)0))) goto LA3_;
		result = "";
	}
	goto LA1_;
LA3_: ;
	{
		result = ((NCSTRING) ((*s_p0.p).data));
	}
LA1_: ;
	return result;
}
static N_INLINE(void, popCurrentException)(void) {
	eqcopy___stdZtypedthreads_u223(&currException__system_u4140, (*currException__system_u4140).up, NIM_FALSE);
}
N_LIB_PRIVATE N_NIMCALL(void, initConfig__pkgZnicoZbackendsZsdl2_u4439)(void) {
	configInitialised__pkgZnicoZbackendsZsdl2_u4437 = NIM_FALSE;
	    EM_ASM(
       //create your directory where we keep our persistent data
       FS.mkdir('/IDBFS'); 

       //mount persistent directory as IDBFS
       FS.mount(IDBFS,{},'/IDBFS');

       Module.print("start file sync..");
       //flag to check when data are synchronized
       Module.syncdone = 0;

       //populate persistent_data directory with existing persistent source data 
      //stored with Indexed Db
      //first parameter = "true" mean synchronize from Indexed Db to 
      //Emscripten file system,
      // "false" mean synchronize from Emscripten file system to Indexed Db
      //second parameter = function called when data are synchronized
      FS.syncfs(true, function(err) {
                       Module.print("syncfs done");
                       Module.print(err);
                       assert(!err);
                       ccall("initConfigDone", "v");
                       Module.print("end file sync..");
                       Module.syncdone = 1;
      });
    );
    
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(void, nimCopyMem)(void* dest_p0, void* source_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest_p0, source_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, copyMem__system_u1731)(void* dest_p0, void* source_p1, NI size_p2) {
	nimCopyMem(dest_p0, source_p1, size_p2);
}
static N_INLINE(void, appendString)(NimStringV2* dest_p0, NimStringV2 src_p1) {
	{
		if (!(((NI)0) < src_p1.len)) goto LA3_;
		copyMem__system_u1731(((void*) ((&(*(*dest_p0).p).data[(*dest_p0).len]))), ((void*) ((&(*src_p1.p).data[((NI)0)]))), ((NI)(src_p1.len + ((NI)1))));
		(*dest_p0).len += src_p1.len;
	}
LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6077)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ dest_p0) {
	if (dest_p0.p && !(dest_p0.p->cap & NIM_STRLIT_FLAG)) {
 alignedDealloc(dest_p0.p, NIM_ALIGNOF(NF32));
}
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZsdl2_u6086)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* dest_p0, tySequence__4Xyxy0Om14N6K1l5e9bUPSQ src_p1) {
	if ((*dest_p0).p != src_p1.p) {	eqdestroy___pkgZnicoZbackendsZsdl2_u6077((*dest_p0));
	}
(*dest_p0).len = src_p1.len; (*dest_p0).p = src_p1.p;
}
static N_INLINE(NI32, toPint__pkgZnicoZbackendsZcommon_u851)(NF32 x_p0) {
	NI32 result;
	NF32 T1_;
{	T1_ = (NF32)0;
	T1_ = floorf(x_p0);
	result = ((NI32) (T1_));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, resetChannel__pkgZnicoZbackendsZsdl2_u166)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* channel_p0) {
	(*channel_p0).kind = ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)0);
	(*channel_p0).synthDataIndex = ((NI)-1);
	{
		if (!!(((*channel_p0).musicFile == ((tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg*) NIM_NIL)))) goto LA3_;
		stb_vorbis_close((*channel_p0).musicFile);
		(*channel_p0).musicFile = ((tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg*) NIM_NIL);
	}
LA3_: ;
}
static N_INLINE(void, pluseq___pkgZnicoZbackendsZsdl2_u5859)(NF32* x_p0, NF32 y_p1) {
	(*x_p0) = ((NF32)((*x_p0)) + (NF32)(y_p1));
}
static N_INLINE(NF, abs__pureZmath_u218)(NF x_p0) {
	NF result;
	result = (NF)0;
	result = fabs(x_p0);
	return result;
}
static N_INLINE(NF, toFloat__system_u1681)(NI i_p0) {
	NF result;
	result = ((NF) (i_p0));
	return result;
}
static N_INLINE(NF, slash___system_u1693)(NI x_p0, NI y_p1) {
	NF result;
	NF T1_;
	NF T2_;
	T1_ = (NF)0;
	T1_ = toFloat__system_u1681(x_p0);
	T2_ = (NF)0;
	T2_ = toFloat__system_u1681(y_p1);
	result = ((NF)(T1_) / (NF)(T2_));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NF32, processSynth__pkgZnicoZbackendsZsdl2_u5840)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* self_p0) {
	NF32 result;
	NF32 o;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NF32)0;
	{
		NF T41_;
		if (!((NU32)((NU32)(audioSampleId__pkgZnicoZbackendsZsdl2_u142) % (NU32)(((NU32)2))) == ((NU32)0))) goto LA3_;
		{
			if (!audioClock__pkgZnicoZbackendsZsdl2_u121) goto LA7_;
			{
				NI i;
				if (!(((NI)0) <= (*self_p0).synthDataIndex)) goto LA11_;
				i = (NI)((*self_p0).synthDataIndex / (NI)(((NI) ((*self_p0).synthData.Field0)) + ((NI)1)));
				{
					NI T17_;
					NF32 T18_;
					if (!(i < ((NI) ((*self_p0).synthData.Field2)))) goto LA15_;
					(*self_p0).shape = (*self_p0).synthData.Field1[(i)- 0].Field2;
					T17_ = (NI)0;
					T17_ = toInt__pkgZsdl295nimZsdl_u581((*self_p0).synthData.Field1[(i)- 0].Field0);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					T18_ = (NF32)0;
					T18_ = note__pkgZnicoZbackendsZcommon_u718(T17_);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					(*self_p0).basefreq = T18_;
					(*self_p0).targetFreq = (*self_p0).basefreq;
					(*self_p0).freq = (*self_p0).basefreq;
					(*self_p0).trigger = NIM_TRUE;
					(*self_p0).init = ((NI) ((*self_p0).synthData.Field1[(i)- 0].Field1));
					(*self_p0).env = ((NI)0);
					(*self_p0).envPhase = ((NI)0);
					(*self_p0).pchange = ((NI)0);
					(*self_p0).synthDataIndex += ((NI)1);
				}
				goto LA13_;
LA15_: ;
				{
					{
						if (!((NU8)(((NU8)0)) < (NU8)((*self_p0).synthData.Field3))) goto LA22_;
						{
							if (!!(((*self_p0).synthData.Field3 == ((NU8)15)))) goto LA26_;
							(*self_p0).synthData.Field3 -= ((NI)1);
						}
LA26_: ;
						{
							if (!((NU8)(((NU8)0)) < (NU8)((*self_p0).synthData.Field3))) goto LA30_;
							(*self_p0).synthDataIndex = ((NI)0);
						}
LA30_: ;
					}
					goto LA20_;
LA22_: ;
					{
						resetChannel__pkgZnicoZbackendsZsdl2_u166(self_p0);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					}
LA20_: ;
				}
LA13_: ;
			}
LA11_: ;
		}
LA7_: ;
		{
			if (!((*self_p0).glide == ((NI)0))) goto LA35_;
			(*self_p0).freq = (*self_p0).targetFreq;
		}
		goto LA33_;
LA35_: ;
		{
			NF32 T40_;
			if (!audioClock__pkgZnicoZbackendsZsdl2_u121) goto LA38_;
			T40_ = (NF32)0;
			T40_ = lerp__pkgZnicoZbackendsZsdl2_u5853((*self_p0).freq, (*self_p0).targetFreq, ((NF32) (((NF)(1.0) - (NF)(((NF)(((NF) (((NF32) ((*self_p0).glide))))) / (NF)(16.0)))))));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			(*self_p0).freq = T40_;
		}
		goto LA33_;
LA38_: ;
LA33_: ;
		pluseq___pkgZnicoZbackendsZsdl2_u5859((&(*self_p0).phase), ((NF32) (((NF)(((NF) (((NF32)((*self_p0).freq) * (NF32)(invSampleRate__pkgZnicoZbackendsZcommon_u868))))) * (NF)(6.283185307179586)))));
		T41_ = (NF)0;
		T41_ = fmod(((NF) ((*self_p0).phase)), 6.283185307179586);
		(*self_p0).phase = ((NF32) (T41_));
	}
LA3_: ;
	o = 0.0f;
	switch ((*self_p0).shape) {
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)1):
	{
		o = sinf((*self_p0).phase);
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)2):
	{
		NF colontmpD_;
		NF colontmpD__2;
		NF T44_;
		colontmpD_ = (NF)0;
		colontmpD__2 = (NF)0;
		T44_ = (NF)0;
		{
			NF T47_;
			T47_ = (NF)0;
			T47_ = fmod(((NF) ((*self_p0).phase)), 6.283185307179586);
			if (!(T47_ < 3.141592653589793)) goto LA48_;
			colontmpD_ = 1.0;
			T44_ = colontmpD_;
		}
		goto LA45_;
LA48_: ;
		{
			colontmpD__2 = -1.0;
			T44_ = colontmpD__2;
		}
LA45_: ;
		o = ((NF32) (((NF)(T44_) * (NF)(0.577))));
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)3):
	{
		NF colontmpD__3;
		NF colontmpD__4;
		NF T52_;
		colontmpD__3 = (NF)0;
		colontmpD__4 = (NF)0;
		T52_ = (NF)0;
		{
			NF T55_;
			T55_ = (NF)0;
			T55_ = fmod(((NF) ((*self_p0).phase)), 6.283185307179586);
			if (!(T55_ < 0.7853981633974483)) goto LA56_;
			colontmpD__3 = 1.0;
			T52_ = colontmpD__3;
		}
		goto LA53_;
LA56_: ;
		{
			colontmpD__4 = -1.0;
			T52_ = colontmpD__4;
		}
LA53_: ;
		o = ((NF32) (((NF)(T52_) * (NF)(0.577))));
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)4):
	{
		NF colontmpD__5;
		NF colontmpD__6;
		NF T60_;
		colontmpD__5 = (NF)0;
		colontmpD__6 = (NF)0;
		T60_ = (NF)0;
		{
			NF T63_;
			T63_ = (NF)0;
			T63_ = fmod(((NF) ((*self_p0).phase)), 6.283185307179586);
			if (!(T63_ < 1.5707963267948966)) goto LA64_;
			colontmpD__5 = 1.0;
			T60_ = colontmpD__5;
		}
		goto LA61_;
LA64_: ;
		{
			colontmpD__6 = -1.0;
			T60_ = colontmpD__6;
		}
LA61_: ;
		o = ((NF32) (((NF)(T60_) * (NF)(0.577))));
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)6):
	{
		NF T68_;
		NF T69_;
		T68_ = (NF)0;
		T68_ = fmod(((NF) ((*self_p0).phase)), 6.283185307179586);
		T69_ = (NF)0;
		T69_ = abs__pureZmath_u218(((NF)(((NF)(((NF)(T68_) / (NF)(6.283185307179586))) * (NF)(2.0))) - (NF)(1.0)));
		o = ((NF32) (((NF)(((NF)(((NF)(T69_) * (NF)(2.0))) - (NF)(1.0))) * (NF)(0.7))));
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)5):
	{
		NF T71_;
		T71_ = (NF)0;
		T71_ = fmod(((NF) ((*self_p0).phase)), 6.283185307179586);
		o = ((NF32) (((NF)(((NF)(((NF)(T71_) - (NF)(3.141592653589793))) / (NF)(3.141592653589793))) * (NF)(0.5))));
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)7):
	{
		{
			if (!!((((NF) ((*self_p0).freq)) == 0.0))) goto LA75_;
			{
				NF32 colontmpD__7;
				NF32 colontmpD__8;
				NU32 lsb;
				if (!((*self_p0).nextClick <= ((NI)0))) goto LA79_;
				colontmpD__7 = (NF32)0;
				colontmpD__8 = (NF32)0;
				lsb = (NU32)((*self_p0).lfsr & ((NU32)1));
				(*self_p0).lfsr = (NU32)((NU32)((*self_p0).lfsr) >> (NU32)(((NI)1)));
				{
					if (!(lsb == ((NU32)1))) goto LA83_;
					(*self_p0).lfsr = (NU32)((*self_p0).lfsr ^ ((NU32)46080));
				}
LA83_: ;
				{
					if (!(lsb == ((NU32)1))) goto LA87_;
					colontmpD__7 = 1.0f;
					(*self_p0).outvalue = colontmpD__7;
				}
				goto LA85_;
LA87_: ;
				{
					colontmpD__8 = -1.0f;
					(*self_p0).outvalue = colontmpD__8;
				}
LA85_: ;
				(*self_p0).nextClick = ((NI) (((NF32)(((NF32)(1.0f) / (NF32)((*self_p0).freq))) * (NF32)(sampleRate__pkgZnicoZbackendsZcommon_u867))));
			}
LA79_: ;
			(*self_p0).nextClick -= ((NI)1);
		}
LA75_: ;
		o = (*self_p0).outvalue;
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)8):
	{
		{
			if (!!((((NF) ((*self_p0).freq)) == 0.0))) goto LA93_;
			{
				NF32 colontmpD__9;
				NF32 colontmpD__10;
				NU32 lsb_2;
				if (!((*self_p0).nextClick <= ((NI)0))) goto LA97_;
				colontmpD__9 = (NF32)0;
				colontmpD__10 = (NF32)0;
				lsb_2 = (NU32)((*self_p0).lfsr2 & ((NU32)1));
				(*self_p0).lfsr2 = (NU32)((NU32)((*self_p0).lfsr2) >> (NU32)(((NI)1)));
				{
					if (!(lsb_2 == ((NU32)1))) goto LA101_;
					(*self_p0).lfsr2 = (NU32)((*self_p0).lfsr2 ^ ((NU32)67));
				}
LA101_: ;
				{
					if (!(lsb_2 == ((NU32)1))) goto LA105_;
					colontmpD__9 = 1.0f;
					(*self_p0).outvalue = colontmpD__9;
				}
				goto LA103_;
LA105_: ;
				{
					colontmpD__10 = -1.0f;
					(*self_p0).outvalue = colontmpD__10;
				}
LA103_: ;
				(*self_p0).nextClick = ((NI) (((NF32)(((NF32)(1.0f) / (NF32)((*self_p0).freq))) * (NF32)(sampleRate__pkgZnicoZbackendsZcommon_u867))));
			}
LA97_: ;
			(*self_p0).nextClick -= ((NI)1);
		}
LA93_: ;
		o = (*self_p0).outvalue;
	}
	break;
	case ((tyEnum_SynthShape__HfZjiipv6DYNKF9bpYMrUQg)9):
	{
		{
			NF T113_;
			if (!!((((NF) ((*self_p0).freq)) == 0.0))) goto LA111_;
			T113_ = (NF)0;
			T113_ = fmod(((NF) ((*self_p0).phase)), 1.0);
			o = ((NF32) (((NF)(((NF) (((NF32) ((*self_p0).wavData[(((NI) (((NF)(T113_) * (NF)(32.0)))))- 0]))))) / (NF)(16.0))));
		}
LA111_: ;
	}
	break;
	default:
	{
		o = 0.0f;
	}
	break;
	}
	o = ((NF32)(o) * (NF32)((*self_p0).gain));
	{
		if (!((NU32)((NU32)(audioSampleId__pkgZnicoZbackendsZsdl2_u142) % (NU32)(((NU32)2))) == ((NU32)0))) goto LA117_;
		{
			NF32 T162_;
			if (!audioClock__pkgZnicoZbackendsZsdl2_u121) goto LA121_;
			{
				if (!(((NI)0) < (*self_p0).length)) goto LA125_;
				(*self_p0).length -= ((NI)1);
				{
					if (!((*self_p0).length == ((NI)0))) goto LA129_;
					(*self_p0).kind = ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)0);
				}
LA129_: ;
			}
LA125_: ;
			(*self_p0).envPhase += ((NI)1);
			{
				NF32 T135_;
				if (!(((NI)0) < (*self_p0).vibamount)) goto LA133_;
				T135_ = (NF32)0;
				T135_ = sinf(((NF32)(((NF32) ((*self_p0).envPhase))) / (NF32)(((NF32) ((*self_p0).vibspeed)))));
				(*self_p0).freq = ((NF32)((*self_p0).basefreq) + (NF32)(((NF32)(((NF32)(((NF32)(T135_) * (NF32)((*self_p0).basefreq))) * (NF32)(0.03f))) * (NF32)(((NF32) ((*self_p0).vibamount))))));
			}
LA133_: ;
			{
				if (!!(((*self_p0).pchange == ((NI)0)))) goto LA138_;
				(*self_p0).targetFreq = ((NF32)((*self_p0).targetFreq) + (NF32)(((NF32)(((NF32)((*self_p0).targetFreq) * (NF32)(((NF32) ((*self_p0).pchange))))) / (NF32)(128.0f))));
				(*self_p0).basefreq = (*self_p0).targetFreq;
				(*self_p0).freq = (*self_p0).targetFreq;
				{
					if (!(((NF32)(sampleRate__pkgZnicoZbackendsZcommon_u867) * (NF32)(0.5f)) < (*self_p0).targetFreq)) goto LA142_;
					(*self_p0).targetFreq = ((NF32)(sampleRate__pkgZnicoZbackendsZcommon_u867) * (NF32)(0.5f));
				}
LA142_: ;
			}
LA138_: ;
			{
				NF T148_;
				NF32 T149_;
				if (!((*self_p0).env < ((NI)0))) goto LA146_;
				T148_ = (NF)0;
				T148_ = slash___system_u1693((*self_p0).envPhase, (NI)(((NI32)-((*self_p0).env)) * ((NI)4)));
				T149_ = (NF32)0;
				T149_ = lerp__pkgZnicoZbackendsZsdl2_u5853(((NF32)(((NF32) ((*self_p0).init))) / (NF32)(15.0f)), 0.0f, ((NF32) (T148_)));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				(*self_p0).envValue = clamp__pkgZnicoZbackendsZsdl2_u5898(T149_, 0.0f, 1.0f);
				{
					if (!((*self_p0).envValue <= 0.0f)) goto LA152_;
					(*self_p0).kind = ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)0);
				}
LA152_: ;
			}
			goto LA144_;
LA146_: ;
			{
				NF T157_;
				NF32 T158_;
				if (!(((NI)0) < (*self_p0).env)) goto LA155_;
				T157_ = (NF)0;
				T157_ = slash___system_u1693((*self_p0).envPhase, (NI)((*self_p0).env * ((NI)4)));
				T158_ = (NF32)0;
				T158_ = lerp__pkgZnicoZbackendsZsdl2_u5853(((NF32)(((NF32) ((*self_p0).init))) / (NF32)(15.0f)), 1.0f, ((NF32) (T157_)));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				(*self_p0).envValue = clamp__pkgZnicoZbackendsZsdl2_u5898(T158_, 0.0f, 1.0f);
			}
			goto LA144_;
LA155_: ;
			{
				if (!((*self_p0).env == ((NI)0))) goto LA160_;
				(*self_p0).envValue = ((NF32)(((NF32) ((*self_p0).init))) / (NF32)(15.0f));
			}
			goto LA144_;
LA160_: ;
LA144_: ;
			T162_ = (NF32)0;
			T162_ = lerp__pkgZnicoZbackendsZsdl2_u5853((*self_p0).gain, (*self_p0).envValue, 0.9f);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			(*self_p0).gain = clamp__pkgZnicoZbackendsZsdl2_u5898(T162_, 0.0f, 1.0f);
		}
LA121_: ;
	}
LA117_: ;
	result = ((NF32)(o) * (NF32)(sfxVolume__pkgZnicoZbackendsZcommon_u865));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(void, stareq___pkgZnicoZbackendsZsdl2_u6048)(int* x_p0, int y_p1) {
	(*x_p0) = (NI32)((*x_p0) * y_p1);
}
N_LIB_PRIVATE N_NIMCALL(NF32, process__pkgZnicoZbackendsZsdl2_u6000)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* self_p0) {
	NF32 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NF32)0;
	switch ((*self_p0).kind) {
	case ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)0):
	{
		result = 0.0f;
		goto BeforeRet_;
	}
	break;
	case ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)1):
	{
		result = processSynth__pkgZnicoZbackendsZsdl2_u5840(self_p0);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		goto BeforeRet_;
	}
	break;
	case ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)2):
	{
		NF32 o;
		NF32 T4_;
		o = 0.0f;
		T4_ = (NF32)0;
		T4_ = interpolatedLookup__pkgZnicoZbackendsZsdl2_u6004((((*(*self_p0).buffer).data).p) ? ((*(*self_p0).buffer).data.p->data) : NIM_NIL, (*(*self_p0).buffer).data.len, (*self_p0).phase);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		o = ((NF32)(T4_) * (NF32)((*self_p0).gain));
		{
			if (!((NU32)((NU32)(audioSampleId__pkgZnicoZbackendsZsdl2_u142) % (NU32)(((NU32)2))) == ((NU32)0))) goto LA7_;
			pluseq___pkgZnicoZbackendsZsdl2_u5859((&(*self_p0).phase), (*self_p0).freq);
			{
				NI T11_;
				NI32 T12_;
				NI T15_;
				T11_ = (*(*self_p0).buffer).data.len;
				T12_ = (NI32)0;
				T12_ = toPint__pkgZnicoZbackendsZcommon_u851((*self_p0).phase);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				if (!(((NI32) (T11_)) <= T12_)) goto LA13_;
				T15_ = (*(*self_p0).buffer).data.len;
				(*self_p0).phase = fmodf((*self_p0).phase, ((NF32) (T15_)));
				{
					if (!(((NI)0) < (*self_p0).loop)) goto LA18_;
					(*self_p0).loop -= ((NI)1);
					{
						if (!((*self_p0).loop == ((NI)0))) goto LA22_;
						(*self_p0).kind = ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)0);
					}
LA22_: ;
				}
LA18_: ;
			}
LA13_: ;
		}
LA7_: ;
		result = ((NF32)(o) * (NF32)(sfxVolume__pkgZnicoZbackendsZcommon_u865));
		goto BeforeRet_;
	}
	break;
	case ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)3):
	{
		NF32 o_2;
		NF32 T31_;
		{
			NIM_BOOL T27_;
			T27_ = (NIM_BOOL)0;
			T27_ = ((NU32)((NU32)(audioSampleId__pkgZnicoZbackendsZsdl2_u142) % (NU32)(((NU32)2))) == ((NU32)0));
			if (!(T27_)) goto LA28_;
			T27_ = !((*self_p0).musicStereo);
LA28_: ;
			if (!T27_) goto LA29_;
			result = (*self_p0).outvalue;
			goto BeforeRet_;
		}
LA29_: ;
		o_2 = (NF32)0;
		T31_ = (NF32)0;
		T31_ = interpolatedLookup__pkgZnicoZbackendsZsdl2_u6004((*self_p0).musicBuffers[((*self_p0).musicBuffer)- 0], 4096, (*self_p0).phase);
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		o_2 = ((NF32)(T31_) * (NF32)((*self_p0).gain));
		pluseq___pkgZnicoZbackendsZsdl2_u5859((&(*self_p0).phase), ((NF32)((*self_p0).musicSampleRate) * (NF32)(invSampleRate__pkgZnicoZbackendsZcommon_u868)));
		{
			NI colontmpD_;
			NI colontmpD__2;
			int read;
			tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* T36_;
			NI T37_;
			int T43_;
			if (!(4096.0f <= (*self_p0).phase)) goto LA34_;
			colontmpD_ = (NI)0;
			colontmpD__2 = (NI)0;
			(*self_p0).phase = 0.0f;
			T36_ = (tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg*)0;
			T36_ = (*self_p0).musicFile;
			T37_ = (NI)0;
			{
				if (!(*self_p0).musicStereo) goto LA40_;
				colontmpD_ = ((NI)2);
				T37_ = colontmpD_;
			}
			goto LA38_;
LA40_: ;
			{
				colontmpD__2 = ((NI)1);
				T37_ = colontmpD__2;
			}
LA38_: ;
			T43_ = (int)0;
			T43_ = ((int) (T37_));
			read = stb_vorbis_get_samples_float_interleaved(T36_, T43_, (&(*self_p0).musicBuffers[((*self_p0).musicBuffer)- 0][(((NI)0))- 0]), ((int)4096));
			{
				if (!(*self_p0).musicStereo) goto LA46_;
				stareq___pkgZnicoZbackendsZsdl2_u6048((&read), ((int)2));
			}
LA46_: ;
			(*self_p0).musicBuffer = (NI)((NI)((*self_p0).musicBuffer + ((NI)1)) % ((NI)2));
			{
				if (!!((read == ((NI32)4096)))) goto LA50_;
				{
					int T60_;
					if (!!(((*self_p0).loop == ((NI)0)))) goto LA54_;
					{
						if (!(((NI)0) < (*self_p0).loop)) goto LA58_;
						(*self_p0).loop -= ((NI)1);
					}
LA58_: ;
					T60_ = (int)0;
					T60_ = stb_vorbis_seek_frame((*self_p0).musicFile, ((unsigned int)0));
					(void)(T60_);
				}
				goto LA52_;
LA54_: ;
				{
					resetChannel__pkgZnicoZbackendsZsdl2_u166(self_p0);
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA52_: ;
			}
LA50_: ;
		}
LA34_: ;
		(*self_p0).outvalue = ((NF32)(o_2) * (NF32)(musicVolume__pkgZnicoZbackendsZcommon_u866));
		result = ((NF32)(o_2) * (NF32)(musicVolume__pkgZnicoZbackendsZcommon_u866));
		goto BeforeRet_;
	}
	break;
	case ((tyEnum_ChannelKind__awj6Vh1QQR9aUNCKmlUPn3g)4):
	{
		{
			NIM_BOOL T65_;
			NF32 T69_;
			T65_ = (NIM_BOOL)0;
			T65_ = (*self_p0).callbackStereo;
			if (T65_) goto LA66_;
			T65_ = ((NU32)((NU32)(audioSampleId__pkgZnicoZbackendsZsdl2_u142) % (NU32)(((NU32)2))) == ((NU32)0));
LA66_: ;
			if (!T65_) goto LA67_;
			T69_ = (NF32)0;
			T69_ = (*self_p0).callback.ClE_0? (*self_p0).callback.ClP_0(audioInSample__pkgZnicoZbackendsZsdl2_u114, (*self_p0).callback.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_15)((*self_p0).callback.ClP_0))(audioInSample__pkgZnicoZbackendsZsdl2_u114);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			(*self_p0).outvalue = ((NF32)(T69_) * (NF32)((*self_p0).gain));
		}
LA67_: ;
		result = ((NF32)((*self_p0).outvalue) * (NF32)((*self_p0).gain));
		goto BeforeRet_;
	}
	break;
	default: __builtin_unreachable();
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, queueAudio__pkgZnicoZbackendsZsdl2_u5832)(tySequence__4Xyxy0Om14N6K1l5e9bUPSQ* samples_p0) {
	int ret;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	T1_ = (*samples_p0).len;
	ret = SDL_QueueAudio(audioDeviceId__pkgZnicoZbackendsZsdl2_u110, ((void*) ((&(*samples_p0).p->data[((NI)0)]))), ((NU32) ((NI)(T1_ * ((NI)4)))));
	{
		NimStringV2 colontmpD_;
		Exception* T7_;
		NimStringV2 T8_;
		NCSTRING T9_;
		if (!!((ret == ((NI32)0)))) goto LA4_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		T7_ = NIM_NIL;
		T7_ = (Exception*) nimNewObj(sizeof(Exception), NIM_ALIGNOF(Exception));
		(*T7_).Sup.m_type = (&NTIv2__XEycrCsme5C8CVWAYEcdBQ_);
		(*T7_).name = "Exception";
		T8_.len = 0; T8_.p = NIM_NIL;
		T9_ = (NCSTRING)0;
		T9_ = SDL_GetError();
		colontmpD_ = cstrToNimstr(T9_);
		T8_ = rawNewString(colontmpD_.len + 22);
appendString((&T8_), TM__lQXcKkYGF8KYpfC3LuZn2A_17);
appendString((&T8_), colontmpD_);
		(*T7_).message = T8_;
		(*T7_).parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T7_, "Exception", "queueAudio", "sdl2.nim", 1488);
goto LA6_;
		{
			LA6_:;
		}
		{
			if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA4_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, queueMixerAudio__pkgZnicoZbackendsZsdl2_u3542)(void) {
	NI nDequeuedSamples;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nDequeuedSamples = ((NI)0);
	{
		int T5_;
		if (!!((audioInDeviceId__pkgZnicoZbackendsZsdl2_u111 == ((NU32)0)))) goto LA3_;
		T5_ = (int)0;
		T5_ = SDL_DequeueAudio(audioInDeviceId__pkgZnicoZbackendsZsdl2_u111, ((void*) ((&inputSamples__pkgZnicoZbackendsZsdl2_u118.p->data[((NI)0)]))), ((NU32) ((NI)(audioBufferSize__pkgZnicoZbackendsZsdl2_u115 * ((NI)4)))));
		nDequeuedSamples = (NI)(((NI) (T5_)) / ((NI)4));
		{
			if (!(nDequeuedSamples < audioBufferSize__pkgZnicoZbackendsZsdl2_u115)) goto LA8_;
		}
LA8_: ;
	}
LA3_: ;
	{
		NI i;
		NI i_2;
		i = (NI)0;
		i_2 = ((NI)0);
		{
			while (1) {
				if (!(i_2 < audioBufferSize__pkgZnicoZbackendsZsdl2_u115)) goto LA12;
				i = i_2;
				{
					if (!!((audioInDeviceId__pkgZnicoZbackendsZsdl2_u111 == ((NU32)0)))) goto LA15_;
					audioInSample__pkgZnicoZbackendsZsdl2_u114 = inputSamples__pkgZnicoZbackendsZsdl2_u118.p->data[i];
				}
				goto LA13_;
LA15_: ;
				{
					audioInSample__pkgZnicoZbackendsZsdl2_u114 = 0.0f;
				}
LA13_: ;
				{
					if (!((NI)(i % ((NI)2)) == ((NI)0))) goto LA20_;
					nextAudioClock__pkgZnicoZbackendsZsdl2_u122 -= ((NI)1);
					{
						NI32 T26_;
						if (!(nextAudioClock__pkgZnicoZbackendsZsdl2_u122 <= ((NI)0))) goto LA24_;
						audioClock__pkgZnicoZbackendsZsdl2_u121 = NIM_TRUE;
						T26_ = (NI32)0;
						T26_ = toPint__pkgZnicoZbackendsZcommon_u851(sampleRate__pkgZnicoZbackendsZcommon_u867);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						nextAudioClock__pkgZnicoZbackendsZsdl2_u122 = ((NI) ((NI32)(T26_ / ((NI32)60))));
					}
					goto LA22_;
LA24_: ;
					{
						audioClock__pkgZnicoZbackendsZsdl2_u121 = NIM_FALSE;
					}
LA22_: ;
					nextTick__pkgZnicoZbackendsZsdl2_u120 -= ((NI)1);
					{
						NIM_BOOL T30_;
						T30_ = (NIM_BOOL)0;
						T30_ = (nextTick__pkgZnicoZbackendsZsdl2_u120 <= ((NI)0));
						if (!(T30_)) goto LA31_;
						T30_ = !((audioTickCallback__pkgZnicoZbackendsZcommon_u870.ClP_0 == TM__lQXcKkYGF8KYpfC3LuZn2A_13.ClP_0 && audioTickCallback__pkgZnicoZbackendsZcommon_u870.ClE_0 == TM__lQXcKkYGF8KYpfC3LuZn2A_13.ClE_0));
LA31_: ;
						if (!T30_) goto LA32_;
						audioTickCallback__pkgZnicoZbackendsZcommon_u870.ClE_0? audioTickCallback__pkgZnicoZbackendsZcommon_u870.ClP_0(audioTickCallback__pkgZnicoZbackendsZcommon_u870.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_14)(audioTickCallback__pkgZnicoZbackendsZcommon_u870.ClP_0))();
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						nextTick__pkgZnicoZbackendsZsdl2_u120 = ((NI) (((NF)(((NF) (sampleRate__pkgZnicoZbackendsZcommon_u867))) / (NF)(((NF)(((NF)(((NF) (((NF32) (currentBpm__pkgZnicoZbackendsZcommon_u871))))) / (NF)(60.0))) * (NF)(((NF) (((NF32) (currentTpb__pkgZnicoZbackendsZcommon_u872))))))))));
					}
LA32_: ;
				}
LA20_: ;
				outputSamples__pkgZnicoZbackendsZsdl2_u119.p->data[i] = 0.0f;
				{
					NI j;
					NI i_3;
					j = (NI)0;
					i_3 = ((NI)0);
					{
						while (1) {
							NF32 s;
							if (!(i_3 < ((NI)16))) goto LA36;
							j = i_3;
							s = process__pkgZnicoZbackendsZsdl2_u6000((&audioChannels__pkgZnicoZbackendsZsdl2_u143[(j)- 0]));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							add__pkgZnicoZbackendsZsdl2_u6327((&audioChannels__pkgZnicoZbackendsZsdl2_u143[(j)- 0].outputBuffer), s);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							pluseq___pkgZnicoZbackendsZsdl2_u5859((&outputSamples__pkgZnicoZbackendsZsdl2_u119.p->data[i]), ((NF32)(s) * (NF32)(masterVolume__pkgZnicoZbackendsZcommon_u864)));
							i_3 += ((NI)1);
						} LA36: ;
					}
				}
				audioSampleId__pkgZnicoZbackendsZsdl2_u142 += ((NU32)1);
				i_2 += ((NI)1);
			} LA12: ;
		}
	}
	queueAudio__pkgZnicoZbackendsZsdl2_u5832((&outputSamples__pkgZnicoZbackendsZsdl2_u119));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, initMixer__pkgZnicoZbackendsZsdl2_u6339)(NIM_BOOL wantsAudioIn_p0) {
	tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw audioSpec;
	tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw obtained;
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T47_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		int T3_;
		Exception* T6_;
		T3_ = (int)0;
		T3_ = SDL_Init(((NU32)16));
		if (!!((T3_ == ((NI32)0)))) goto LA4_;
		T6_ = NIM_NIL;
		T6_ = (Exception*) nimNewObj(sizeof(Exception), NIM_ALIGNOF(Exception));
		(*T6_).Sup.m_type = (&NTIv2__XEycrCsme5C8CVWAYEcdBQ_);
		(*T6_).name = "Exception";
		(*T6_).message = TM__lQXcKkYGF8KYpfC3LuZn2A_10;
		(*T6_).parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T6_, "Exception", "initMixer", "sdl2.nim", 1694);
goto BeforeRet_;
	}
LA4_: ;
	nimZeroMem((void*)(&audioSpec), sizeof(tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw));
	audioSpec.freq = ((int) (sampleRate__pkgZnicoZbackendsZcommon_u867));
	audioSpec.format = ((NU16)33056);
	audioSpec.channels = ((NU8)2);
	audioSpec.samples = ((NU16) (audioBufferSize__pkgZnicoZbackendsZsdl2_u115));
	audioSpec.padding = ((NU16)0);
	audioSpec.callback = NIM_NIL;
	audioSpec.userdata = NIM_NIL;
	nimZeroMem((void*)(&obtained), sizeof(tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw));
	audioDeviceId__pkgZnicoZbackendsZsdl2_u110 = SDL_OpenAudioDevice(((NCSTRING) NIM_NIL), ((int)0), (&audioSpec), (&obtained), ((int)0));
	{
		if (!(audioDeviceId__pkgZnicoZbackendsZsdl2_u110 == ((NU32)0))) goto LA9_;
		noAudio__pkgZnicoZbackendsZsdl2_u113 = NIM_TRUE;
		goto BeforeRet_;
	}
	goto LA7_;
LA9_: ;
	{
		noAudio__pkgZnicoZbackendsZsdl2_u113 = NIM_FALSE;
	}
LA7_: ;
	sampleRate__pkgZnicoZbackendsZcommon_u867 = ((NF32) (obtained.freq));
	invSampleRate__pkgZnicoZbackendsZcommon_u868 = ((NF32) (((NF)(1.0) / (NF)(((NF) (((NF32) (obtained.freq))))))));
	{
		tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw audioInSpec;
		int nAudioInDevices;
		if (!wantsAudioIn_p0) goto LA14_;
		nimZeroMem((void*)(&audioInSpec), sizeof(tyObject_AudioSpec__a9aYn73ovkyEy8coA8OnwKw));
		audioInSpec.freq = ((int)44100);
		audioInSpec.format = ((NU16)33056);
		audioInSpec.channels = ((NU8)2);
		audioInSpec.samples = ((NU16)1024);
		audioInSpec.padding = ((NU16)0);
		audioInSpec.callback = NIM_NIL;
		audioInSpec.userdata = NIM_NIL;
		nAudioInDevices = SDL_GetNumAudioDevices(((int)1));
		{
			NI32 i;
			NI32 res;
			i = (NI32)0;
			res = ((NI32)0);
			{
				while (1) {
					if (!(res < nAudioInDevices)) goto LA18;
					i = res;
					res += ((NI)1);
				} LA18: ;
			}
		}
		{
			tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T34_;
			if (!(((NI32)0) < nAudioInDevices)) goto LA21_;
			audioInDeviceId__pkgZnicoZbackendsZsdl2_u111 = SDL_OpenAudioDevice(((NCSTRING) NIM_NIL), ((int)1), (&audioInSpec), (&obtained), ((int)0));
			{
				NimStringV2 colontmpD_;
				Exception* T28_;
				NimStringV2 T29_;
				NCSTRING T30_;
				if (!(audioInDeviceId__pkgZnicoZbackendsZsdl2_u111 == ((NU32)0))) goto LA25_;
				colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
				T28_ = NIM_NIL;
				T28_ = (Exception*) nimNewObj(sizeof(Exception), NIM_ALIGNOF(Exception));
				(*T28_).Sup.m_type = (&NTIv2__XEycrCsme5C8CVWAYEcdBQ_);
				(*T28_).name = "Exception";
				T29_.len = 0; T29_.p = NIM_NIL;
				T30_ = (NCSTRING)0;
				T30_ = SDL_GetError();
				colontmpD_ = cstrToNimstr(T30_);
				T29_ = rawNewString(colontmpD_.len + 35);
appendString((&T29_), TM__lQXcKkYGF8KYpfC3LuZn2A_12);
appendString((&T29_), colontmpD_);
				(*T28_).message = T29_;
				(*T28_).parent = ((Exception*) NIM_NIL);
				raiseExceptionEx((Exception*)T28_, "Exception", "initMixer", "sdl2.nim", 1737);
goto LA27_;
				{
					LA27_:;
				}
				{
					if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			goto LA23_;
LA25_: ;
			{
			}
LA23_: ;
			T34_.len = 0; T34_.p = NIM_NIL;
			T34_ = newSeq__pkgZnicoZbackendsZsdl2_u6375((audioBufferSize__pkgZnicoZbackendsZsdl2_u115));
			eqsink___pkgZnicoZbackendsZsdl2_u6086((&inputSamples__pkgZnicoZbackendsZsdl2_u118), T34_);
			SDL_PauseAudioDevice(audioInDeviceId__pkgZnicoZbackendsZsdl2_u111, ((int)0));
		}
LA21_: ;
	}
LA14_: ;
	{
		tyObject_Channel__in24RcHDml3U5CQrgcGk5g* c;
		NI i_2;
		c = (tyObject_Channel__in24RcHDml3U5CQrgcGk5g*)0;
		i_2 = ((NI)0);
		{
			while (1) {
				tyObject_RingBuffer__VjI5utre3g6RZJqTM3xgJg T38_;
				c = (&audioChannels__pkgZnicoZbackendsZsdl2_u143[(i_2)- 0]);
				(*c).lfsr = ((NU32)65261);
				(*c).lfsr2 = ((NU32)254);
				(*c).glide = ((NI)0);
				T38_ = initRingBuffer__pkgZnicoZbackendsZsdl2_u6468(((NI)1024));
				if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZbackendsZsdl2_u6497(&T38_); goto BeforeRet_;}
				eqsink___pkgZnicoZbackendsZsdl2_u6506((&(*c).outputBuffer), T38_);
				{
					NI j;
					NI i_3;
					j = (NI)0;
					i_3 = ((NI)0);
					{
						while (1) {
							NI T42_;
							if (!(i_3 < ((NI)32))) goto LA41;
							j = i_3;
							T42_ = (NI)0;
							T42_ = rand__pureZrandom_u143(((NI)16));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							(*c).wavData[(j)- 0] = ((NU8) (T42_));
							i_3 += ((NI)1);
						} LA41: ;
					}
				}
				{
					if (!(((NI)15) <= i_2)) goto LA45_;
					goto LA36;
				}
LA45_: ;
				i_2 += ((NI)1);
			}
		} LA36: ;
	}
	T47_.len = 0; T47_.p = NIM_NIL;
	T47_ = newSeq__pkgZnicoZbackendsZsdl2_u6375((audioBufferSize__pkgZnicoZbackendsZsdl2_u115));
	eqsink___pkgZnicoZbackendsZsdl2_u6086((&outputSamples__pkgZnicoZbackendsZsdl2_u119), T47_);
	queueMixerAudio__pkgZnicoZbackendsZsdl2_u3542();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	SDL_PauseAudioDevice(audioDeviceId__pkgZnicoZbackendsZsdl2_u110, ((int)0));
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, init__pkgZnicoZbackendsZsdl2_u6627)(NimStringV2 org_p0, NimStringV2 app_p1) {
	NimStringV2 colontmpD_;
	NimStringV2 colontmpD__2;
	NIM_BOOL T2_;
	tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* T8_;
	NCSTRING T9_;
	NimStringV2 T10_;
	NimStringV2 T11_;
	tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* T12_;
	int T13_;
	tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* T14_;
	int T15_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
	colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
	T2_ = (NIM_BOOL)0;
	T2_ = SDL_SetHint("SDL_HINT_JOYSTICK_ALLOW_BACKGROUND_EVENTS", "1");
	(void)(T2_);
	{
		int T5_;
		T5_ = (int)0;
		T5_ = SDL_Init(((NU32)25136));
		if (!!((T5_ == ((NI32)0)))) goto LA6_;
		quit__system_u8177(((NI)1));
	}
LA6_: ;
	T8_ = NIM_NIL;
	T8_ = newNicoController__pkgZnicoZcontroller_u53(((int)-1));
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZcontroller_u68(T8_); goto LA1_;}
	add__pkgZnicoZbackendsZsdl2_u1354((&controllers__pkgZnicoZbackendsZcommon_u996), T8_);
	T9_ = (NCSTRING)0;
	T9_ = SDL_GetBasePath();
	T10_.len = 0; T10_.p = NIM_NIL;
	T10_ = cstrToNimstr(T9_);
	eqsink___system_u2696((&basePath__pkgZnicoZbackendsZcommon_u1020), T10_);
	T11_.len = 0; T11_.p = NIM_NIL;
	T11_ = slash___stdZprivateZospaths2_u88(basePath__pkgZnicoZbackendsZcommon_u1020, TM__lQXcKkYGF8KYpfC3LuZn2A_3);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___system_u281(T11_); goto LA1_;}
	eqsink___system_u2696((&assetPath__pkgZnicoZbackendsZcommon_u1021), T11_);
	eqsink___system_u2696((&writePath__pkgZnicoZbackendsZcommon_u1022), TM__lQXcKkYGF8KYpfC3LuZn2A_5);
	colontmpD_ = slash___stdZprivateZospaths2_u88(assetPath__pkgZnicoZbackendsZcommon_u1021, TM__lQXcKkYGF8KYpfC3LuZn2A_7);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T12_ = (tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg*)0;
	T12_ = SDL_RWFromFile(nimToCStringConv(colontmpD_), "rb");
	T13_ = (int)0;
	T13_ = SDL_GameControllerAddMappingsFromRW(T12_, ((int)1));
	(void)(T13_);
	colontmpD__2 = slash___stdZprivateZospaths2_u88(writePath__pkgZnicoZbackendsZcommon_u1022, TM__lQXcKkYGF8KYpfC3LuZn2A_8);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T14_ = (tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg*)0;
	T14_ = SDL_RWFromFile(nimToCStringConv(colontmpD__2), "rb");
	T15_ = (int)0;
	T15_ = SDL_GameControllerAddMappingsFromRW(T14_, ((int)1));
	(void)(T15_);
	{
		NI32 i;
		NI32 colontmp_;
		NI32 res;
		i = (NI32)0;
		colontmp_ = (NI32)0;
		colontmp_ = SDL_NumJoysticks();
		res = ((NI32)0);
		{
			while (1) {
				if (!(res <= colontmp_)) goto LA18;
				i = res;
				{
					NIM_BOOL T21_;
					tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* controller;
					tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* T26_;
					tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* blitTmp;
					T21_ = (NIM_BOOL)0;
					T21_ = SDL_IsGameController(i);
					if (!T21_) goto LA22_;
					controller = NIM_NIL;
					T26_ = NIM_NIL;
					T26_ = newNicoController__pkgZnicoZcontroller_u53(i);
					if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZcontroller_u68(T26_); goto LA25_;}
					controller = T26_;
					blitTmp = controller;
					eqwasMoved___pkgZnicoZcontroller_u65(&controller);
					add__pkgZnicoZbackendsZsdl2_u1354((&controllers__pkgZnicoZbackendsZcommon_u996), blitTmp);
					{
						LA25_:;
					}
					{
						eqdestroy___pkgZnicoZcontroller_u68(controller);
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA24_;
					if (NIM_UNLIKELY(*nimErr_)) {
						LA24_:;
						{
							*nimErr_ = NIM_FALSE;
							popCurrentException();
							LA30_:;
						}
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				}
LA22_: ;
				res += ((NI)1);
			} LA18: ;
		}
	}
	SDL_StopTextInput();
	initConfig__pkgZnicoZbackendsZsdl2_u4439();
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	initMixer__pkgZnicoZbackendsZsdl2_u6339(NIM_FALSE);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		if (colontmpD__2.p && !(colontmpD__2.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__2.p);
}
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL, isObjDisplayCheck)(TNimTypeV2* source_p0, NI16 targetDepth_p1, NU32 token_p2) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	T1_ = (NIM_BOOL)0;
	T1_ = (targetDepth_p1 <= (*source_p0).depth);
	if (!(T1_)) goto LA2_;
	T1_ = ((*source_p0).display[targetDepth_p1] == token_p2);
LA2_: ;
	result = T1_;
	return result;
}
static N_INLINE(Exception*, nimBorrowCurrentException)(void) {
	Exception* result;
	result = currException__system_u4140;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, loadConfig__pkgZnicoZbackendsZsdl2_u168)(void) {
	NimStringV2 defaultPath;
	NimStringV2 path;
	NimStringV2 blitTmp;
	tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g* T3_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	defaultPath.len = 0; defaultPath.p = NIM_NIL;
	path.len = 0; path.p = NIM_NIL;
	defaultPath = nosjoinPath(assetPath__pkgZnicoZbackendsZcommon_u1021, TM__lQXcKkYGF8KYpfC3LuZn2A_19);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	path = nosjoinPath(writePath__pkgZnicoZbackendsZcommon_u1022, TM__lQXcKkYGF8KYpfC3LuZn2A_20);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	blitTmp = path;
	eqwasMoved___system_u2687((&path));
	T3_ = NIM_NIL;
	T3_ = loadConfig__pureZparsecfg_u4987(blitTmp);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pureZparsecfg_u928(T3_); goto LA2_;}
	eqsink___pureZparsecfg_u937(&config__pkgZnicoZbackendsZsdl2_u132, T3_);
	if (NIM_UNLIKELY(*nimErr_)) {
		LA2_:;
		if (isObjDisplayCheck(nimBorrowCurrentException()->Sup.m_type, 3, 4237542656)) {
			NimStringV2 blitTmp_2;
			tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g* T8_;
			*nimErr_ = NIM_FALSE;
			blitTmp_2 = defaultPath;
			eqwasMoved___system_u2687((&defaultPath));
			T8_ = NIM_NIL;
			T8_ = loadConfig__pureZparsecfg_u4987(blitTmp_2);
			if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pureZparsecfg_u928(T8_); goto LA7_;}
			eqsink___pureZparsecfg_u937(&config__pkgZnicoZbackendsZsdl2_u132, T8_);
			if (NIM_UNLIKELY(*nimErr_)) {
				LA7_:;
				if (isObjDisplayCheck(nimBorrowCurrentException()->Sup.m_type, 3, 4237542656)) {
					tyObject_OrderedTable__QZZLTXqGv3g9aySkRqkfj7g* T12_;
					*nimErr_ = NIM_FALSE;
					T12_ = NIM_NIL;
					T12_ = newConfig__pureZparsecfg_u467();
					if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pureZparsecfg_u928(T12_); goto LA10_;}
					eqsink___pureZparsecfg_u937(&config__pkgZnicoZbackendsZsdl2_u132, T12_);
					popCurrentException();
					LA10_:;
				}
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA5_;
			popCurrentException();
			LA5_:;
		}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		if (path.p && !(path.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(path.p);
}
		if (defaultPath.p && !(defaultPath.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(defaultPath.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NF, max__system_u1206)(NF x_p0, NF y_p1) {
	NF result;
	NF colontmpD_;
	NF colontmpD__2;
	colontmpD_ = (NF)0;
	colontmpD__2 = (NF)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (y_p1 <= x_p0);
		if (T3_) goto LA4_;
		T3_ = !((y_p1 == y_p1));
LA4_: ;
		if (!T3_) goto LA5_;
		colontmpD_ = x_p0;
		result = colontmpD_;
	}
	goto LA1_;
LA5_: ;
	{
		colontmpD__2 = y_p1;
		result = colontmpD__2;
	}
LA1_: ;
	return result;
}
static N_INLINE(NF32, min__system_u1169)(NF32 x_p0, NF32 y_p1) {
	NF32 result;
	NF32 colontmpD_;
	NF32 colontmpD__2;
	colontmpD_ = (NF32)0;
	colontmpD__2 = (NF32)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (x_p0 <= y_p1);
		if (T3_) goto LA4_;
		T3_ = !((y_p1 == y_p1));
LA4_: ;
		if (!T3_) goto LA5_;
		colontmpD_ = x_p0;
		result = colontmpD_;
	}
	goto LA1_;
LA5_: ;
	{
		colontmpD__2 = y_p1;
		result = colontmpD__2;
	}
LA1_: ;
	return result;
}
static N_INLINE(NI32, toPint__pkgZnicoZbackendsZcommon_u848)(NF x_p0) {
	NI32 result;
	NF T1_;
{	T1_ = (NF)0;
	T1_ = floor(x_p0);
	result = ((NI32) (T1_));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, createRecordBuffer__pkgZnicoZbackendsZsdl2_u169)(NIM_BOOL forceClear_p0) {
{	{
		if (!(window__pkgZnicoZbackendsZsdl2_u112 == NIM_NIL)) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, resize__pkgZnicoZbackendsZsdl2_u171)(NI w_p0, NI h_p1) {
	NI colontmpD_;
	NI colontmpD__2;
	NI colontmpD__3;
	NI colontmpD__4;
	NI displayW;
	NI displayH;
	tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* T36_;
	tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* T46_;
	tyObject_RendererInfo__VcLvp0GdChq8dHjDDtJ7jw rendererInfo;
	int T47_;
	int T48_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_ = (NI)0;
	colontmpD__2 = (NI)0;
	colontmpD__3 = (NI)0;
	colontmpD__4 = (NI)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (w_p0 == ((NI)0));
		if (T3_) goto LA4_;
		T3_ = (h_p1 == ((NI)0));
LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
LA5_: ;
	displayWidth__pkgZnicoZbackendsZsdl2_u116 = w_p0;
	displayHeight__pkgZnicoZbackendsZsdl2_u117 = h_p1;
	{
		if (!!((render__pkgZnicoZbackendsZsdl2_u124 == NIM_NIL))) goto LA9_;
		SDL_DestroyRenderer(render__pkgZnicoZbackendsZsdl2_u124);
	}
LA9_: ;
	{
		if (!(window__pkgZnicoZbackendsZsdl2_u112 == NIM_NIL)) goto LA13_;
		goto BeforeRet_;
	}
LA13_: ;
	{
		NF32 T19_;
		NF32 T20_;
		NF32 T21_;
		if (!integerScreenScale__pkgZnicoZbackendsZcommon_u920) goto LA17_;
		T19_ = (NF32)0;
		T19_ = floorf(((NF32)(((NF32) (w_p0))) / (NF32)(((NF32) (targetScreenWidth__pkgZnicoZbackendsZcommon_u917)))));
		T20_ = (NF32)0;
		T20_ = floorf(((NF32)(((NF32) (h_p1))) / (NF32)(((NF32) (targetScreenHeight__pkgZnicoZbackendsZcommon_u918)))));
		T21_ = (NF32)0;
		T21_ = min__system_u1169(T19_, T20_);
		screenScale__pkgZnicoZbackendsZcommon_u1023 = max__system_u1206(1.0, ((NF) (T21_)));
	}
	goto LA15_;
LA17_: ;
	{
		NF32 T23_;
		T23_ = (NF32)0;
		T23_ = min__system_u1169(((NF32)(((NF32) (w_p0))) / (NF32)(((NF32) (targetScreenWidth__pkgZnicoZbackendsZcommon_u917)))), ((NF32)(((NF32) (h_p1))) / (NF32)(((NF32) (targetScreenHeight__pkgZnicoZbackendsZcommon_u918)))));
		screenScale__pkgZnicoZbackendsZcommon_u1023 = max__system_u1206(1.0, ((NF) (T23_)));
	}
LA15_: ;
	displayW = (NI)0;
	displayH = (NI)0;
	{
		if (!fixedScreenSize__pkgZnicoZbackendsZcommon_u919) goto LA26_;
		displayW = ((NI) (((NF)(((NF) (((NF32) (targetScreenWidth__pkgZnicoZbackendsZcommon_u917))))) * (NF)(screenScale__pkgZnicoZbackendsZcommon_u1023))));
		displayH = ((NI) (((NF)(((NF) (((NF32) (targetScreenHeight__pkgZnicoZbackendsZcommon_u918))))) * (NF)(screenScale__pkgZnicoZbackendsZcommon_u1023))));
		screenPaddingX__pkgZnicoZbackendsZcommon_u923 = (NI)((NI)(w_p0 - displayW) / ((NI)2));
		screenPaddingY__pkgZnicoZbackendsZcommon_u924 = (NI)((NI)(h_p1 - displayH) / ((NI)2));
		screenWidth__pkgZnicoZbackendsZcommon_u921 = targetScreenWidth__pkgZnicoZbackendsZcommon_u917;
		screenHeight__pkgZnicoZbackendsZcommon_u922 = targetScreenHeight__pkgZnicoZbackendsZcommon_u918;
	}
	goto LA24_;
LA26_: ;
	{
		screenPaddingX__pkgZnicoZbackendsZcommon_u923 = ((NI)0);
		screenPaddingY__pkgZnicoZbackendsZcommon_u924 = ((NI)0);
		displayW = w_p0;
		displayH = h_p1;
		{
			NI32 T33_;
			NI32 T34_;
			if (!integerScreenScale__pkgZnicoZbackendsZcommon_u920) goto LA31_;
			T33_ = (NI32)0;
			T33_ = toPint__pkgZnicoZbackendsZcommon_u848(screenScale__pkgZnicoZbackendsZcommon_u1023);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			screenWidth__pkgZnicoZbackendsZcommon_u921 = ((NI) ((NI32)(((NI32) (displayW)) / T33_)));
			T34_ = (NI32)0;
			T34_ = toPint__pkgZnicoZbackendsZcommon_u848(screenScale__pkgZnicoZbackendsZcommon_u1023);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			screenHeight__pkgZnicoZbackendsZcommon_u922 = ((NI) ((NI32)(((NI32) (displayH)) / T34_)));
		}
		goto LA29_;
LA31_: ;
		{
			screenWidth__pkgZnicoZbackendsZcommon_u921 = ((NI) (((NF)(((NF) (((NF32) (displayW))))) / (NF)(screenScale__pkgZnicoZbackendsZcommon_u1023))));
			screenHeight__pkgZnicoZbackendsZcommon_u922 = ((NI) (((NF)(((NF) (((NF32) (displayH))))) / (NF)(screenScale__pkgZnicoZbackendsZcommon_u1023))));
		}
LA29_: ;
	}
LA24_: ;
	srcRect__pkgZnicoZbackendsZsdl2_u127.x = ((int)0);
	srcRect__pkgZnicoZbackendsZsdl2_u127.y = ((int)0);
	colontmpD_ = screenWidth__pkgZnicoZbackendsZcommon_u921;
	srcRect__pkgZnicoZbackendsZsdl2_u127.w = ((int) (colontmpD_));
	colontmpD__2 = screenHeight__pkgZnicoZbackendsZcommon_u922;
	srcRect__pkgZnicoZbackendsZsdl2_u127.h = ((int) (colontmpD__2));
	colontmpD__3 = screenPaddingX__pkgZnicoZbackendsZcommon_u923;
	dstRect__pkgZnicoZbackendsZsdl2_u128.x = ((int) (colontmpD__3));
	colontmpD__4 = screenPaddingY__pkgZnicoZbackendsZcommon_u924;
	dstRect__pkgZnicoZbackendsZsdl2_u128.y = ((int) (colontmpD__4));
	dstRect__pkgZnicoZbackendsZsdl2_u128.w = ((int) (displayW));
	dstRect__pkgZnicoZbackendsZsdl2_u128.h = ((int) (displayH));
	clipMinX__pkgZnicoZbackendsZcommon_u1058 = ((NI)0);
	clipMinY__pkgZnicoZbackendsZcommon_u1060 = ((NI)0);
	clipMaxX__pkgZnicoZbackendsZcommon_u1059 = (NI)(screenWidth__pkgZnicoZbackendsZcommon_u921 - ((NI)1));
	clipMaxY__pkgZnicoZbackendsZcommon_u1061 = (NI)(screenHeight__pkgZnicoZbackendsZcommon_u922 - ((NI)1));
	T36_ = NIM_NIL;
	T36_ = newSurface__pkgZnicoZbackendsZcommon_u1091(screenWidth__pkgZnicoZbackendsZcommon_u921, screenHeight__pkgZnicoZbackendsZcommon_u922);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZbackendsZcommon_u1107(T36_); goto BeforeRet_;}
	eqsink___pkgZnicoZbackendsZcommon_u1116(&swCanvas__pkgZnicoZbackendsZcommon_u888, T36_);
	{
		if (!!((swCanvas32__pkgZnicoZbackendsZsdl2_u126 == ((tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg*) NIM_NIL)))) goto LA39_;
		SDL_FreeSurface(swCanvas32__pkgZnicoZbackendsZsdl2_u126);
	}
LA39_: ;
	swCanvas32__pkgZnicoZbackendsZsdl2_u126 = SDL_CreateRGBSurface(((NU32)0), ((int) (screenWidth__pkgZnicoZbackendsZcommon_u921)), ((int) (screenHeight__pkgZnicoZbackendsZcommon_u922)), ((int)32), ((NU32)255), ((NU32)65280), ((NU32)16711680), ((NU32)IL64(4278190080)));
	{
		Exception* T45_;
		if (!(swCanvas32__pkgZnicoZbackendsZsdl2_u126 == ((tyObject_SurfaceObj__ppRPHzVThu8tfsIzawjGtg*) NIM_NIL))) goto LA43_;
		T45_ = NIM_NIL;
		T45_ = (Exception*) nimNewObj(sizeof(Exception), NIM_ALIGNOF(Exception));
		(*T45_).Sup.m_type = (&NTIv2__XEycrCsme5C8CVWAYEcdBQ_);
		(*T45_).name = "Exception";
		(*T45_).message = TM__lQXcKkYGF8KYpfC3LuZn2A_24;
		(*T45_).parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T45_, "Exception", "resize", "sdl2.nim", 295);
goto BeforeRet_;
	}
LA43_: ;
	T46_ = NIM_NIL;
	T46_ = newSurface__pkgZnicoZbackendsZcommon_u1091(screenWidth__pkgZnicoZbackendsZcommon_u921, screenHeight__pkgZnicoZbackendsZcommon_u922);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZbackendsZcommon_u1107(T46_); goto BeforeRet_;}
	eqsink___pkgZnicoZbackendsZcommon_u1116(&stencilBuffer__pkgZnicoZbackendsZcommon_u889, T46_);
	render__pkgZnicoZbackendsZsdl2_u124 = SDL_CreateRenderer(window__pkgZnicoZbackendsZsdl2_u112, ((int)-1), ((NU32)6));
	nimZeroMem((void*)(&rendererInfo), sizeof(tyObject_RendererInfo__VcLvp0GdChq8dHjDDtJ7jw));
	T47_ = (int)0;
	T47_ = SDL_GetRendererInfo(render__pkgZnicoZbackendsZsdl2_u124, (&rendererInfo));
	(void)(T47_);
	vsyncEnabled__pkgZnicoZbackendsZsdl2_u123 = !(((NU32)(rendererInfo.flags & ((NU32)4)) == ((NU32)0)));
	hwCanvas__pkgZnicoZbackendsZsdl2_u125 = SDL_CreateTexture(render__pkgZnicoZbackendsZsdl2_u124, ((NU32)373694468), ((tyEnum_TextureAccess__WzRI54OGSxoDjTlJwa24mw)1), ((int) (screenWidth__pkgZnicoZbackendsZcommon_u921)), ((int) (screenHeight__pkgZnicoZbackendsZcommon_u922)));
	T48_ = (int)0;
	T48_ = SDL_SetRenderTarget(render__pkgZnicoZbackendsZsdl2_u124, hwCanvas__pkgZnicoZbackendsZsdl2_u125);
	(void)(T48_);
	createRecordBuffer__pkgZnicoZbackendsZsdl2_u169(NIM_TRUE);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		tyProc__yZbvgbtLeGIhzIA9bifjdPw* rf;
		NI i;
		NI L;
		NI T50_;
		rf = (tyProc__yZbvgbtLeGIhzIA9bifjdPw*)0;
		i = ((NI)0);
		T50_ = resizeFuncs__pkgZnicoZbackendsZcommon_u1039.len;
		L = T50_;
		{
			while (1) {
				if (!(i < L)) goto LA52;
				rf = (&resizeFuncs__pkgZnicoZbackendsZcommon_u1039.p->data[i]);
				(*rf).ClE_0? (*rf).ClP_0(screenWidth__pkgZnicoZbackendsZcommon_u921, screenHeight__pkgZnicoZbackendsZcommon_u922, (*rf).ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_25)((*rf).ClP_0))(screenWidth__pkgZnicoZbackendsZcommon_u921, screenHeight__pkgZnicoZbackendsZcommon_u922);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				i += ((NI)1);
			} LA52: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, createWindow__pkgZnicoZbackendsZsdl2_u302)(NimStringV2 title_p0, NI w_p1, NI h_p2, NI scale_p3, NIM_BOOL fullscreen_p4) {
	tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ r;
	int T1_;
	NIM_BOOL T7_;
	NIM_BOOL T8_;
	int displayW;
	int displayH;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&r), sizeof(tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ));
	T1_ = (int)0;
	T1_ = SDL_GetDisplayUsableBounds(((int)0), (&r));
	(void)(T1_);
	window__pkgZnicoZbackendsZsdl2_u112 = SDL_CreateWindow(nimToCStringConv(title_p0), r.x, r.y, r.w, r.h, ((NU32)32));
	{
		Exception* T6_;
		if (!(window__pkgZnicoZbackendsZsdl2_u112 == NIM_NIL)) goto LA4_;
		T6_ = NIM_NIL;
		T6_ = (Exception*) nimNewObj(sizeof(Exception), NIM_ALIGNOF(Exception));
		(*T6_).Sup.m_type = (&NTIv2__XEycrCsme5C8CVWAYEcdBQ_);
		(*T6_).name = "Exception";
		(*T6_).message = TM__lQXcKkYGF8KYpfC3LuZn2A_22;
		(*T6_).parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T6_, "Exception", "createWindow", "sdl2.nim", 637);
goto BeforeRet_;
	}
LA4_: ;
	targetScreenWidth__pkgZnicoZbackendsZcommon_u917 = w_p1;
	targetScreenHeight__pkgZnicoZbackendsZcommon_u918 = h_p2;
	T7_ = (NIM_BOOL)0;
	T7_ = SDL_SetHint("SDL_HINT_RENDER_VSYNC", "1");
	(void)(T7_);
	T8_ = (NIM_BOOL)0;
	T8_ = SDL_SetHint("SDL_RENDER_SCALE_QUALITY", "0");
	(void)(T8_);
	displayW = (int)0;
	displayH = (int)0;
	SDL_GetWindowSize(window__pkgZnicoZbackendsZsdl2_u112, (&displayW), (&displayH));
	resize__pkgZnicoZbackendsZsdl2_u171(((NI) (displayW)), ((NI) (displayH)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	SDL_RaiseWindow(window__pkgZnicoZbackendsZsdl2_u112);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, stopLastRun__pkgZnicoZbackendsZsdl2_u6659)(void) {
	emscripten_cancel_main_loop();
}
static N_INLINE(NI, find__pkgZnicoZbackendsZsdl2_u1838)(tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g* a_p0, NI a_p0Len_0, tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g item_p1) {
	NI result;
{	result = ((NI)0);
	{
		tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g* i;
		NI i_2;
		i = (tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g*)0;
		i_2 = ((NI)0);
		{
			while (1) {
				if (!(i_2 < a_p0Len_0)) goto LA3;
				i = (&a_p0[i_2]);
				{
					if (!((*i) == item_p1)) goto LA6_;
					goto BeforeRet_;
				}
LA6_: ;
				result += ((NI)1);
				i_2 += ((NI)1);
			} LA3: ;
		}
	}
	result = ((NI)-1);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, contains__pkgZnicoZbackendsZsdl2_u1833)(tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g* a_p0, NI a_p0Len_0, tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g item_p1) {
	NIM_BOOL result;
	NI T1_;
{	T1_ = (NI)0;
	T1_ = find__pkgZnicoZbackendsZsdl2_u1838(a_p0, a_p0Len_0, item_p1);
	result = (((NI)0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw, toNicoKeycode__pkgZnicoZbackendsZsdl2_u19)(tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw x_p0) {
	tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw result;
{	result = ((tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw) (x_p0));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A, toNicoScancode__pkgZnicoZbackendsZsdl2_u22)(tyEnum_Scancode__vEHIUn9c0BakmTIxcQarHJw x_p0) {
	tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A result;
{	result = ((tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A) (x_p0));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, emarkamp___pureZhashes_u4)(NI h_p0, NI val_p1) {
	NI result;
	NU h_2;
	NU val_2;
	NU res;
	h_2 = ((NU) (h_p0));
	val_2 = ((NU) (val_p1));
	res = (NU)((NU32)(h_2) + (NU32)(val_2));
	res = (NU)((NU32)(res) + (NU32)((NU)((NU32)(res) << (NU32)(((NI)10)))));
	res = (NU)(res ^ (NU)((NU32)(res) >> (NU32)(((NI)6))));
	result = ((NI) (res));
	return result;
}
static N_INLINE(NU64, hiXorLoFallback64__pureZhashes_u36)(NU64 a_p0, NU64 b_p1) {
	NU64 result;
	NU64 colontmpD_;
	NU64 colontmpD__2;
	NU64 colontmpD__3;
	NU64 colontmpD__4;
	NU64 aH;
	NU64 aL;
	NU64 bH;
	NU64 bL;
	NU64 rHH;
	NU64 rHL;
	NU64 rLH;
	NU64 rLL;
	NU64 t;
	NU64 c;
	NU64 lo;
	NU64 T6_;
	NU64 hi;
{	colontmpD_ = (NU64)0;
	colontmpD__2 = (NU64)0;
	colontmpD__3 = (NU64)0;
	colontmpD__4 = (NU64)0;
	aH = (NU64)((NU64)(a_p0) >> (NU64)(((NI)32)));
	aL = (NU64)(a_p0 & 4294967295ULL);
	bH = (NU64)((NU64)(b_p1) >> (NU64)(((NI)32)));
	bL = (NU64)(b_p1 & 4294967295ULL);
	rHH = (NU64)((NU64)(aH) * (NU64)(bH));
	rHL = (NU64)((NU64)(aH) * (NU64)(bL));
	rLH = (NU64)((NU64)(aL) * (NU64)(bH));
	rLL = (NU64)((NU64)(aL) * (NU64)(bL));
	t = (NU64)((NU64)(rLL) + (NU64)((NU64)((NU64)(rHL) << (NU64)(((NI)32)))));
	{
		if (!((NU64)(t) < (NU64)(rLL))) goto LA3_;
		colontmpD_ = 1ULL;
		c = colontmpD_;
	}
	goto LA1_;
LA3_: ;
	{
		colontmpD__2 = 0ULL;
		c = colontmpD__2;
	}
LA1_: ;
	lo = (NU64)((NU64)(t) + (NU64)((NU64)((NU64)(rLH) << (NU64)(((NI)32)))));
	T6_ = (NU64)0;
	{
		if (!((NU64)(lo) < (NU64)(t))) goto LA9_;
		colontmpD__3 = 1ULL;
		T6_ = colontmpD__3;
	}
	goto LA7_;
LA9_: ;
	{
		colontmpD__4 = 0ULL;
		T6_ = colontmpD__4;
	}
LA7_: ;
	c += T6_;
	hi = (NU64)((NU64)((NU64)((NU64)((NU64)((NU64)(rHH) + (NU64)((NU64)((NU64)(rHL) >> (NU64)(((NI)32)))))) + (NU64)((NU64)((NU64)(rLH) >> (NU64)(((NI)32)))))) + (NU64)(c));
	result = (NU64)(hi ^ lo);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NU64, hiXorLo__pureZhashes_u80)(NU64 a_p0, NU64 b_p1) {
	NU64 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NU64)0;
	result = hiXorLoFallback64__pureZhashes_u36(a_p0, b_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, hashWangYi1__pureZhashes_u139)(NU64 x_p0) {
	NI result;
	NU64 T1_;
	NU64 T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	T1_ = (NU64)0;
	T1_ = hiXorLo__pureZhashes_u80(11562461410679940143ULL, (NU64)(x_p0 ^ 16646288086500911323ULL));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T2_ = (NU64)0;
	T2_ = hiXorLo__pureZhashes_u80(T1_, 16952864883938283885ULL);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = ((NI) (T2_));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, hash__pureZhashes_u131)(NI x_p0) {
	NI result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	result = hashWangYi1__pureZhashes_u139(((NU64) (x_p0)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NI, emarkdollar___pureZhashes_u19)(NI h_p0) {
	NI result;
	NU h_2;
	NU res;
	h_2 = ((NU) (h_p0));
	res = (NU)((NU32)(h_2) + (NU32)((NU)((NU32)(h_2) << (NU32)(((NI)3)))));
	res = (NU)(res ^ (NU)((NU32)(res) >> (NU32)(((NI)11))));
	res = (NU)((NU32)(res) + (NU32)((NU)((NU32)(res) << (NU32)(((NI)15)))));
	result = ((NI) (res));
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, hash__pkgZnicoZbackendsZsdl2_u44)(tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw x_p0) {
	NI result;
	NI h;
	NI T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	h = ((NI)0);
	T1_ = (NI)0;
	T1_ = hash__pureZhashes_u131(((NI) (x_p0)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	h = emarkamp___pureZhashes_u4(h, T1_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = emarkdollar___pureZhashes_u19(h);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, readFile__pkgZnicoZbackendsZsdl2_u312)(NimStringV2 filename_p0) {
	NimStringV2 result;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ buffer;
	tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg* fp;
	NI size;
	NI64 T8_;
	NI offset;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ blitTmp;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	buffer.len = 0; buffer.p = NIM_NIL;
	fp = SDL_RWFromFile(nimToCStringConv(filename_p0), "rb");
	{
		tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw* T6_;
		NimStringV2 T7_;
		if (!(fp == ((tyObject_RWops__uF8bK3Tb5Uvyh2P5Vsefrg*) NIM_NIL))) goto LA4_;
		T6_ = NIM_NIL;
		T6_ = (tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw*) nimNewObj(sizeof(tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw), NIM_ALIGNOF(tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw));
		(*T6_).Sup.Sup.Sup.m_type = (&NTIv2__YfyTxe9cThBYfr9aHkc9cltBw_);
		(*T6_).Sup.Sup.name = "IOError";
		T7_.len = 0; T7_.p = NIM_NIL;
		T7_ = rawNewString(filename_p0.len + 21);
appendString((&T7_), TM__lQXcKkYGF8KYpfC3LuZn2A_34);
appendString((&T7_), filename_p0);
		(*T6_).Sup.Sup.message = T7_;
		(*T6_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T6_, "IOError", "readFile", "sdl2.nim", 659);
goto LA1_;
	}
LA4_: ;
	T8_ = (NI64)0;
	T8_ = SDL_RWsize(fp);
	size = ((NI) (T8_));
	buffer = newSeq__pkgZnicoZbackendsZcommon_u1280((size));
	offset = ((NI)0);
	{
		while (1) {
			size_t r;
			if (!(offset < size)) goto LA10;
			r = SDL_RWread(fp, ((void*) ((&buffer.p->data[offset]))), ((size_t)1), ((size_t)1));
			offset += ((NI) (r));
			{
				if (!(r == ((NU)0))) goto LA13_;
				goto LA9;
			}
LA13_: ;
		} LA10: ;
	} LA9: ;
	{
		int T17_;
		T17_ = (int)0;
		T17_ = SDL_RWclose(fp);
		if (!!((T17_ == ((NI32)0)))) goto LA18_;
	}
LA18_: ;
	blitTmp = buffer;
	eqwasMoved___pureZtimes_u2592((&buffer));
	result = (*(NimStringV2*) (&blitTmp));
	{
		LA1_:;
	}
	{
		eqdestroy___pureZtimes_u2595(buffer);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, loadSurfaceFromPNG__pkgZnicoZbackendsZsdl2_u368)(NimStringV2 filename_p0, tyProc__V9bGopLHKFo2FjArm25MFaw callback_p1) {
	NimStringV2 buffer;
	tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg* ss;
	tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg* png;
	tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg* pngInfo;
	tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface;
	NimStringV2 blitTmp;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	buffer.len = 0; buffer.p = NIM_NIL;
	ss = NIM_NIL;
	png = NIM_NIL;
	pngInfo = NIM_NIL;
	surface = NIM_NIL;
	buffer = readFile__pkgZnicoZbackendsZsdl2_u312(filename_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	blitTmp = buffer;
	eqwasMoved___system_u2687((&buffer));
	ss = newStringStream__pureZstreams_u942(blitTmp);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	png = decodePNG__pkgZnim807871_u11151(&ss->Sup, ((tyObject_PNGDecodercolonObjectType___GcwpDfDt9c6JckQzZHpx9aMQ*) NIM_NIL));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	pngInfo = getInfo__pkgZnicoZbackendsZsdl2_u376(png);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	surface = newSurface__pkgZnicoZbackendsZcommon_u1091((*pngInfo).width, (*pngInfo).height);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	eqcopy___system_u2690((&(*surface).filename), filename_p0);
	(*surface).w = (*pngInfo).width;
	(*surface).h = (*pngInfo).height;
	{
		NimStringV2 colontmpD_;
		tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* colontmpD__2;
		if (!((*(*pngInfo).mode).colorType == ((tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ)6))) goto LA4_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		colontmpD__2 = NIM_NIL;
		(*surface).channels = ((NI)4);
		colontmpD_ = eqdup___system_u2693((*png).pixels);
		eqsink___pureZtimes_u2604((&(*surface).data), (*(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ*) (&colontmpD_)));
		colontmpD__2 = convertToIndexed__pkgZnicoZbackendsZcommon_u1597(surface);
		if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
		callback_p1.ClE_0? callback_p1.ClP_0(colontmpD__2, callback_p1.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_35)(callback_p1.ClP_0))(colontmpD__2);
		if (NIM_UNLIKELY(*nimErr_)) goto LA6_;
		{
			LA6_:;
		}
		{
			eqdestroy___pkgZnicoZbackendsZcommon_u1107(colontmpD__2);
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	goto LA2_;
LA4_: ;
	{
		NimStringV2 colontmpD__3;
		tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* colontmpD__4;
		if (!((*(*pngInfo).mode).colorType == ((tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ)2))) goto LA10_;
		colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
		colontmpD__4 = NIM_NIL;
		(*surface).channels = ((NI)3);
		colontmpD__3 = eqdup___system_u2693((*png).pixels);
		eqsink___pureZtimes_u2604((&(*surface).data), (*(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ*) (&colontmpD__3)));
		colontmpD__4 = convertToIndexed__pkgZnicoZbackendsZcommon_u1597(surface);
		if (NIM_UNLIKELY(*nimErr_)) goto LA12_;
		callback_p1.ClE_0? callback_p1.ClP_0(colontmpD__4, callback_p1.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_36)(callback_p1.ClP_0))(colontmpD__4);
		if (NIM_UNLIKELY(*nimErr_)) goto LA12_;
		{
			LA12_:;
		}
		{
			eqdestroy___pkgZnicoZbackendsZcommon_u1107(colontmpD__4);
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	goto LA2_;
LA10_: ;
	{
		NimStringV2 colontmpD__5;
		tySequence__wgMvnlQViw7eTDXNUYd1uQ T18_;
		if (!((*(*pngInfo).mode).colorType == ((tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ)3))) goto LA16_;
		colontmpD__5.len = 0; colontmpD__5.p = NIM_NIL;
		(*surface).channels = ((NI)1);
		T18_.len = 0; T18_.p = NIM_NIL;
		T18_.len = 0; T18_.p = (tySequence__wgMvnlQViw7eTDXNUYd1uQ_Content*) newSeqPayload(0, sizeof(tyTuple__hSHiEU6uEtL7soi1F4tKCg), NIM_ALIGNOF(tyTuple__hSHiEU6uEtL7soi1F4tKCg));
		eqsink___pkgZnicoZbackendsZcommon_u1152((&(*surface).palette), T18_);
		{
			NI i;
			tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g c;
			NI i_2;
			NI L;
			NI T20_;
			i = (NI)0;
			nimZeroMem((void*)(&c), sizeof(tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g));
			i_2 = ((NI)0);
			T20_ = (*(*pngInfo).mode).palette.len;
			L = T20_;
			{
				while (1) {
					tyTuple__hSHiEU6uEtL7soi1F4tKCg T23_;
					if (!(i_2 < L)) goto LA22;
					i = i_2;
					c = (*(*pngInfo).mode).palette.p->data[i_2];
					T23_.Field0 = ((NU8) (((NU8)(c.r))));
					T23_.Field1 = ((NU8) (((NU8)(c.g))));
					T23_.Field2 = ((NU8) (((NU8)(c.b))));
					add__pkgZnicoZbackendsZsdl2_u561((&(*surface).palette), T23_);
					i_2 += ((NI)1);
				} LA22: ;
			}
		}
		colontmpD__5 = eqdup___system_u2693((*png).pixels);
		eqsink___pureZtimes_u2604((&(*surface).data), (*(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ*) (&colontmpD__5)));
		callback_p1.ClE_0? callback_p1.ClP_0(surface, callback_p1.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_37)(callback_p1.ClP_0))(surface);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	goto LA2_;
LA16_: ;
LA2_: ;
	{
		LA1_:;
	}
	{
		eqdestroy___pkgZnicoZbackendsZcommon_u1107(surface);
		eqdestroy___pkgZnicoZbackendsZsdl2_u392(pngInfo);
		eqdestroy___pkgZnim807871_u6612(png);
		eqdestroy___pureZstreams_u725(ss);
		if (buffer.p && !(buffer.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(buffer.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_CLOSURE(void, colonanonymous___pkgZnicoZbackendsZsdl2_u733)(tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface_p0, void* ClE_0) {
	tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw* colonenvP_;
	colonenvP_ = (tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw*) ClE_0;
	eqcopy___pureZtimes_u2598((&(*spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenvP_).i0)- 0]).data), (*surface_p0).data);
	(*spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenvP_).i0)- 0]).w = (*surface_p0).w;
	(*spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenvP_).i0)- 0]).h = (*surface_p0).h;
	(*spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenvP_).i0)- 0]).channels = (*surface_p0).channels;
}
static N_INLINE(NI, minuspercent___system_u813)(NI x_p0, NI y_p1) {
	NI result;
	result = ((NI) ((NU)((NU32)(((NU) (x_p0))) - (NU32)(((NU) (y_p1))))));
	return result;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLastCyclicDyn)(void* p_p0) {
	NIM_BOOL result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_FALSE;
	{
		tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg* cell;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)8));
		cell = ((tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg*) (T5_));
		{
			if (!((NI)((*cell).rc & ((NI)-16)) == ((NI)0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			(*cell).rc -= ((NI)16);
		}
LA6_: ;
		rememberCycle__system_u3528(result, cell, (*((TNimTypeV2**) (p_p0))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u7979)(tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLastCyclicDyn(dest_p0);
		if (!T3_) goto LA4_;
		nimDestroyAndDispose(dest_p0);
	}
LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, refreshSpritesheets__pkgZnicoZbackendsZsdl2_u674)(void) {
	tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw* colonenv_;
	tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw* T2_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colonenv_ = NIM_NIL;
	T2_ = NIM_NIL;
	T2_ = (tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw*) nimNewObj(sizeof(tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw), NIM_ALIGNOF(tyObject_Env_sdl2dotnim_refreshSpritesheets___X7FnXK6jNyJ9awQQk3PLdLw));
	(*T2_).Sup.m_type = (&NTIv2__X7FnXK6jNyJ9awQQk3PLdLw_);
	colonenv_ = T2_;
	{
		NI i;
		(*colonenv_).i0 = (NI)0;
		i = ((NI)0);
		{
			while (1) {
				if (!(i < ((NI)16))) goto LA5;
				(*colonenv_).i0 = i;
				{
					NIM_BOOL T8_;
					NimStringV2 colontmpD_;
					tyProc__V9bGopLHKFo2FjArm25MFaw T13_;
					T8_ = (NIM_BOOL)0;
					T8_ = !((spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenv_).i0)- 0] == ((tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw*) NIM_NIL)));
					if (!(T8_)) goto LA9_;
					T8_ = !(((*spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenv_).i0)- 0]).filename.len == 0));
LA9_: ;
					if (!T8_) goto LA10_;
					colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
					colontmpD_ = nosjoinPath(assetPath__pkgZnicoZbackendsZcommon_u1021, (*spritesheets__pkgZnicoZbackendsZcommon_u1024[((*colonenv_).i0)- 0]).filename);
					if (NIM_UNLIKELY(*nimErr_)) goto LA12_;
					nimZeroMem((void*)(&T13_), sizeof(tyProc__V9bGopLHKFo2FjArm25MFaw));
					T13_.ClP_0 = colonanonymous___pkgZnicoZbackendsZsdl2_u733; T13_.ClE_0 = colonenv_;
					loadSurfaceFromPNG__pkgZnicoZbackendsZsdl2_u368(colontmpD_, T13_);
					if (NIM_UNLIKELY(*nimErr_)) goto LA12_;
					{
						LA12_:;
					}
					{
						if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
					}
					if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
				}
LA10_: ;
				i += ((NI)1);
			} LA5: ;
		}
	}
	{
		LA1_:;
	}
	{
		eqdestroy___pkgZnicoZbackendsZsdl2_u7979(colonenv_);
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, getFullscreen__pkgZnicoZbackendsZsdl2_u1229)(void) {
	NIM_BOOL result;
	NU32 T1_;
{	T1_ = (NU32)0;
	T1_ = SDL_GetWindowFlags(window__pkgZnicoZbackendsZsdl2_u112);
	result = !(((NU32)(T1_ & ((NU32)4097)) == ((NU32)0)));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, setFullscreen__pkgZnicoZbackendsZsdl2_u1227)(NIM_BOOL fullscreen_p0) {
	{
		int T5_;
		if (!fullscreen_p0) goto LA3_;
		T5_ = (int)0;
		T5_ = SDL_SetWindowFullscreen(window__pkgZnicoZbackendsZsdl2_u112, ((NU32)4097));
		(void)(T5_);
	}
	goto LA1_;
LA3_: ;
	{
		int T7_;
		T7_ = (int)0;
		T7_ = SDL_SetWindowFullscreen(window__pkgZnicoZbackendsZsdl2_u112, ((NU32)0));
		(void)(T7_);
	}
LA1_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, resize__pkgZnicoZbackendsZsdl2_u298)(void) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!(window__pkgZnicoZbackendsZsdl2_u112 == NIM_NIL)) goto LA3_;
		goto BeforeRet_;
	}
LA3_: ;
	{
		tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ r;
		int T9_;
		if (!NIM_TRUE) goto LA7_;
		nimZeroMem((void*)(&r), sizeof(tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ));
		T9_ = (int)0;
		T9_ = SDL_GetDisplayUsableBounds(((int)0), (&r));
		(void)(T9_);
		resize__pkgZnicoZbackendsZsdl2_u171(((NI) (r.w)), ((NI) (r.h)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA5_;
LA7_: ;
	{
		int windowW;
		int windowH;
		windowW = (int)0;
		windowH = (int)0;
		SDL_GetWindowSize(window__pkgZnicoZbackendsZsdl2_u112, (&windowW), (&windowH));
		resize__pkgZnicoZbackendsZsdl2_u171(((NI) (windowW)), ((NI) (windowH)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA5_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, saveRecording__pkgZnicoZbackendsZsdl2_u853)(void) {
}
N_LIB_PRIVATE N_NIMCALL(void, saveScreenshot__pkgZnicoZbackendsZsdl2_u747)(void) {
	NimStringV2 colontmpD_;
	tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* frame;
	tySequence__6H5Oh5UUvVCLiakt9aTwtUQ abgr;
	NimStringV2 filename;
	tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw colontmpD__2;
	NimStringV2 colontmpD__3;
	tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw colontmpD__4;
	NimStringV2 colontmpD__5;
	NimStringV2 colontmpD__6;
	NimStringV2 colontmpD__7;
	NimStringV2 T2_;
	tyArray__Re75IspeoxXy2oCZHwcRrA T3_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
	frame = NIM_NIL;
	abgr.len = 0; abgr.p = NIM_NIL;
	filename.len = 0; filename.p = NIM_NIL;
	nimZeroMem((void*)(&colontmpD__2), sizeof(tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw));
	colontmpD__2.Sup.m_type = (&NTIv2__jv4UdNhSLvgRCLMhwqIjHw_);
	colontmpD__3.len = 0; colontmpD__3.p = NIM_NIL;
	nimZeroMem((void*)(&colontmpD__4), sizeof(tyObject_DateTime__jv4UdNhSLvgRCLMhwqIjHw));
	colontmpD__4.Sup.m_type = (&NTIv2__jv4UdNhSLvgRCLMhwqIjHw_);
	colontmpD__5.len = 0; colontmpD__5.p = NIM_NIL;
	colontmpD__6.len = 0; colontmpD__6.p = NIM_NIL;
	colontmpD__7.len = 0; colontmpD__7.p = NIM_NIL;
	T2_.len = 0; T2_.p = NIM_NIL;
	T2_ = rawNewString(writePath__pkgZnicoZbackendsZcommon_u1022.len + 12);
appendString((&T2_), writePath__pkgZnicoZbackendsZcommon_u1022);
appendString((&T2_), TM__lQXcKkYGF8KYpfC3LuZn2A_40);
	colontmpD_ = T2_;
	noscreateDir(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	frame = X5BX5D___pkgZnicoZbackendsZsdl2_u802(recordFrames__pkgZnicoZbackendsZsdl2_u139, (NI)(recordFrames__pkgZnicoZbackendsZsdl2_u139.size - ((NI)1)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	abgr = newSeq__pkgZnicoZbackendsZcommon_u1280(((NI)((NI)(screenWidth__pkgZnicoZbackendsZcommon_u921 * screenHeight__pkgZnicoZbackendsZcommon_u922) * ((NI)4))));
	convertToRGBA__pkgZnicoZbackendsZcommon_u1400(frame, ((void*) ((&abgr.p->data[((NI)0)]))), ((int) ((NI)(screenWidth__pkgZnicoZbackendsZcommon_u921 * ((NI)4)))), ((int) (screenWidth__pkgZnicoZbackendsZcommon_u921)), ((int) (screenHeight__pkgZnicoZbackendsZcommon_u922)));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	now__pureZtimes_u2042((&colontmpD__2));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__3 = ntgetDateStr((&colontmpD__2));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T3_[0] = colontmpD__3;
	now__pureZtimes_u2042((&colontmpD__4));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__5 = ntgetClockStr((&colontmpD__4));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T3_[1] = colontmpD__5;
	colontmpD__6 = nsuFormatVarargs(TM__lQXcKkYGF8KYpfC3LuZn2A_44, T3_, 2);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	colontmpD__7 = nosjoinPath(TM__lQXcKkYGF8KYpfC3LuZn2A_42, colontmpD__6);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	filename = nosjoinPath(writePath__pkgZnicoZbackendsZcommon_u1022, colontmpD__7);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	{
		LA1_:;
	}
	{
		if (colontmpD__7.p && !(colontmpD__7.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__7.p);
}
		if (colontmpD__6.p && !(colontmpD__6.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__6.p);
}
		if (colontmpD__5.p && !(colontmpD__5.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__5.p);
}
		eqdestroy___pureZtimes_u1688((&colontmpD__4));
		if (colontmpD__3.p && !(colontmpD__3.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD__3.p);
}
		eqdestroy___pureZtimes_u1688((&colontmpD__2));
		if (filename.p && !(filename.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(filename.p);
}
		eqdestroy___pureZtimes_u2595(abgr);
		eqdestroy___pkgZnicoZbackendsZcommon_u1107(frame);
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, appHandleEvent__pkgZnicoZbackendsZsdl2_u1231)(tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg* evt_p0) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)256))) goto LA3_;
		keepRunning__pkgZnicoZbackendsZcommon_u1055 = NIM_FALSE;
	}
	goto LA1_;
LA3_: ;
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)259))) goto LA6_;
		focused__pkgZnicoZbackendsZcommon_u997 = NIM_FALSE;
	}
	goto LA1_;
LA6_: ;
	{
		int w;
		int h;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)262))) goto LA9_;
		w = (int)0;
		h = (int)0;
		SDL_GetWindowSize(window__pkgZnicoZbackendsZsdl2_u112, (&w), (&h));
		resize__pkgZnicoZbackendsZsdl2_u171(((NI) (w)), ((NI) (h)));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		current_time__pkgZnicoZbackendsZsdl2_u129 = SDL_GetTicks();
		focused__pkgZnicoZbackendsZcommon_u997 = NIM_TRUE;
	}
	goto LA1_;
LA9_: ;
	{
		NI colontmpD_;
		float colontmpD__2;
		float colontmpD__3;
		float colontmpD__4;
		float colontmpD__5;
		NF32 sx;
		NF32 sy;
		NF32 scale;
		tyObject_Touch__W7l2d79afJabNHgASXk0Cqw T18_;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1792))) goto LA12_;
		colontmpD_ = (NI)0;
		colontmpD__2 = (float)0;
		colontmpD__3 = (float)0;
		colontmpD__4 = (float)0;
		colontmpD__5 = (float)0;
		{
			if (!((*evt_p0).tfinger.touchId == IL64(-1))) goto LA16_;
			goto BeforeRet_;
		}
LA16_: ;
		sx = ((NF32)((*evt_p0).tfinger.x) * (NF32)(((NF32) (displayWidth__pkgZnicoZbackendsZsdl2_u116))));
		sy = ((NF32)((*evt_p0).tfinger.y) * (NF32)(((NF32) (displayHeight__pkgZnicoZbackendsZsdl2_u117))));
		scale = ((NF32)(((NF32) (displayWidth__pkgZnicoZbackendsZsdl2_u116))) / (NF32)(((NF32) (screenWidth__pkgZnicoZbackendsZcommon_u921))));
		T18_.state = ((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)0);
		colontmpD_ = ((NI) ((*evt_p0).tfinger.fingerId));
		T18_.id = colontmpD_;
		T18_.sx = sx;
		T18_.sy = sy;
		T18_.x = ((NI) (((NF32)(sx) / (NF32)(scale))));
		T18_.y = ((NI) (((NF32)(sy) / (NF32)(scale))));
		colontmpD__2 = (*evt_p0).tfinger.dx;
		T18_.xrel = colontmpD__2;
		colontmpD__3 = (*evt_p0).tfinger.dy;
		T18_.yrel = colontmpD__3;
		colontmpD__4 = (*evt_p0).tfinger.dx;
		T18_.xrelraw = colontmpD__4;
		colontmpD__5 = (*evt_p0).tfinger.dy;
		T18_.yrelraw = colontmpD__5;
		add__pkgZnicoZbackendsZsdl2_u1255((&touches__pkgZnicoZbackendsZcommon_u862), (&T18_));
		goto BeforeRet_;
	}
	goto LA1_;
LA12_: ;
	{
		NF32 sx_2;
		NF32 sy_2;
		NF32 scale_2;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1793))) goto LA20_;
		{
			if (!((*evt_p0).tfinger.touchId == IL64(-1))) goto LA24_;
			goto BeforeRet_;
		}
LA24_: ;
		sx_2 = ((NF32)((*evt_p0).tfinger.x) * (NF32)(((NF32) (displayWidth__pkgZnicoZbackendsZsdl2_u116))));
		sy_2 = ((NF32)((*evt_p0).tfinger.y) * (NF32)(((NF32) (displayHeight__pkgZnicoZbackendsZsdl2_u117))));
		scale_2 = ((NF32)(((NF32) (displayWidth__pkgZnicoZbackendsZsdl2_u116))) / (NF32)(((NF32) (screenWidth__pkgZnicoZbackendsZcommon_u921))));
		{
			tyObject_Touch__W7l2d79afJabNHgASXk0Cqw* t;
			NI i;
			NI L;
			NI T27_;
			t = (tyObject_Touch__W7l2d79afJabNHgASXk0Cqw*)0;
			i = ((NI)0);
			T27_ = touches__pkgZnicoZbackendsZcommon_u862.len;
			L = T27_;
			{
				while (1) {
					if (!(i < L)) goto LA29;
					t = (&touches__pkgZnicoZbackendsZcommon_u862.p->data[i]);
					{
						if (!((*t).id == ((NI) ((*evt_p0).tfinger.fingerId)))) goto LA32_;
						(*t).state = ((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)3);
						(*t).xrel = ((NF32)(((NF32)(sx_2) - (NF32)((*t).sx))) / (NF32)(scale_2));
						(*t).yrel = ((NF32)(((NF32)(sy_2) - (NF32)((*t).sy))) / (NF32)(scale_2));
						(*t).xrelraw = ((NF32)(sx_2) - (NF32)((*t).sx));
						(*t).yrelraw = ((NF32)(sy_2) - (NF32)((*t).sy));
						(*t).sx = sx_2;
						(*t).sy = sy_2;
						(*t).x = ((NI) (((NF32)(sx_2) / (NF32)(scale_2))));
						(*t).y = ((NI) (((NF32)(sy_2) / (NF32)(scale_2))));
						goto BeforeRet_;
					}
LA32_: ;
					i += ((NI)1);
				} LA29: ;
			}
		}
	}
	goto LA1_;
LA20_: ;
	{
		NF32 sx_3;
		NF32 sy_3;
		NF32 scale_3;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1794))) goto LA35_;
		{
			if (!((*evt_p0).tfinger.touchId == IL64(-1))) goto LA39_;
			goto BeforeRet_;
		}
LA39_: ;
		sx_3 = ((NF32)((*evt_p0).tfinger.x) * (NF32)(((NF32) (displayWidth__pkgZnicoZbackendsZsdl2_u116))));
		sy_3 = ((NF32)((*evt_p0).tfinger.y) * (NF32)(((NF32) (displayHeight__pkgZnicoZbackendsZsdl2_u117))));
		scale_3 = ((NF32)(((NF32) (displayWidth__pkgZnicoZbackendsZsdl2_u116))) / (NF32)(((NF32) (screenWidth__pkgZnicoZbackendsZcommon_u921))));
		{
			tyObject_Touch__W7l2d79afJabNHgASXk0Cqw* t_2;
			NI i_2;
			NI L_2;
			NI T42_;
			t_2 = (tyObject_Touch__W7l2d79afJabNHgASXk0Cqw*)0;
			i_2 = ((NI)0);
			T42_ = touches__pkgZnicoZbackendsZcommon_u862.len;
			L_2 = T42_;
			{
				while (1) {
					if (!(i_2 < L_2)) goto LA44;
					t_2 = (&touches__pkgZnicoZbackendsZcommon_u862.p->data[i_2]);
					{
						if (!((*t_2).id == ((NI) ((*evt_p0).tfinger.fingerId)))) goto LA47_;
						(*t_2).state = ((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)2);
						(*t_2).xrel = ((NF32)(((NF32)(sx_3) - (NF32)((*t_2).sx))) / (NF32)(scale_3));
						(*t_2).yrel = ((NF32)(((NF32)(sy_3) - (NF32)((*t_2).sy))) / (NF32)(scale_3));
						(*t_2).xrelraw = ((NF32)(sx_3) - (NF32)((*t_2).sx));
						(*t_2).yrelraw = ((NF32)(sy_3) - (NF32)((*t_2).sy));
						(*t_2).sx = sx_3;
						(*t_2).sy = sy_3;
						(*t_2).x = ((NI) (((NF32)(sx_3) / (NF32)(scale_3))));
						(*t_2).y = ((NI) (((NF32)(sy_3) / (NF32)(scale_3))));
						goto BeforeRet_;
					}
LA47_: ;
					i_2 += ((NI)1);
				} LA44: ;
			}
		}
	}
	goto LA1_;
LA35_: ;
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1027))) goto LA50_;
		mouseWheelState__pkgZnicoZbackendsZcommon_u1076 = ((NI) ((*evt_p0).wheel.y));
	}
	goto LA1_;
LA50_: ;
	{
		int T61_;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1025))) goto LA53_;
		{
			NIM_BOOL T57_;
			T57_ = (NIM_BOOL)0;
			T57_ = (touchMouseEmulation__pkgZnicoZbackendsZcommon_u863 == NIM_FALSE);
			if (!(T57_)) goto LA58_;
			T57_ = ((*evt_p0).motion.which == ((NU32)IL64(4294967295)));
LA58_: ;
			if (!T57_) goto LA59_;
			goto BeforeRet_;
		}
LA59_: ;
		T61_ = (int)0;
		T61_ = SDL_CaptureMouse(NIM_TRUE);
		(void)(T61_);
		{
			if (!((NU8)((*evt_p0).button.button) < (NU8)(((NU8)4)))) goto LA64_;
			mouseButtonsDown__pkgZnicoZbackendsZcommon_u1074[((NU8)((NU8)((*evt_p0).button.button) - (NU8)(((NU8)1))))- 0] = NIM_TRUE;
			mouseButtons__pkgZnicoZbackendsZcommon_u1075[((NU8)((NU8)((*evt_p0).button.button) - (NU8)(((NU8)1))))- 0] = ((NI)1);
		}
LA64_: ;
	}
	goto LA1_;
LA53_: ;
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1026))) goto LA67_;
		{
			NIM_BOOL T71_;
			T71_ = (NIM_BOOL)0;
			T71_ = (touchMouseEmulation__pkgZnicoZbackendsZcommon_u863 == NIM_FALSE);
			if (!(T71_)) goto LA72_;
			T71_ = ((*evt_p0).motion.which == ((NU32)IL64(4294967295)));
LA72_: ;
			if (!T71_) goto LA73_;
			goto BeforeRet_;
		}
LA73_: ;
		{
			int T79_;
			if (!((NU8)((*evt_p0).button.button) < (NU8)(((NU8)4)))) goto LA77_;
			T79_ = (int)0;
			T79_ = SDL_CaptureMouse(NIM_FALSE);
			(void)(T79_);
			mouseButtonsDown__pkgZnicoZbackendsZcommon_u1074[((NU8)((NU8)((*evt_p0).button.button) - (NU8)(((NU8)1))))- 0] = NIM_FALSE;
			mouseButtons__pkgZnicoZbackendsZcommon_u1075[((NU8)((NU8)((*evt_p0).button.button) - (NU8)(((NU8)1))))- 0] = ((NI)-1);
		}
LA77_: ;
	}
	goto LA1_;
LA67_: ;
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1024))) goto LA81_;
		{
			NIM_BOOL T85_;
			T85_ = (NIM_BOOL)0;
			T85_ = (touchMouseEmulation__pkgZnicoZbackendsZcommon_u863 == NIM_FALSE);
			if (!(T85_)) goto LA86_;
			T85_ = ((*evt_p0).motion.which == ((NU32)IL64(4294967295)));
LA86_: ;
			if (!T85_) goto LA87_;
			goto BeforeRet_;
		}
LA87_: ;
		{
			if (!!(((*evt_p0).motion.which == ((NU32)IL64(4294967295))))) goto LA91_;
			mouseDetected__pkgZnicoZbackendsZcommon_u1063 = NIM_TRUE;
		}
LA91_: ;
		mouseRawX__pkgZnicoZbackendsZcommon_u1066 = ((NI) ((NI32)((*evt_p0).motion.x - ((NI32) (screenPaddingX__pkgZnicoZbackendsZcommon_u923)))));
		mouseRawY__pkgZnicoZbackendsZcommon_u1067 = ((NI) ((NI32)((*evt_p0).motion.y - ((NI32) (screenPaddingY__pkgZnicoZbackendsZcommon_u924)))));
		mouseX__pkgZnicoZbackendsZcommon_u1064 = ((NI) (((NF32)(((NF32) (mouseRawX__pkgZnicoZbackendsZcommon_u1066))) / (NF32)(((NF32) (screenScale__pkgZnicoZbackendsZcommon_u1023))))));
		mouseY__pkgZnicoZbackendsZcommon_u1065 = ((NI) (((NF32)(((NF32) (mouseRawY__pkgZnicoZbackendsZcommon_u1067))) / (NF32)(((NF32) (screenScale__pkgZnicoZbackendsZcommon_u1023))))));
	}
	goto LA1_;
LA81_: ;
	{
		tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* controller;
		tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* colontmpD__6;
		tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ* T106_;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1619))) goto LA94_;
		{
			tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** v;
			NI i_3;
			NI L_3;
			NI T97_;
			v = (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ**)0;
			i_3 = ((NI)0);
			T97_ = controllers__pkgZnicoZbackendsZcommon_u996.len;
			L_3 = T97_;
			{
				while (1) {
					if (!(i_3 < L_3)) goto LA99;
					v = &controllers__pkgZnicoZbackendsZcommon_u996.p->data[i_3];
					{
						if (!(((NI32) ((*(*v)).id)) == (*evt_p0).cdevice.which)) goto LA102_;
						goto BeforeRet_;
					}
LA102_: ;
					i_3 += ((NI)1);
				} LA99: ;
			}
		}
		controller = NIM_NIL;
		colontmpD__6 = NIM_NIL;
		T106_ = NIM_NIL;
		T106_ = newNicoController__pkgZnicoZcontroller_u53((*evt_p0).cdevice.which);
		if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZcontroller_u68(T106_); goto LA105_;}
		controller = T106_;
		colontmpD__6 = eqdup___pkgZnicoZcontroller_u74(controller);
		add__pkgZnicoZbackendsZsdl2_u1354((&controllers__pkgZnicoZbackendsZcommon_u996), colontmpD__6);
		{
			if (!!((controllerAddedFunc__pkgZnicoZbackendsZcommon_u992.ClP_0 == TM__lQXcKkYGF8KYpfC3LuZn2A_29.ClP_0 && controllerAddedFunc__pkgZnicoZbackendsZcommon_u992.ClE_0 == TM__lQXcKkYGF8KYpfC3LuZn2A_29.ClE_0))) goto LA109_;
			controllerAddedFunc__pkgZnicoZbackendsZcommon_u992.ClE_0? controllerAddedFunc__pkgZnicoZbackendsZcommon_u992.ClP_0(controller, controllerAddedFunc__pkgZnicoZbackendsZcommon_u992.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_30)(controllerAddedFunc__pkgZnicoZbackendsZcommon_u992.ClP_0))(controller);
			if (NIM_UNLIKELY(*nimErr_)) goto LA105_;
		}
LA109_: ;
		{
			LA105_:;
		}
		{
			eqdestroy___pkgZnicoZcontroller_u68(controller);
		}
		if (NIM_UNLIKELY(*nimErr_)) goto LA104_;
		if (NIM_UNLIKELY(*nimErr_)) {
			LA104_:;
			{
				*nimErr_ = NIM_FALSE;
				popCurrentException();
				LA114_:;
			}
		}
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA1_;
LA94_: ;
	{
		NI indexToRemove;
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1620))) goto LA117_;
		indexToRemove = ((NI)-1);
		{
			NI i_4;
			tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** v_2;
			NI i_5;
			NI L_4;
			NI T120_;
			i_4 = (NI)0;
			v_2 = (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ**)0;
			i_5 = ((NI)0);
			T120_ = controllers__pkgZnicoZbackendsZcommon_u996.len;
			L_4 = T120_;
			{
				while (1) {
					if (!(i_5 < L_4)) goto LA122;
					i_4 = i_5;
					v_2 = &controllers__pkgZnicoZbackendsZcommon_u996.p->data[i_5];
					{
						if (!(((NI32) ((*(*v_2)).id)) == (*evt_p0).cdevice.which)) goto LA125_;
						{
							if (!!(((*(*v_2)).sdlController == NIM_NIL))) goto LA129_;
							SDL_GameControllerClose((*(*v_2)).sdlController);
						}
LA129_: ;
						indexToRemove = i_4;
						goto LA119;
					}
LA125_: ;
					i_5 += ((NI)1);
				} LA122: ;
			}
		} LA119: ;
		{
			if (!(((NI)-1) < indexToRemove)) goto LA133_;
			{
				if (!!((controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995.ClP_0 == TM__lQXcKkYGF8KYpfC3LuZn2A_29.ClP_0 && controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995.ClE_0 == TM__lQXcKkYGF8KYpfC3LuZn2A_29.ClE_0))) goto LA137_;
				controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995.ClE_0? controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995.ClP_0(controllers__pkgZnicoZbackendsZcommon_u996.p->data[indexToRemove], controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_31)(controllerRemovedFunc__pkgZnicoZbackendsZcommon_u995.ClP_0))(controllers__pkgZnicoZbackendsZcommon_u996.p->data[indexToRemove]);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA137_: ;
			del__pkgZnicoZbackendsZsdl2_u1449((&controllers__pkgZnicoZbackendsZcommon_u996), (indexToRemove));
		}
LA133_: ;
	}
	goto LA1_;
LA117_: ;
	{
		NIM_BOOL T140_;
		NIM_BOOL down;
		T140_ = (NIM_BOOL)0;
		T140_ = ((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1617));
		if (T140_) goto LA141_;
		T140_ = ((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1618));
LA141_: ;
		if (!T140_) goto LA142_;
		down = ((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1617));
		{
			tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** controller_2;
			NI i_6;
			NI L_5;
			NI T145_;
			controller_2 = (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ**)0;
			i_6 = ((NI)0);
			T145_ = controllers__pkgZnicoZbackendsZcommon_u996.len;
			L_5 = T145_;
			{
				while (1) {
					if (!(i_6 < L_5)) goto LA147;
					controller_2 = &controllers__pkgZnicoZbackendsZcommon_u996.p->data[i_6];
					{
						if (!(((NI32) ((*(*controller_2)).id)) == (*evt_p0).cbutton.which)) goto LA150_;
						switch ((*evt_p0).cbutton.button) {
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)0):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)4), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)1):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)5), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)2):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)6), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)3):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)7), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)6):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)14), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)4):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)15), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)9):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)8), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)10):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)11), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)7):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)10), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)8):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)13), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)11):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)2), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)12):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)3), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)13):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)0), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerButton__3eoEuSsM1v1ek9alTC5ghnw)14):
						{
							setButtonState__pkgZnicoZcontroller_u420((*controller_2), ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)1), down);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						default:
						{
						}
						break;
						}
						goto LA144;
					}
LA150_: ;
					i_6 += ((NI)1);
				} LA147: ;
			}
		} LA144: ;
	}
	goto LA1_;
LA142_: ;
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1616))) goto LA168_;
		{
			tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** controller_3;
			NI i_7;
			NI L_6;
			NI T171_;
			controller_3 = (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ**)0;
			i_7 = ((NI)0);
			T171_ = controllers__pkgZnicoZbackendsZcommon_u996.len;
			L_6 = T171_;
			{
				while (1) {
					if (!(i_7 < L_6)) goto LA173;
					controller_3 = &controllers__pkgZnicoZbackendsZcommon_u996.p->data[i_7];
					{
						NF32 value;
						if (!(((NI32) ((*(*controller_3)).id)) == (*evt_p0).caxis.which)) goto LA176_;
						value = ((NF32)(((NF32) ((*evt_p0).caxis.value))) / (NF32)(32767.0f));
						switch ((*evt_p0).caxis.axis) {
						case ((tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA)0):
						{
							setAxisValue__pkgZnicoZcontroller_u432((*controller_3), ((tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg)0), ((NF) (value)));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA)1):
						{
							setAxisValue__pkgZnicoZcontroller_u432((*controller_3), ((tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg)1), ((NF) (value)));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA)2):
						{
							setAxisValue__pkgZnicoZcontroller_u432((*controller_3), ((tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg)2), ((NF) (value)));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA)3):
						{
							setAxisValue__pkgZnicoZcontroller_u432((*controller_3), ((tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg)3), ((NF) (value)));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA)4):
						{
							setAxisValue__pkgZnicoZcontroller_u432((*controller_3), ((tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg)4), ((NF) (value)));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						case ((tyEnum_GameControllerAxis__I4V6UVQYD9a4VpGPxogQiOA)5):
						{
							setAxisValue__pkgZnicoZcontroller_u432((*controller_3), ((tyEnum_NicoAxis__eF4bd0oBMoJ1BAI9a9b4pOwg)5), ((NF) (value)));
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						}
						break;
						default:
						{
						}
						break;
						}
						goto LA170;
					}
LA176_: ;
					i_7 += ((NI)1);
				} LA173: ;
			}
		} LA170: ;
	}
	goto LA1_;
LA168_: ;
	{
		if (!((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)512))) goto LA186_;
		{
			int T192_;
			int T193_;
			int T194_;
			if (!((*evt_p0).window.event == ((tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw)5))) goto LA190_;
			resize__pkgZnicoZbackendsZsdl2_u171(((NI) ((*evt_p0).window.data1)), ((NI) ((*evt_p0).window.data2)));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			T192_ = (int)0;
			T192_ = SDL_SetRenderTarget(render__pkgZnicoZbackendsZsdl2_u124, NIM_NIL);
			(void)(T192_);
			T193_ = (int)0;
			T193_ = SDL_SetRenderDrawColor(render__pkgZnicoZbackendsZsdl2_u124, ((NU8)0), ((NU8)0), ((NU8)0), ((NU8)255));
			(void)(T193_);
			T194_ = (int)0;
			T194_ = SDL_RenderClear(render__pkgZnicoZbackendsZsdl2_u124);
			(void)(T194_);
		}
		goto LA188_;
LA190_: ;
		{
			if (!((*evt_p0).window.event == ((tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw)6))) goto LA196_;
		}
		goto LA188_;
LA196_: ;
		{
			if (!((*evt_p0).window.event == ((tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw)13))) goto LA199_;
			focused__pkgZnicoZbackendsZcommon_u997 = NIM_FALSE;
		}
		goto LA188_;
LA199_: ;
		{
			if (!((*evt_p0).window.event == ((tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw)12))) goto LA202_;
			focused__pkgZnicoZbackendsZcommon_u997 = NIM_TRUE;
			refreshSpritesheets__pkgZnicoZbackendsZsdl2_u674();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA188_;
LA202_: ;
		{
			if (!((*evt_p0).window.event == ((tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw)1))) goto LA205_;
			focused__pkgZnicoZbackendsZcommon_u997 = NIM_TRUE;
			refreshSpritesheets__pkgZnicoZbackendsZsdl2_u674();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			SDL_PauseAudioDevice(audioDeviceId__pkgZnicoZbackendsZsdl2_u110, ((int)0));
		}
		goto LA188_;
LA205_: ;
		{
			if (!((*evt_p0).window.event == ((tyEnum_WindowEventID__SngW2zJgPpZ4n1sXy9aelzw)2))) goto LA208_;
			focused__pkgZnicoZbackendsZcommon_u997 = NIM_FALSE;
			SDL_PauseAudioDevice(audioDeviceId__pkgZnicoZbackendsZsdl2_u110, ((int)1));
		}
		goto LA188_;
LA208_: ;
LA188_: ;
	}
	goto LA1_;
LA186_: ;
	{
		NIM_BOOL T211_;
		tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw sym;
		NU16 mods;
		tyEnum_Scancode__vEHIUn9c0BakmTIxcQarHJw scancode;
		NIM_BOOL down_2;
		T211_ = (NIM_BOOL)0;
		T211_ = ((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)768));
		if (T211_) goto LA212_;
		T211_ = ((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)769));
LA212_: ;
		if (!T211_) goto LA213_;
		sym = (*evt_p0).key.keysym.sym;
		mods = (*evt_p0).key.keysym.mods;
		scancode = (*evt_p0).key.keysym.scancode;
		down_2 = ((*evt_p0).kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)768));
		{
			tyProc__SR0j0ClEYDvwlJHrgLh3cQ* listener;
			NI i_8;
			NI L_7;
			NI T216_;
			listener = (tyProc__SR0j0ClEYDvwlJHrgLh3cQ*)0;
			i_8 = ((NI)0);
			T216_ = keyListeners__pkgZnicoZbackendsZcommon_u879.len;
			L_7 = T216_;
			{
				while (1) {
					if (!(i_8 < L_7)) goto LA218;
					listener = (&keyListeners__pkgZnicoZbackendsZcommon_u879.p->data[i_8]);
					{
						NIM_BOOL T221_;
						T221_ = (NIM_BOOL)0;
						T221_ = (*listener).ClE_0? (*listener).ClP_0(((NI) (sym)), mods, ((NI) (scancode)), down_2, (*listener).ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_38)((*listener).ClP_0))(((NI) (sym)), mods, ((NI) (scancode)), down_2);
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						if (!T221_) goto LA222_;
						goto BeforeRet_;
					}
LA222_: ;
					i_8 += ((NI)1);
				} LA218: ;
			}
		}
		{
			if (!(sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)1073742094))) goto LA226_;
			setButtonState__pkgZnicoZcontroller_u420(controllers__pkgZnicoZbackendsZcommon_u996.p->data[((NI)0)], ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)15), down_2);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA224_;
LA226_: ;
		{
			NIM_BOOL T229_;
			NIM_BOOL T230_;
			T229_ = (NIM_BOOL)0;
			T230_ = (NIM_BOOL)0;
			T230_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)113));
			if (!(T230_)) goto LA231_;
			T230_ = down_2;
LA231_: ;
			T229_ = T230_;
			if (!(T229_)) goto LA232_;
			T229_ = !(((NU16)(mods & ((NU16)192)) == ((NU16)0)));
LA232_: ;
			if (!T229_) goto LA233_;
			keepRunning__pkgZnicoZbackendsZcommon_u1055 = NIM_FALSE;
		}
		goto LA224_;
LA233_: ;
		{
			NIM_BOOL T236_;
			NIM_BOOL T237_;
			T236_ = (NIM_BOOL)0;
			T237_ = (NIM_BOOL)0;
			T237_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)102));
			if (!(T237_)) goto LA238_;
			T237_ = !(down_2);
LA238_: ;
			T236_ = T237_;
			if (!(T236_)) goto LA239_;
			T236_ = !(((NU16)(mods & ((NU16)192)) == ((NU16)0)));
LA239_: ;
			if (!T236_) goto LA240_;
			{
				NIM_BOOL T244_;
				T244_ = (NIM_BOOL)0;
				T244_ = getFullscreen__pkgZnicoZbackendsZsdl2_u1229();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				if (!T244_) goto LA245_;
				setFullscreen__pkgZnicoZbackendsZsdl2_u1227(NIM_FALSE);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				resize__pkgZnicoZbackendsZsdl2_u298();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			goto LA242_;
LA245_: ;
			{
				setFullscreen__pkgZnicoZbackendsZsdl2_u1227(NIM_TRUE);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				resize__pkgZnicoZbackendsZsdl2_u298();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA242_: ;
			goto BeforeRet_;
		}
		goto LA224_;
LA240_: ;
		{
			NIM_BOOL T249_;
			NIM_BOOL T250_;
			T249_ = (NIM_BOOL)0;
			T250_ = (NIM_BOOL)0;
			T250_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)13));
			if (!(T250_)) goto LA251_;
			T250_ = !(down_2);
LA251_: ;
			T249_ = T250_;
			if (!(T249_)) goto LA252_;
			T249_ = !(((NU16)(mods & ((NU16)768)) == ((NU16)0)));
LA252_: ;
			if (!T249_) goto LA253_;
			{
				NIM_BOOL T257_;
				T257_ = (NIM_BOOL)0;
				T257_ = getFullscreen__pkgZnicoZbackendsZsdl2_u1229();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				if (!T257_) goto LA258_;
				setFullscreen__pkgZnicoZbackendsZsdl2_u1227(NIM_FALSE);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				resize__pkgZnicoZbackendsZsdl2_u298();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
			goto LA255_;
LA258_: ;
			{
				setFullscreen__pkgZnicoZbackendsZsdl2_u1227(NIM_TRUE);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				resize__pkgZnicoZbackendsZsdl2_u298();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA255_: ;
			goto BeforeRet_;
		}
		goto LA224_;
LA253_: ;
		{
			NIM_BOOL T262_;
			T262_ = (NIM_BOOL)0;
			T262_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)1073741889));
			if (!(T262_)) goto LA263_;
			T262_ = down_2;
LA263_: ;
			if (!T262_) goto LA264_;
			createRecordBuffer__pkgZnicoZbackendsZsdl2_u169(NIM_TRUE);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA224_;
LA264_: ;
		{
			NIM_BOOL T267_;
			T267_ = (NIM_BOOL)0;
			T267_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)1073741890));
			if (!(T267_)) goto LA268_;
			T267_ = down_2;
LA268_: ;
			if (!T267_) goto LA269_;
			saveRecording__pkgZnicoZbackendsZsdl2_u853();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA224_;
LA269_: ;
		{
			NIM_BOOL T272_;
			T272_ = (NIM_BOOL)0;
			T272_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)1073741891));
			if (!(T272_)) goto LA273_;
			T272_ = down_2;
LA273_: ;
			if (!T272_) goto LA274_;
			saveScreenshot__pkgZnicoZbackendsZsdl2_u747();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA224_;
LA274_: ;
		{
			NIM_BOOL T277_;
			tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA* colontmpD__7;
			tyArray__nHXaesL0DJZHyVS07ARPRA T282_;
			tyObject_ProcessObj__OYe3OFvqN3ITnXnULqImWA* T283_;
			T277_ = (NIM_BOOL)0;
			T277_ = (sym == ((tyEnum_Keycode__fWdQH4qia8DsH7jP32zRgw)1073741892));
			if (!(T277_)) goto LA278_;
			T277_ = down_2;
LA278_: ;
			if (!T277_) goto LA279_;
			colontmpD__7 = NIM_NIL;
			T282_[0] = writePath__pkgZnicoZbackendsZcommon_u1022;
			T283_ = NIM_NIL;
			T283_ = nospstartProcess(TM__lQXcKkYGF8KYpfC3LuZn2A_46, writePath__pkgZnicoZbackendsZcommon_u1022, T282_, 1, ((tyObject_StringTableObj__iKFSivqnSQE42YZSbu9cwnA*) NIM_NIL), 2);
			if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pureZosproc_u214(T283_); goto LA281_;}
			colontmpD__7 = T283_;
			(void)(colontmpD__7);
			{
				LA281_:;
			}
			{
				eqdestroy___pureZosproc_u214(colontmpD__7);
			}
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
		goto LA224_;
LA279_: ;
LA224_: ;
		{
			if (!((*evt_p0).key.repeat == ((NU8)0))) goto LA288_;
			{
				tySequence__QfewH7ZCzlg03Itl2jsx5w btnScancodes;
				tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw btn;
				tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw i_9;
				btnScancodes.len = 0; btnScancodes.p = NIM_NIL;
				btn = (tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)0;
				i_9 = ((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)0);
				{
					while (1) {
						btn = i_9;
						eqcopy___pkgZnicoZbackendsZcommon_u2754((&btnScancodes), keymap__pkgZnicoZbackendsZcommon_u989[(i_9)- 0]);
						{
							tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A* btnScancode;
							NI i_10;
							NI L_8;
							NI T295_;
							btnScancode = (tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A*)0;
							i_10 = ((NI)0);
							T295_ = btnScancodes.len;
							L_8 = T295_;
							{
								while (1) {
									if (!(i_10 < L_8)) goto LA297;
									btnScancode = (&btnScancodes.p->data[i_10]);
									{
										tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A T300_;
										T300_ = (tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A)0;
										T300_ = toNicoScancode__pkgZnicoZbackendsZsdl2_u22(scancode);
										if (NIM_UNLIKELY(*nimErr_)) goto LA291_;
										if (!(T300_ == (*btnScancode))) goto LA301_;
										setButtonState__pkgZnicoZcontroller_u420(controllers__pkgZnicoZbackendsZcommon_u996.p->data[((NI)0)], btn, down_2);
										if (NIM_UNLIKELY(*nimErr_)) goto LA291_;
									}
LA301_: ;
									i_10 += ((NI)1);
								} LA297: ;
							}
						}
						{
							if (!(((tyEnum_NicoButton__DuWECYQZDfo5yecT9cSNFVw)15) <= i_9)) goto LA305_;
							goto LA292;
						}
LA305_: ;
						i_9 += ((NI)1);
					}
				} LA292: ;
				{
					LA291_:;
				}
				{
					eqdestroy___pkgZnicoZbackendsZcommon_u2751(btnScancodes);
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
		}
LA288_: ;
	}
	goto LA1_;
LA213_: ;
LA1_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, checkInput__pkgZnicoZbackendsZsdl2_u1792)(void) {
	tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg evt;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&evt), sizeof(tyObject_Event__1QU57od0vNf8Qni9b9bP0Lxg));
	{
		while (1) {
			int T3_;
			NIM_BOOL handled;
			T3_ = (int)0;
			T3_ = SDL_PollEvent((&evt));
			if (!(T3_ == ((NI32)1))) goto LA2;
			handled = NIM_FALSE;
			{
				NIM_BOOL T6_;
				tyObject_Event__PhexTflZOX2N20Vr39cGsHg e;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD_;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__2;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__3;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__4;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__5;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__6;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__7;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__8;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__9;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__10;
				tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA colontmpD__11;
				T6_ = (NIM_BOOL)0;
				T6_ = contains__pkgZnicoZbackendsZsdl2_u1833(TM__lQXcKkYGF8KYpfC3LuZn2A_27, 10, evt.kind);
				if (!T6_) goto LA7_;
				nimZeroMem((void*)(&e), sizeof(tyObject_Event__PhexTflZOX2N20Vr39cGsHg));
				colontmpD_ = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__2 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__3 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__4 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__5 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__6 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__7 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__8 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__9 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__10 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				colontmpD__11 = (tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0;
				nimZeroMem((void*)(&e), sizeof(tyObject_Event__PhexTflZOX2N20Vr39cGsHg));
				switch (evt.kind) {
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1025):
				{
					colontmpD_ = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0);
					e.kind = colontmpD_;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1026):
				{
					colontmpD__2 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)1);
					e.kind = colontmpD__2;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1024):
				{
					colontmpD__3 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)2);
					e.kind = colontmpD__3;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)768):
				{
					colontmpD__4 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)3);
					e.kind = colontmpD__4;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)769):
				{
					colontmpD__5 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)4);
					e.kind = colontmpD__5;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1027):
				{
					colontmpD__6 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)5);
					e.kind = colontmpD__6;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)771):
				{
					colontmpD__7 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)6);
					e.kind = colontmpD__7;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1617):
				{
					colontmpD__8 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)8);
					e.kind = colontmpD__8;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1618):
				{
					colontmpD__9 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)9);
					e.kind = colontmpD__9;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1616):
				{
					colontmpD__10 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)10);
					e.kind = colontmpD__10;
				}
				break;
				default:
				{
					colontmpD__11 = ((tyEnum_EventKind__JxOY15B8aYUlZq6hKuO3VA)0);
					e.kind = colontmpD__11;
				}
				break;
				}
				switch (evt.kind) {
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1026):
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1025):
				{
					NI32 T22_;
					NI32 T23_;
					e.button = evt.button.button;
					T22_ = (NI32)0;
					T22_ = toPint__pkgZnicoZbackendsZcommon_u848(screenScale__pkgZnicoZbackendsZcommon_u1023);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.x = ((NI) ((NI32)(((NI32) (((NI) (evt.button.x)))) / T22_)));
					T23_ = (NI32)0;
					T23_ = toPint__pkgZnicoZbackendsZcommon_u848(screenScale__pkgZnicoZbackendsZcommon_u1023);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.y = ((NI) ((NI32)(((NI32) (((NI) (evt.button.y)))) / T23_)));
					e.clicks = evt.button.clicks;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1027):
				{
					e.ywheel = ((NI) (evt.wheel.y));
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1024):
				{
					NI32 T26_;
					NI32 T27_;
					T26_ = (NI32)0;
					T26_ = toPint__pkgZnicoZbackendsZcommon_u848(screenScale__pkgZnicoZbackendsZcommon_u1023);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.x = ((NI) ((NI32)(((NI32) (((NI) (evt.motion.x)))) / T26_)));
					T27_ = (NI32)0;
					T27_ = toPint__pkgZnicoZbackendsZcommon_u848(screenScale__pkgZnicoZbackendsZcommon_u1023);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.y = ((NI) ((NI32)(((NI32) (((NI) (evt.motion.y)))) / T27_)));
					e.xrel = ((NF32)(((NF32) (evt.motion.xrel))) / (NF32)(((NF32) (screenScale__pkgZnicoZbackendsZcommon_u1023))));
					e.yrel = ((NF32)(((NF32) (evt.motion.yrel))) / (NF32)(((NF32) (screenScale__pkgZnicoZbackendsZcommon_u1023))));
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)768):
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)769):
				{
					tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw T29_;
					tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A T30_;
					NI T31_;
					NIM_BOOL down;
					T29_ = (tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw)0;
					T29_ = toNicoKeycode__pkgZnicoZbackendsZsdl2_u19(evt.key.keysym.sym);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.keycode = T29_;
					T30_ = (tyEnum_Scancode__7AedL0UK3WQVpOBs9cmW51A)0;
					T30_ = toNicoScancode__pkgZnicoZbackendsZsdl2_u22(evt.key.keysym.scancode);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.scancode = T30_;
					e.mods = evt.key.keysym.mods;
					T31_ = (NI)0;
					T31_ = toInt__pkgZsdl295nimZsdl_u581(evt.key.repeat);
					if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
					e.repeat = T31_;
					down = (evt.kind == ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)768));
					{
						tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw T36_;
						if (!down) goto LA34_;
						T36_ = (tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw)0;
						T36_ = toNicoKeycode__pkgZnicoZbackendsZsdl2_u19(evt.key.keysym.sym);
						if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
						X5BX5Deq___pkgZnicoZbackendsZsdl2_u1933((&keysDown__pkgZnicoZbackendsZcommon_u244), T36_, ((NU32)1));
						if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
						aKeyWasPressed__pkgZnicoZbackendsZcommon_u245 = NIM_TRUE;
					}
					goto LA32_;
LA34_: ;
					{
						tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw T38_;
						T38_ = (tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw)0;
						T38_ = toNicoKeycode__pkgZnicoZbackendsZsdl2_u19(evt.key.keysym.sym);
						if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
						X5BX5Deq___pkgZnicoZbackendsZsdl2_u1933((&keysDown__pkgZnicoZbackendsZcommon_u244), T38_, ((NU32)0));
						if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
						aKeyWasReleased__pkgZnicoZbackendsZcommon_u246 = NIM_TRUE;
					}
LA32_: ;
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1617):
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1618):
				{
					e.which = ((NU8) (evt.cbutton.which));
					e.button = ((NU8) (evt.cbutton.button));
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)1616):
				{
					e.which = ((NU8) (evt.caxis.which));
					e.button = ((NU8) (evt.caxis.axis));
					e.xrel = ((NF32)(((NF32) (evt.caxis.value))) / (NF32)(32767.0f));
				}
				break;
				case ((tyEnum_EventKind__DAZFzwlQtHt9c9czN32blw0g)771):
				{
					NimStringV2 T42_;
					T42_.len = 0; T42_.p = NIM_NIL;
					T42_ = charArrayToString__pkgZsdl295nimZsdl_u3847(evt.text.text, 32);
					if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___system_u281(T42_); goto LA9_;}
					eqsink___system_u2696((&e.text), T42_);
				}
				break;
				default:
				{
				}
				break;
				}
				{
					tyProc__WgqeCw2WGxAI9bmI3lHRKog* el;
					NI i;
					NI L;
					NI T45_;
					el = (tyProc__WgqeCw2WGxAI9bmI3lHRKog*)0;
					i = ((NI)0);
					T45_ = eventListeners__pkgZnicoZbackendsZcommon_u884.len;
					L = T45_;
					{
						while (1) {
							NIM_BOOL ret;
							if (!(i < L)) goto LA47;
							el = (&eventListeners__pkgZnicoZbackendsZcommon_u884.p->data[i]);
							ret = (*el).ClE_0? (*el).ClP_0((&e), (*el).ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_28)((*el).ClP_0))((&e));
							if (NIM_UNLIKELY(*nimErr_)) goto LA9_;
							{
								if (!ret) goto LA50_;
								handled = NIM_TRUE;
								goto LA44;
							}
LA50_: ;
							i += ((NI)1);
						} LA47: ;
					}
				} LA44: ;
				{
					LA9_:;
				}
				{
					eqdestroy___pkgZnicoZbackendsZsdl2_u3412((&e));
				}
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA7_: ;
			{
				if (!!(handled)) goto LA56_;
				appHandleEvent__pkgZnicoZbackendsZsdl2_u1231((&evt));
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA56_: ;
		} LA2: ;
	}
	}BeforeRet_: ;
}
static N_INLINE(void, pluseq___pureZstrutils_u2427)(NF* x_p0, NF y_p1) {
	(*x_p0) = ((NF)((*x_p0)) + (NF)(y_p1));
}
static N_INLINE(NI, find__pkgZnicoZbackendsZsdl2_u3631)(tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg* a_p0, NI a_p0Len_0, tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg item_p1) {
	NI result;
{	result = ((NI)0);
	{
		tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg* i;
		NI i_2;
		i = (tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg*)0;
		i_2 = ((NI)0);
		{
			while (1) {
				if (!(i_2 < a_p0Len_0)) goto LA3;
				i = (&a_p0[i_2]);
				{
					if (!((*i) == item_p1)) goto LA6_;
					goto BeforeRet_;
				}
LA6_: ;
				result += ((NI)1);
				i_2 += ((NI)1);
			} LA3: ;
		}
	}
	result = ((NI)-1);
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL, contains__pkgZnicoZbackendsZsdl2_u3626)(tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg* a_p0, NI a_p0Len_0, tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg item_p1) {
	NIM_BOOL result;
	NI T1_;
{	T1_ = (NI)0;
	T1_ = find__pkgZnicoZbackendsZsdl2_u3631(a_p0, a_p0Len_0, item_p1);
	result = (((NI)0) <= T1_);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, present__pkgZnicoZbackendsZsdl2_u745)(void) {
	int T1_;
	int T7_;
	int T8_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	convertToABGR__pkgZnicoZbackendsZcommon_u1324(swCanvas__pkgZnicoZbackendsZcommon_u888, (*swCanvas32__pkgZnicoZbackendsZsdl2_u126).pixels, (*swCanvas32__pkgZnicoZbackendsZsdl2_u126).pitch, ((int) (screenWidth__pkgZnicoZbackendsZcommon_u921)), ((int) (screenHeight__pkgZnicoZbackendsZcommon_u922)));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (int)0;
	T1_ = SDL_SetRenderTarget(render__pkgZnicoZbackendsZsdl2_u124, NIM_NIL);
	(void)(T1_);
	{
		int T4_;
		T4_ = (int)0;
		T4_ = SDL_UpdateTexture(hwCanvas__pkgZnicoZbackendsZsdl2_u125, ((tyObject_Rect__jSFFPA7haq9aUuQ73Vo5zyQ*) NIM_NIL), (*swCanvas32__pkgZnicoZbackendsZsdl2_u126).pixels, (*swCanvas32__pkgZnicoZbackendsZsdl2_u126).pitch);
		if (!!((T4_ == ((NI32)0)))) goto LA5_;
	}
LA5_: ;
	T7_ = (int)0;
	T7_ = SDL_SetRenderDrawColor(render__pkgZnicoZbackendsZsdl2_u124, ((NU8)5), ((NU8)5), ((NU8)10), ((NU8)255));
	(void)(T7_);
	T8_ = (int)0;
	T8_ = SDL_RenderClear(render__pkgZnicoZbackendsZsdl2_u124);
	(void)(T8_);
	{
		int T11_;
		T11_ = (int)0;
		T11_ = SDL_RenderCopy(render__pkgZnicoZbackendsZsdl2_u124, hwCanvas__pkgZnicoZbackendsZsdl2_u125, (&srcRect__pkgZnicoZbackendsZsdl2_u127), (&dstRect__pkgZnicoZbackendsZsdl2_u128));
		if (!!((T11_ == ((NI32)0)))) goto LA12_;
	}
LA12_: ;
	SDL_RenderPresent(render__pkgZnicoZbackendsZsdl2_u124);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, flip__pkgZnicoZbackendsZsdl2_u746)(void) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	present__pkgZnicoZbackendsZsdl2_u745();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL, isFilled__pureZcollectionsZtables_u31)(NI hcode_p0) {
	NIM_BOOL result;
	result = !((hcode_p0 == ((NI)0)));
	return result;
}
static N_INLINE(void, minuseq___pkgZnicoZbackendsZsdl2_u4228)(NF* x_p0, NF y_p1) {
	(*x_p0) = ((NF)((*x_p0)) - (NF)(y_p1));
}
N_LIB_PRIVATE N_NIMCALL(NI, queuedAudioSize__pkgZnicoZbackendsZsdl2_u3543)(void) {
	NI result;
	NU32 T1_;
{	result = (NI)0;
	T1_ = (NU32)0;
	T1_ = SDL_GetQueuedAudioSize(audioDeviceId__pkgZnicoZbackendsZsdl2_u110);
	result = (NI)(((NI) (T1_)) / ((NI)4));
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_CDECL(void, step__pkgZnicoZbackendsZsdl2_u3548)(void) {
	NF32 diff;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	checkInput__pkgZnicoZbackendsZsdl2_u1792();
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	next_time__pkgZnicoZbackendsZsdl2_u131 = SDL_GetTicks();
	diff = ((NF32)(((NF32)(((NF32) ((NU32)((NU32)(next_time__pkgZnicoZbackendsZsdl2_u131) - (NU32)(current_time__pkgZnicoZbackendsZsdl2_u129))))) / (NF32)(1000.0f))) * (NF32)(((NF32) (frameMult__pkgZnicoZbackendsZcommon_u1019))));
	{
		if (!(((NF)(timeStep__pkgZnicoZbackendsZcommon_u1018) * (NF)(2.0f)) < ((NF) (diff)))) goto LA3_;
		diff = ((NF32) (timeStep__pkgZnicoZbackendsZcommon_u1018));
	}
LA3_: ;
	pluseq___pureZstrutils_u2427((&acc__pkgZnicoZbackendsZsdl2_u130), ((NF) (diff)));
	current_time__pkgZnicoZbackendsZsdl2_u129 = next_time__pkgZnicoZbackendsZsdl2_u131;
	{
		if (!(timeStep__pkgZnicoZbackendsZcommon_u1018 < acc__pkgZnicoZbackendsZsdl2_u130)) goto LA7_;
		realDt__pkgZnicoZbackendsZsdl2_u3545 = ((NF32) (acc__pkgZnicoZbackendsZsdl2_u130));
	}
LA7_: ;
	{
		while (1) {
			NI posX60gensym97_;
			if (!(timeStep__pkgZnicoZbackendsZcommon_u1018 < acc__pkgZnicoZbackendsZsdl2_u130)) goto LA10;
			{
				tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** controller;
				NI i;
				NI L;
				NI T12_;
				controller = (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ**)0;
				i = ((NI)0);
				T12_ = controllers__pkgZnicoZbackendsZcommon_u996.len;
				L = T12_;
				{
					while (1) {
						if (!(i < L)) goto LA14;
						controller = &controllers__pkgZnicoZbackendsZcommon_u996.p->data[i];
						update__pkgZnicoZcontroller_u182((*controller));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						i += ((NI)1);
					} LA14: ;
				}
			}
			updateFunc__pkgZnicoZbackendsZcommon_u1033.ClE_0? updateFunc__pkgZnicoZbackendsZcommon_u1033.ClP_0(((NF32) (timeStep__pkgZnicoZbackendsZcommon_u1018)), updateFunc__pkgZnicoZbackendsZcommon_u1033.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_47)(updateFunc__pkgZnicoZbackendsZcommon_u1033.ClP_0))(((NF32) (timeStep__pkgZnicoZbackendsZcommon_u1018)));
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			{
				tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ** controller_2;
				NI i_2;
				NI L_2;
				NI T16_;
				controller_2 = (tyObject_NicoControllercolonObjectType___OpA7H9cHyiLWNuzgwH7k5ZQ**)0;
				i_2 = ((NI)0);
				T16_ = controllers__pkgZnicoZbackendsZcommon_u996.len;
				L_2 = T16_;
				{
					while (1) {
						if (!(i_2 < L_2)) goto LA18;
						controller_2 = &controllers__pkgZnicoZbackendsZcommon_u996.p->data[i_2];
						postUpdate__pkgZnicoZcontroller_u296((*controller_2));
						if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
						i_2 += ((NI)1);
					} LA18: ;
				}
			}
			{
				tyObject_Touch__W7l2d79afJabNHgASXk0Cqw* touch;
				NI i_3;
				NI L_3;
				NI T20_;
				touch = (tyObject_Touch__W7l2d79afJabNHgASXk0Cqw*)0;
				i_3 = ((NI)0);
				T20_ = touches__pkgZnicoZbackendsZcommon_u862.len;
				L_3 = T20_;
				{
					while (1) {
						if (!(i_3 < L_3)) goto LA22;
						touch = (&touches__pkgZnicoZbackendsZcommon_u862.p->data[i_3]);
						{
							NIM_BOOL T25_;
							T25_ = (NIM_BOOL)0;
							T25_ = ((*touch).state == ((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)0));
							if (T25_) goto LA26_;
							T25_ = ((*touch).state == ((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)2));
LA26_: ;
							if (!T25_) goto LA27_;
							(*touch).state = ((tyEnum_TouchState__qs77bc9bzmEAAXZGKPDZsgg)1);
						}
LA27_: ;
						i_3 += ((NI)1);
					} LA22: ;
				}
			}
			posX60gensym97_ = ((NI)0);
			{
				NI iX60gensym97_;
				NI colontmp_;
				NI T30_;
				NI i_4;
				iX60gensym97_ = (NI)0;
				colontmp_ = (NI)0;
				T30_ = touches__pkgZnicoZbackendsZcommon_u862.len;
				colontmp_ = T30_;
				i_4 = ((NI)0);
				{
					while (1) {
						tyObject_Touch__W7l2d79afJabNHgASXk0Cqw it;
						if (!(i_4 < colontmp_)) goto LA32;
						iX60gensym97_ = i_4;
						nimZeroMem((void*)(&it), sizeof(tyObject_Touch__W7l2d79afJabNHgASXk0Cqw));
						it = touches__pkgZnicoZbackendsZcommon_u862.p->data[iX60gensym97_];
						{
							NIM_BOOL T35_;
							T35_ = (NIM_BOOL)0;
							T35_ = contains__pkgZnicoZbackendsZsdl2_u3626(TM__lQXcKkYGF8KYpfC3LuZn2A_48, 2, it.state);
							if (!!(T35_)) goto LA36_;
							{
								if (!!((posX60gensym97_ == iX60gensym97_))) goto LA40_;
								touches__pkgZnicoZbackendsZcommon_u862.p->data[posX60gensym97_] = touches__pkgZnicoZbackendsZcommon_u862.p->data[iX60gensym97_];
								eqwasMoved___pkgZnicoZbackendsZsdl2_u1629((&touches__pkgZnicoZbackendsZcommon_u862.p->data[iX60gensym97_]));
							}
LA40_: ;
							posX60gensym97_ += ((NI)1);
						}
LA36_: ;
						i_4 += ((NI)1);
					} LA32: ;
				}
			}
			setLen__pkgZnicoZbackendsZcommon_u2193((&touches__pkgZnicoZbackendsZcommon_u862), (posX60gensym97_));
			frame__pkgZnicoZbackendsZcommon_u1043 += ((NI)1);
			{
				NIM_BOOL T44_;
				T44_ = (NIM_BOOL)0;
				T44_ = (timeStep__pkgZnicoZbackendsZcommon_u1018 < acc__pkgZnicoZbackendsZsdl2_u130);
				if (!(T44_)) goto LA45_;
				T44_ = (acc__pkgZnicoZbackendsZsdl2_u130 < ((NF)(timeStep__pkgZnicoZbackendsZcommon_u1018) + (NF)(timeStep__pkgZnicoZbackendsZcommon_u1018)));
LA45_: ;
				if (!T44_) goto LA46_;
				{
					if (!!((window__pkgZnicoZbackendsZsdl2_u112 == NIM_NIL))) goto LA50_;
					drawFunc__pkgZnicoZbackendsZcommon_u1035.ClE_0? drawFunc__pkgZnicoZbackendsZcommon_u1035.ClP_0(drawFunc__pkgZnicoZbackendsZcommon_u1035.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_49)(drawFunc__pkgZnicoZbackendsZcommon_u1035.ClP_0))();
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					flip__pkgZnicoZbackendsZsdl2_u746();
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				}
LA50_: ;
			}
LA46_: ;
			{
				NI i_5;
				NIM_BOOL b;
				NI i_6;
				i_5 = (NI)0;
				b = (NIM_BOOL)0;
				i_6 = ((NI)0);
				{
					while (1) {
						i_5 = i_6;
						b = mouseButtonsDown__pkgZnicoZbackendsZcommon_u1074[(i_6)- 0];
						{
							if (!b) goto LA57_;
							mouseButtons__pkgZnicoZbackendsZcommon_u1075[(i_5)- 0] += ((NI)1);
						}
						goto LA55_;
LA57_: ;
						{
							mouseButtons__pkgZnicoZbackendsZcommon_u1075[(i_5)- 0] = ((NI)0);
						}
LA55_: ;
						{
							if (!(((NI)2) <= i_6)) goto LA62_;
							goto LA53;
						}
LA62_: ;
						i_6 += ((NI)1);
					}
				} LA53: ;
			}
			{
				tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw k;
				NU32 v;
				NI L_4;
				k = (tyEnum_Keycode__3ENka4Td3JjGlKkKWwkaRw)0;
				v = (NU32)0;
				L_4 = len__pkgZnicoZbackendsZsdl2_u3823(keysDown__pkgZnicoZbackendsZcommon_u244);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				{
					NI h;
					NI colontmp__2;
					NI T66_;
					NI res;
					h = (NI)0;
					colontmp__2 = (NI)0;
					T66_ = (keysDown__pkgZnicoZbackendsZcommon_u244.data.len-1);
					colontmp__2 = T66_;
					res = ((NI)0);
					{
						while (1) {
							if (!(res <= colontmp__2)) goto LA68;
							h = ((NI) (res));
							{
								NIM_BOOL T71_;
								T71_ = (NIM_BOOL)0;
								T71_ = isFilled__pureZcollectionsZtables_u31(keysDown__pkgZnicoZbackendsZcommon_u244.data.p->data[h].Field0);
								if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
								if (!T71_) goto LA72_;
								k = keysDown__pkgZnicoZbackendsZcommon_u244.data.p->data[h].Field1;
								v = keysDown__pkgZnicoZbackendsZcommon_u244.data.p->data[h].Field2;
								{
									NU32* T78_;
									if (!!((v == ((NU32)0)))) goto LA76_;
									T78_ = (NU32*)0;
									T78_ = X5BX5D___pkgZnicoZbackendsZsdl2_u4127((&keysDown__pkgZnicoZbackendsZcommon_u244), k);
									if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
									(*T78_) += ((NU32)1);
								}
LA76_: ;
							}
LA72_: ;
							res += ((NI)1);
						} LA68: ;
					}
				}
			}
			mouseWheelState__pkgZnicoZbackendsZcommon_u1076 = ((NI)0);
			mouseRelX__pkgZnicoZbackendsZcommon_u1068 = ((NF32)(((NF32) ((NI)(mouseRawX__pkgZnicoZbackendsZcommon_u1066 - lastMouseRawX__pkgZnicoZbackendsZcommon_u1072)))) / (NF32)(((NF32) (screenScale__pkgZnicoZbackendsZcommon_u1023))));
			mouseRelY__pkgZnicoZbackendsZcommon_u1069 = ((NF32)(((NF32) ((NI)(mouseRawY__pkgZnicoZbackendsZcommon_u1067 - lastMouseRawY__pkgZnicoZbackendsZcommon_u1073)))) / (NF32)(((NF32) (screenScale__pkgZnicoZbackendsZcommon_u1023))));
			lastMouseRawX__pkgZnicoZbackendsZcommon_u1072 = mouseRawX__pkgZnicoZbackendsZcommon_u1066;
			lastMouseRawY__pkgZnicoZbackendsZcommon_u1073 = mouseRawY__pkgZnicoZbackendsZcommon_u1067;
			lastMouseX__pkgZnicoZbackendsZcommon_u1070 = mouseX__pkgZnicoZbackendsZcommon_u1064;
			lastMouseY__pkgZnicoZbackendsZcommon_u1071 = mouseY__pkgZnicoZbackendsZcommon_u1065;
			minuseq___pkgZnicoZbackendsZsdl2_u4228((&acc__pkgZnicoZbackendsZsdl2_u130), timeStep__pkgZnicoZbackendsZcommon_u1018);
			{
				NIM_BOOL T81_;
				NI T83_;
				T81_ = (NIM_BOOL)0;
				T81_ = !(noAudio__pkgZnicoZbackendsZsdl2_u113);
				if (!(T81_)) goto LA82_;
				T83_ = (NI)0;
				T83_ = queuedAudioSize__pkgZnicoZbackendsZsdl2_u3543();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				T81_ = (T83_ < (NI)(audioBufferSize__pkgZnicoZbackendsZsdl2_u115 * ((NI)4)));
LA82_: ;
				if (!T81_) goto LA84_;
				queueMixerAudio__pkgZnicoZbackendsZsdl2_u3542();
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			}
LA84_: ;
			realDt__pkgZnicoZbackendsZsdl2_u3545 = 0.0f;
		} LA10: ;
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_CDECL(void, emscLoop__pkgZnicoZbackendsZsdl2_u6661)(void) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!!(keepRunning__pkgZnicoZbackendsZcommon_u1055)) goto LA3_;
		emscripten_cancel_main_loop();
	}
	goto LA1_;
LA3_: ;
	{
		{
			NIM_BOOL T8_;
			T8_ = (NIM_BOOL)0;
			T8_ = configInitialised__pkgZnicoZbackendsZsdl2_u4437;
			if (!(T8_)) goto LA9_;
			T8_ = (initFuncCalled__pkgZnicoZbackendsZcommon_u1030 == NIM_FALSE);
LA9_: ;
			if (!T8_) goto LA10_;
			initFuncCalled__pkgZnicoZbackendsZcommon_u1030 = NIM_TRUE;
			initFunc__pkgZnicoZbackendsZcommon_u1029.ClE_0? initFunc__pkgZnicoZbackendsZcommon_u1029.ClP_0(initFunc__pkgZnicoZbackendsZcommon_u1029.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_26)(initFunc__pkgZnicoZbackendsZcommon_u1029.ClP_0))();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA10_: ;
		{
			if (!configInitialised__pkgZnicoZbackendsZsdl2_u4437) goto LA14_;
			step__pkgZnicoZbackendsZsdl2_u3548();
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		}
LA14_: ;
	}
LA1_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, run__pkgZnicoZbackendsZsdl2_u6660)(void) {
	keepRunning__pkgZnicoZbackendsZcommon_u1055 = NIM_TRUE;
	emscripten_set_main_loop(emscLoop__pkgZnicoZbackendsZsdl2_u6661, ((int)0), ((int)1));
}
N_LIB_PRIVATE N_NIMCALL(void, loadSurfaceFromPNGNoConvert__pkgZnicoZbackendsZsdl2_u632)(NimStringV2 filename_p0, tyProc__V9bGopLHKFo2FjArm25MFaw callback_p1) {
	NimStringV2 buffer;
	tyObject_StringStreamObj__Xqy2ChsRysK89cRYYCgJgYg* ss;
	tyObject_PNGcolonObjectType___J6C59bQRwHpNHmiY2EDu3Rg* png;
	tyObject_PNGInfocolonObjectType___7osJ2b5dlqTabIJe35B3eg* pngInfo;
	tyObject_SurfacecolonObjectType___0nV08lgWmmCQq9akWtUrWUw* surface;
	NimStringV2 blitTmp;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	buffer.len = 0; buffer.p = NIM_NIL;
	ss = NIM_NIL;
	png = NIM_NIL;
	pngInfo = NIM_NIL;
	surface = NIM_NIL;
	buffer = readFile__pkgZnicoZbackendsZsdl2_u312(filename_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	blitTmp = buffer;
	eqwasMoved___system_u2687((&buffer));
	ss = newStringStream__pureZstreams_u942(blitTmp);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	png = decodePNG__pkgZnim807871_u11151(&ss->Sup, ((tyObject_PNGDecodercolonObjectType___GcwpDfDt9c6JckQzZHpx9aMQ*) NIM_NIL));
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	pngInfo = getInfo__pkgZnicoZbackendsZsdl2_u376(png);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	surface = newSurface__pkgZnicoZbackendsZcommon_u1091((*pngInfo).width, (*pngInfo).height);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	eqcopy___system_u2690((&(*surface).filename), filename_p0);
	(*surface).w = (*pngInfo).width;
	(*surface).h = (*pngInfo).height;
	{
		NimStringV2 colontmpD_;
		if (!((*(*pngInfo).mode).colorType == ((tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ)6))) goto LA4_;
		colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
		(*surface).channels = ((NI)4);
		colontmpD_ = eqdup___system_u2693((*png).pixels);
		eqsink___pureZtimes_u2604((&(*surface).data), (*(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ*) (&colontmpD_)));
		callback_p1.ClE_0? callback_p1.ClP_0(surface, callback_p1.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_50)(callback_p1.ClP_0))(surface);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	goto LA2_;
LA4_: ;
	{
		NimStringV2 colontmpD__2;
		tySequence__wgMvnlQViw7eTDXNUYd1uQ T9_;
		if (!((*(*pngInfo).mode).colorType == ((tyEnum_PNGColorType__qGgjPTfy6A3XPF9cJVjA1PQ)3))) goto LA7_;
		colontmpD__2.len = 0; colontmpD__2.p = NIM_NIL;
		(*surface).channels = ((NI)1);
		T9_.len = 0; T9_.p = NIM_NIL;
		T9_.len = 0; T9_.p = (tySequence__wgMvnlQViw7eTDXNUYd1uQ_Content*) newSeqPayload(0, sizeof(tyTuple__hSHiEU6uEtL7soi1F4tKCg), NIM_ALIGNOF(tyTuple__hSHiEU6uEtL7soi1F4tKCg));
		eqsink___pkgZnicoZbackendsZcommon_u1152((&(*surface).palette), T9_);
		{
			NI i;
			tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g c;
			NI i_2;
			NI L;
			NI T11_;
			i = (NI)0;
			nimZeroMem((void*)(&c), sizeof(tyObject_RGBA8__OaVskadsNLIb1dK0PjMN7g));
			i_2 = ((NI)0);
			T11_ = (*(*pngInfo).mode).palette.len;
			L = T11_;
			{
				while (1) {
					tyTuple__hSHiEU6uEtL7soi1F4tKCg T14_;
					if (!(i_2 < L)) goto LA13;
					i = i_2;
					c = (*(*pngInfo).mode).palette.p->data[i_2];
					T14_.Field0 = ((NU8) (((NU8)(c.r))));
					T14_.Field1 = ((NU8) (((NU8)(c.g))));
					T14_.Field2 = ((NU8) (((NU8)(c.b))));
					add__pkgZnicoZbackendsZsdl2_u561((&(*surface).palette), T14_);
					i_2 += ((NI)1);
				} LA13: ;
			}
		}
		colontmpD__2 = eqdup___system_u2693((*png).pixels);
		eqsink___pureZtimes_u2604((&(*surface).data), (*(tySequence__6H5Oh5UUvVCLiakt9aTwtUQ*) (&colontmpD__2)));
		callback_p1.ClE_0? callback_p1.ClP_0(surface, callback_p1.ClE_0):((TM__lQXcKkYGF8KYpfC3LuZn2A_51)(callback_p1.ClP_0))(surface);
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	}
	goto LA2_;
LA7_: ;
LA2_: ;
	{
		LA1_:;
	}
	{
		eqdestroy___pkgZnicoZbackendsZcommon_u1107(surface);
		eqdestroy___pkgZnicoZbackendsZsdl2_u392(pngInfo);
		eqdestroy___pkgZnim807871_u6612(png);
		eqdestroy___pureZstreams_u725(ss);
		if (buffer.p && !(buffer.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(buffer.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NIM_BOOL, nimDecRefIsLast)(void* p_p0) {
	NIM_BOOL result;
	result = NIM_FALSE;
	{
		tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg* cell;
		NI T5_;
		if (!!((p_p0 == NIM_NIL))) goto LA3_;
		T5_ = (NI)0;
		T5_ = minuspercent___system_u813(((NI) (ptrdiff_t) (p_p0)), ((NI)8));
		cell = ((tyObject_RefHeader__gnJExvuIhzi79cQetGScWGg*) (T5_));
		{
			if (!((NI)((NI32)((*cell).rc) >> (NU32)(((NI)4))) == ((NI)0))) goto LA8_;
			result = NIM_TRUE;
		}
		goto LA6_;
LA8_: ;
		{
			(*cell).rc -= ((NI)16);
		}
LA6_: ;
	}
LA3_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6698)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* dest_p0) {
	eqdestroy___pkgZnicoZbackendsZsdl2_u6077((*dest_p0).data);
}
N_LIB_PRIVATE N_NIMCALL(void, eqsink___pkgZnicoZbackendsZsdl2_u6689)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg** dest_p0, tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* src_p1) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast((*dest_p0));
		if (!T3_) goto LA4_;
		eqdestroy___pkgZnicoZbackendsZsdl2_u6698((*dest_p0));
		nimRawDispose((*dest_p0), ((NI)4));
	}
LA4_: ;
	(*dest_p0) = src_p1;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u6680)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* dest_p0) {
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = nimDecRefIsLast(dest_p0);
		if (!T3_) goto LA4_;
		eqdestroy___pkgZnicoZbackendsZsdl2_u6698(dest_p0);
		nimRawDispose(dest_p0, ((NI)4));
	}
LA4_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqwasMoved___pkgZnicoZbackendsZsdl2_u6677)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg** dest_p0) {
	(*dest_p0) = 0;
}
N_LIB_PRIVATE N_NIMCALL(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg*, newSfxBuffer__pkgZnicoZbackendsZsdl2_u6665)(NimStringV2 filename_p0) {
	tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* result;
	NimStringV2 data;
	tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg* v;
	tyObject_VorbisInfo__8z9au9booJEXpPHjdj0gksbQ info;
	NI nSamples;
	unsigned int T8_;
	tySequence__4Xyxy0Om14N6K1l5e9bUPSQ T9_;
	int count;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = NIM_NIL;
	data.len = 0; data.p = NIM_NIL;
	result = new__pkgZnicoZbackendsZsdl2_u6668();
	data = readFile__pkgZnicoZbackendsZsdl2_u312(filename_p0);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	v = stb_vorbis_open_memory(((void*) ((&data.p->data[((NI)0)]))), ((int) (data.len)), ((int*) NIM_NIL), NIM_NIL);
	{
		tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw* T6_;
		NimStringV2 T7_;
		if (!(v == ((tyObject_VorbisObj__5PzYikC9ahSxNpWoA19aAkYg*) NIM_NIL))) goto LA4_;
		T6_ = NIM_NIL;
		T6_ = (tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw*) nimNewObj(sizeof(tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw), NIM_ALIGNOF(tyObject_IOError__YfyTxe9cThBYfr9aHkc9cltBw));
		(*T6_).Sup.Sup.Sup.m_type = (&NTIv2__YfyTxe9cThBYfr9aHkc9cltBw_);
		(*T6_).Sup.Sup.name = "IOError";
		T7_.len = 0; T7_.p = NIM_NIL;
		T7_ = rawNewString(filename_p0.len + 27);
appendString((&T7_), TM__lQXcKkYGF8KYpfC3LuZn2A_53);
appendString((&T7_), filename_p0);
		(*T6_).Sup.Sup.message = T7_;
		(*T6_).Sup.Sup.parent = ((Exception*) NIM_NIL);
		raiseExceptionEx((Exception*)T6_, "IOError", "newSfxBuffer", "sdl2.nim", 1906);
goto LA1_;
	}
LA4_: ;
	info = stb_vorbis_get_info(v);
	T8_ = (unsigned int)0;
	T8_ = stb_vorbis_stream_length_in_samples(v);
	nSamples = ((NI) (T8_));
	T9_.len = 0; T9_.p = NIM_NIL;
	T9_ = newSeq__pkgZnicoZbackendsZsdl2_u6375(((NI)(nSamples * ((NI) (info.channels)))));
	eqsink___pkgZnicoZbackendsZsdl2_u6086((&(*result).data), T9_);
	(*result).rate = ((NF32) (info.sample_rate));
	(*result).channels = ((NI) (info.channels));
	(*result).length = nSamples;
	count = stb_vorbis_get_samples_float_interleaved(v, info.channels, (&(*result).data.p->data[((NI)0)]), ((int) ((NI)(nSamples * ((NI) (info.channels))))));
	{
		if (!(count < ((NI32) (nSamples)))) goto LA12_;
	}
LA12_: ;
	stb_vorbis_close(v);
	{
		LA1_:;
	}
	{
		if (data.p && !(data.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(data.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, loadSfx__pkgZnicoZbackendsZsdl2_u6804)(NI index_p0, NimStringV2 filename_p1) {
	NimStringV2 colontmpD_;
	tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg* T8_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
	{
		NIM_BOOL T4_;
		T4_ = (NIM_BOOL)0;
		T4_ = (index_p0 < ((NI)0));
		if (T4_) goto LA5_;
		T4_ = (((NI)63) < index_p0);
LA5_: ;
		if (!T4_) goto LA6_;
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
		goto BeforeRet_;
	}
LA6_: ;
	colontmpD_ = nosjoinPath(assetPath__pkgZnicoZbackendsZcommon_u1021, filename_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T8_ = NIM_NIL;
	T8_ = newSfxBuffer__pkgZnicoZbackendsZsdl2_u6665(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) {eqdestroy___pkgZnicoZbackendsZsdl2_u6680(T8_); goto LA1_;}
	eqsink___pkgZnicoZbackendsZsdl2_u6689(&sfxBufferLibrary__pkgZnicoZbackendsZsdl2_u140[(index_p0)- 0], T8_);
	{
		LA1_:;
	}
	{
		if (colontmpD_.p && !(colontmpD_.p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(colontmpD_.p);
}
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u7109)(tyObject_Channel__in24RcHDml3U5CQrgcGk5g* dest_p0) {
	NI colontmp_;
	colontmp_ = ((NI)0);
	{
		while (1) {
			if (!(colontmp_ < ((NI)16))) goto LA2;
			{
				NIM_BOOL T5_;
				T5_ = (NIM_BOOL)0;
				T5_ = nimDecRefIsLast(dest_p0[(colontmp_)- 0].buffer);
				if (!T5_) goto LA6_;
				eqdestroy___pkgZnicoZbackendsZsdl2_u6698(dest_p0[(colontmp_)- 0].buffer);
				nimRawDispose(dest_p0[(colontmp_)- 0].buffer, ((NI)4));
			}
LA6_: ;
			{
				NIM_BOOL T10_;
				T10_ = (NIM_BOOL)0;
				T10_ = nimDecRefIsLastCyclicDyn(dest_p0[(colontmp_)- 0].callback.ClE_0);
				if (!T10_) goto LA11_;
				nimDestroyAndDispose(dest_p0[(colontmp_)- 0].callback.ClE_0);
			}
LA11_: ;
			eqdestroy___pkgZnicoZbackendsZsdl2_u6077(dest_p0[(colontmp_)- 0].outputBuffer.data);
			colontmp_ += ((NI)1);
		} LA2: ;
	}
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u7752)(NimStringV2* dest_p0) {
	NI colontmp_;
	colontmp_ = ((NI)0);
	{
		while (1) {
			if (!(colontmp_ < ((NI)64))) goto LA2;
			if (dest_p0[(colontmp_)- 0].p && !(dest_p0[(colontmp_)- 0].p->cap & NIM_STRLIT_FLAG)) {
 deallocShared(dest_p0[(colontmp_)- 0].p);
}
			colontmp_ += ((NI)1);
		} LA2: ;
	}
}
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___pkgZnicoZbackendsZsdl2_u7710)(tyObject_SfxBuffercolonObjectType___lwjhdE2hrylQh0EU9aI9butg** dest_p0) {
	NI colontmp_;
	colontmp_ = ((NI)0);
	{
		while (1) {
			if (!(colontmp_ < ((NI)64))) goto LA2;
			{
				NIM_BOOL T5_;
				T5_ = (NIM_BOOL)0;
				T5_ = nimDecRefIsLast(dest_p0[(colontmp_)- 0]);
				if (!T5_) goto LA6_;
				eqdestroy___pkgZnicoZbackendsZsdl2_u6698(dest_p0[(colontmp_)- 0]);
				nimRawDispose(dest_p0[(colontmp_)- 0], ((NI)4));
			}
LA6_: ;
			colontmp_ += ((NI)1);
		} LA2: ;
	}
}
N_LIB_PRIVATE N_NIMCALL(void, atmdotdotatsdotdotatsdotdotatsdotnimbleatspkgs2atsnicominus0dot4dot10minusf4d0514d40cc9aeaa3f02e3654986ff28d1038ecatsnicoatsbackendsatssdl2dotnim_Init000)(void) {
{
	current_time__pkgZnicoZbackendsZsdl2_u129 = SDL_GetTicks();
	nimTestErrorFlag();
}
}

