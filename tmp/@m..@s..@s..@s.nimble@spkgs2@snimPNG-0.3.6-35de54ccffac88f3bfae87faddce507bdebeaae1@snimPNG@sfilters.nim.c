/* Generated by Nim Compiler v2.2.2 */
/* Compiled for: Linux, wasm32, clang */
/* Command for C compiler:
   emcc -c -w -ferror-limit=3 -pthread -O3   -I/home/gregis/.choosenim/toolchains/nim-2.2.2/lib -I/home/gregis/Projects/OneLastBeat/src -o /home/gregis/Projects/OneLastBeat/tmp/@m..@s..@s..@s.nimble@spkgs2@snimPNG-0.3.6-35de54ccffac88f3bfae87faddce507bdebeaae1@snimPNG@sfilters.nim.c.o /home/gregis/Projects/OneLastBeat/tmp/@m..@s..@s..@s.nimble@spkgs2@snimPNG-0.3.6-35de54ccffac88f3bfae87faddce507bdebeaae1@snimPNG@sfilters.nim.c */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
typedef struct tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ;
typedef NU8 tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ;
typedef NI tyArray__7faYhUidbIkFZQJndG6Ggw[7];
typedef NI tyArray__9a8QARi5WsUggNU9bom7kzTQ[8];
struct tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ {
	tyArray__7faYhUidbIkFZQJndG6Ggw w;
	tyArray__7faYhUidbIkFZQJndG6Ggw h;
	tyArray__9a8QARi5WsUggNU9bom7kzTQ filterStart;
	tyArray__9a8QARi5WsUggNU9bom7kzTQ paddedStart;
	tyArray__9a8QARi5WsUggNU9bom7kzTQ start;
};
N_LIB_PRIVATE N_NIMCALL(void, unfilterScanline__pkgZnim807871_u6796)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NI byteWidth_p2, NI len_p3, tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ filterType_p4);
N_LIB_PRIVATE N_NIMCALL(void, unfilterScanline__pkgZnim807871_u6881)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NIM_CHAR* prevLine_p2, NI prevLine_p2Len_0, NI byteWidth_p3, NI len_p4, tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ filterType_p5);
N_LIB_PRIVATE N_NIMCALL(NU, paethPredictor__pkgZnim807871Zfilters_u22)(NI a_p0, NI b_p1, NI c_p2);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
N_LIB_PRIVATE N_NIMCALL(NI, readBitFromReversedStream__pkgZnim807871_u6982)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0);
N_LIB_PRIVATE N_NIMCALL(void, setBitOfReversedStream__pkgZnim807871_u7001)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0, NI bit_p2);
N_LIB_PRIVATE N_NIMCALL(void, ampeq___pkgZnim807871_u7014)(NIM_CHAR* a_p0, NIM_CHAR b_p1);
N_LIB_PRIVATE N_NIMCALL(void, bareq___pkgZnim807871_u7026)(NIM_CHAR* a_p0, NIM_CHAR b_p1);
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1);
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2);
N_LIB_PRIVATE N_NIMCALL(void, adam7PassValues__pkgZnim807871Zfilters_u296)(tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ* pass_p0, NI w_p1, NI h_p2, NI bpp_p3);
N_LIB_PRIVATE N_NIMCALL(void, setBitOfReversedStream0__pkgZnim807871_u8388)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0, NI bit_p2);
N_LIB_PRIVATE NIM_CONST tyArray__7faYhUidbIkFZQJndG6Ggw ADAM7_DX__pkgZnim807871Zfilters_u20 = {((NI)8),
((NI)8),
((NI)4),
((NI)4),
((NI)2),
((NI)2),
((NI)1)}
;
N_LIB_PRIVATE NIM_CONST tyArray__7faYhUidbIkFZQJndG6Ggw ADAM7_IX__pkgZnim807871Zfilters_u18 = {((NI)0),
((NI)4),
((NI)0),
((NI)2),
((NI)0),
((NI)1),
((NI)0)}
;
N_LIB_PRIVATE NIM_CONST tyArray__7faYhUidbIkFZQJndG6Ggw ADAM7_DY__pkgZnim807871Zfilters_u21 = {((NI)8),
((NI)8),
((NI)8),
((NI)4),
((NI)4),
((NI)2),
((NI)2)}
;
N_LIB_PRIVATE NIM_CONST tyArray__7faYhUidbIkFZQJndG6Ggw ADAM7_IY__pkgZnim807871Zfilters_u19 = {((NI)0),
((NI)0),
((NI)4),
((NI)0),
((NI)2),
((NI)0),
((NI)1)}
;
extern NIM_THREADVAR NIM_BOOL nimInErrorMode__system_u4433;
N_LIB_PRIVATE N_NIMCALL(void, unfilterScanline__pkgZnim807871_u6796)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NI byteWidth_p2, NI len_p3, tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ filterType_p4) {
	switch (filterType_p4) {
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)0):
	{
		{
			NI i;
			NI i_2;
			i = (NI)0;
			i_2 = ((NI)0);
			{
				while (1) {
					if (!(i_2 < len_p3)) goto LA4;
					i = i_2;
					output_p0[i] = input_p1[i];
					i_2 += ((NI)1);
				} LA4: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)1):
	{
		{
			NI i_3;
			NI i_4;
			i_3 = (NI)0;
			i_4 = ((NI)0);
			{
				while (1) {
					if (!(i_4 < byteWidth_p2)) goto LA8;
					i_3 = i_4;
					output_p0[i_3] = input_p1[i_3];
					i_4 += ((NI)1);
				} LA8: ;
			}
		}
		{
			NI i_5;
			NI i_6;
			i_5 = (NI)0;
			i_6 = byteWidth_p2;
			{
				while (1) {
					if (!(i_6 < len_p3)) goto LA11;
					i_5 = i_6;
					output_p0[i_5] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_5]))))) + (NU32)(((NU) (((NU8)(output_p0[(NI)(i_5 - byteWidth_p2)])))))) & ((NU)255))));
					i_6 += ((NI)1);
				} LA11: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)2):
	{
		{
			NI i_7;
			NI i_8;
			i_7 = (NI)0;
			i_8 = ((NI)0);
			{
				while (1) {
					if (!(i_8 < len_p3)) goto LA15;
					i_7 = i_8;
					output_p0[i_7] = input_p1[i_7];
					i_8 += ((NI)1);
				} LA15: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)3):
	{
		{
			NI i_9;
			NI i_10;
			i_9 = (NI)0;
			i_10 = ((NI)0);
			{
				while (1) {
					if (!(i_10 < byteWidth_p2)) goto LA19;
					i_9 = i_10;
					output_p0[i_9] = input_p1[i_9];
					i_10 += ((NI)1);
				} LA19: ;
			}
		}
		{
			NI i_11;
			NI i_12;
			i_11 = (NI)0;
			i_12 = byteWidth_p2;
			{
				while (1) {
					if (!(i_12 < len_p3)) goto LA22;
					i_11 = i_12;
					output_p0[i_11] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_11]))))) + (NU32)((NU)((NU32)(((NU) (((NU8)(output_p0[(NI)(i_11 - byteWidth_p2)]))))) / (NU32)(((NU)2))))) & ((NU)255))));
					i_12 += ((NI)1);
				} LA22: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)4):
	{
		{
			NI i_13;
			NI i_14;
			i_13 = (NI)0;
			i_14 = ((NI)0);
			{
				while (1) {
					if (!(i_14 < byteWidth_p2)) goto LA26;
					i_13 = i_14;
					output_p0[i_13] = input_p1[i_13];
					i_14 += ((NI)1);
				} LA26: ;
			}
		}
		{
			NI i_15;
			NI i_16;
			i_15 = (NI)0;
			i_16 = byteWidth_p2;
			{
				while (1) {
					if (!(i_16 < len_p3)) goto LA29;
					i_15 = i_16;
					output_p0[i_15] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_15]))))) + (NU32)(((NU) (((NU8)(output_p0[(NI)(i_15 - byteWidth_p2)])))))) & ((NU)255))));
					i_16 += ((NI)1);
				} LA29: ;
			}
		}
	}
	break;
	default: __builtin_unreachable();
	}
}
N_LIB_PRIVATE N_NIMCALL(NU, paethPredictor__pkgZnim807871Zfilters_u22)(NI a_p0, NI b_p1, NI c_p2) {
	NU result;
	NI pa;
	NI pb;
	NI pc;
{	pa = ((NI)(b_p1 - c_p2) > 0? ((NI)(b_p1 - c_p2)) : -((NI)(b_p1 - c_p2)));
	pb = ((NI)(a_p0 - c_p2) > 0? ((NI)(a_p0 - c_p2)) : -((NI)(a_p0 - c_p2)));
	pc = ((NI)((NI)((NI)(a_p0 + b_p1) - c_p2) - c_p2) > 0? ((NI)((NI)((NI)(a_p0 + b_p1) - c_p2) - c_p2)) : -((NI)((NI)((NI)(a_p0 + b_p1) - c_p2) - c_p2)));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (pc < pa);
		if (!(T3_)) goto LA4_;
		T3_ = (pc < pb);
LA4_: ;
		if (!T3_) goto LA5_;
		result = ((NU) (c_p2));
		goto BeforeRet_;
	}
	goto LA1_;
LA5_: ;
	{
		if (!(pb < pa)) goto LA8_;
		result = ((NU) (b_p1));
		goto BeforeRet_;
	}
	goto LA1_;
LA8_: ;
LA1_: ;
	result = ((NU) (a_p0));
	}BeforeRet_: ;
	return result;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (&nimInErrorMode__system_u4433);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, unfilterScanline__pkgZnim807871_u6881)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NIM_CHAR* prevLine_p2, NI prevLine_p2Len_0, NI byteWidth_p3, NI len_p4, tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ filterType_p5) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	switch (filterType_p5) {
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)0):
	{
		{
			NI i;
			NI i_2;
			i = (NI)0;
			i_2 = ((NI)0);
			{
				while (1) {
					if (!(i_2 < len_p4)) goto LA4;
					i = i_2;
					output_p0[i] = input_p1[i];
					i_2 += ((NI)1);
				} LA4: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)1):
	{
		{
			NI i_3;
			NI i_4;
			i_3 = (NI)0;
			i_4 = ((NI)0);
			{
				while (1) {
					if (!(i_4 < byteWidth_p3)) goto LA8;
					i_3 = i_4;
					output_p0[i_3] = input_p1[i_3];
					i_4 += ((NI)1);
				} LA8: ;
			}
		}
		{
			NI i_5;
			NI i_6;
			i_5 = (NI)0;
			i_6 = byteWidth_p3;
			{
				while (1) {
					if (!(i_6 < len_p4)) goto LA11;
					i_5 = i_6;
					output_p0[i_5] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_5]))))) + (NU32)(((NU) (((NU8)(output_p0[(NI)(i_5 - byteWidth_p3)])))))) & ((NU)255))));
					i_6 += ((NI)1);
				} LA11: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)2):
	{
		{
			NI i_7;
			NI i_8;
			i_7 = (NI)0;
			i_8 = ((NI)0);
			{
				while (1) {
					if (!(i_8 < len_p4)) goto LA15;
					i_7 = i_8;
					output_p0[i_7] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_7]))))) + (NU32)(((NU) (((NU8)(prevLine_p2[i_7])))))) & ((NU)255))));
					i_8 += ((NI)1);
				} LA15: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)3):
	{
		{
			NI i_9;
			NI i_10;
			i_9 = (NI)0;
			i_10 = ((NI)0);
			{
				while (1) {
					if (!(i_10 < byteWidth_p3)) goto LA19;
					i_9 = i_10;
					output_p0[i_9] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_9]))))) + (NU32)((NU)((NU32)(((NU) (((NU8)(prevLine_p2[i_9]))))) / (NU32)(((NU)2))))) & ((NU)255))));
					i_10 += ((NI)1);
				} LA19: ;
			}
		}
		{
			NI i_11;
			NI i_12;
			i_11 = (NI)0;
			i_12 = byteWidth_p3;
			{
				while (1) {
					if (!(i_12 < len_p4)) goto LA22;
					i_11 = i_12;
					output_p0[i_11] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_11]))))) + (NU32)((NU)((NU32)((NU)((NU32)(((NU) (((NU8)(output_p0[(NI)(i_11 - byteWidth_p3)]))))) + (NU32)(((NU) (((NU8)(prevLine_p2[i_11]))))))) / (NU32)(((NU)2))))) & ((NU)255))));
					i_12 += ((NI)1);
				} LA22: ;
			}
		}
	}
	break;
	case ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ)4):
	{
		{
			NI i_13;
			NI i_14;
			i_13 = (NI)0;
			i_14 = ((NI)0);
			{
				while (1) {
					if (!(i_14 < byteWidth_p3)) goto LA26;
					i_13 = i_14;
					output_p0[i_13] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_13]))))) + (NU32)(((NU) (((NU8)(prevLine_p2[i_13])))))) & ((NU)255))));
					i_14 += ((NI)1);
				} LA26: ;
			}
		}
		{
			NI i_15;
			NI i_16;
			i_15 = (NI)0;
			i_16 = byteWidth_p3;
			{
				while (1) {
					NU T30_;
					if (!(i_16 < len_p4)) goto LA29;
					i_15 = i_16;
					T30_ = (NU)0;
					T30_ = paethPredictor__pkgZnim807871Zfilters_u22(((NI) (((NU8)(output_p0[(NI)(i_15 - byteWidth_p3)])))), ((NI) (((NU8)(prevLine_p2[i_15])))), ((NI) (((NU8)(prevLine_p2[(NI)(i_15 - byteWidth_p3)])))));
					if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
					output_p0[i_15] = ((NIM_CHAR) ((NU)((NU)((NU32)(((NU) (((NU8)(input_p1[i_15]))))) + (NU32)(T30_)) & ((NU)255))));
					i_16 += ((NI)1);
				} LA29: ;
			}
		}
	}
	break;
	default: __builtin_unreachable();
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, unfilter__pkgZnim807871_u6778)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NI w_p2, NI h_p3, NI bpp_p4) {
	NI byteWidth;
	NI lineTs;
	NI prevIndex;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	byteWidth = (NI)((NI)(bpp_p4 + ((NI)7)) / ((NI)8));
	lineTs = (NI)((NI)((NI)(w_p2 * bpp_p4) + ((NI)7)) / ((NI)8));
	{
		if (!(((NI)0) < h_p3)) goto LA3_;
		unfilterScanline__pkgZnim807871_u6796(output_p0, output_p0Len_0, (NIM_CHAR*)(input_p1)+(((NI)1)), ((NI)(input_p1Len_0 - ((NI)1)))-(((NI)1))+1, byteWidth, lineTs, ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ) (((NU8)(input_p1[((NI)0)])))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	prevIndex = ((NI)0);
	{
		NI y;
		NI i;
		y = (NI)0;
		i = ((NI)1);
		{
			while (1) {
				NI outIndex;
				NI inIndex;
				tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ filterType;
				if (!(i < h_p3)) goto LA7;
				y = i;
				outIndex = (NI)(lineTs * y);
				inIndex = (NI)((NI)(((NI)1) + lineTs) * y);
				filterType = ((tyEnum_PNGFilter__wIHteZRrQM9c9blaMjAWpzTQ) (((NU8)(input_p1[inIndex]))));
				unfilterScanline__pkgZnim807871_u6881((NIM_CHAR*)(output_p0)+(outIndex), ((NI)(output_p0Len_0 - ((NI)1)))-(outIndex)+1, (NIM_CHAR*)(input_p1)+((NI)(inIndex + ((NI)1))), ((NI)(input_p1Len_0 - ((NI)1)))-((NI)(inIndex + ((NI)1)))+1, (NIM_CHAR*)(output_p0)+(prevIndex), ((NI)(output_p0Len_0 - ((NI)1)))-(prevIndex)+1, byteWidth, lineTs, filterType);
				if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
				prevIndex = outIndex;
				i += ((NI)1);
			} LA7: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI, readBitFromReversedStream__pkgZnim807871_u6982)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0) {
	NI result;
	result = (NI)((NI)((NI32)(((NI) (((NU8)(bitstream_p1[(NI)((NI32)((*bitptr_p0)) >> (NU32)(((NI)3)))]))))) >> (NU32)((NI)(((NI)7) - (NI)((*bitptr_p0) & ((NI)7))))) & ((NI)1));
	(*bitptr_p0) += ((NI)1);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, ampeq___pkgZnim807871_u7014)(NIM_CHAR* a_p0, NIM_CHAR b_p1) {
	(*a_p0) = ((NIM_CHAR) ((NI)(((NI) (((NU8)((*a_p0))))) & ((NI) (((NU8)(b_p1)))))));
}
N_LIB_PRIVATE N_NIMCALL(void, bareq___pkgZnim807871_u7026)(NIM_CHAR* a_p0, NIM_CHAR b_p1) {
	(*a_p0) = ((NIM_CHAR) ((NI)(((NI) (((NU8)((*a_p0))))) | ((NI) (((NU8)(b_p1)))))));
}
N_LIB_PRIVATE N_NIMCALL(void, setBitOfReversedStream__pkgZnim807871_u7001)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0, NI bit_p2) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!(bit_p2 == ((NI)0))) goto LA3_;
		ampeq___pkgZnim807871_u7014((&bitstream_p1[(NI)((NI32)((*bitptr_p0)) >> (NU32)(((NI)3)))]), ((NIM_CHAR) ((NI)((NU32) ~((NI)((NU32)(((NI)1)) << (NU32)((NI)(((NI)7) - (NI)((*bitptr_p0) & ((NI)7))))))))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
	goto LA1_;
LA3_: ;
	{
		bareq___pkgZnim807871_u7026((&bitstream_p1[(NI)((NI32)((*bitptr_p0)) >> (NU32)(((NI)3)))]), ((NIM_CHAR) ((NI)((NU32)(((NI)1)) << (NU32)((NI)(((NI)7) - (NI)((*bitptr_p0) & ((NI)7))))))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA1_: ;
	(*bitptr_p0) += ((NI)1);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, removePaddingBits__pkgZnim807871_u6961)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NI olinebits_p2, NI ilinebits_p3, NI h_p4) {
	NI diff;
	NI ibp;
	NI obp;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	diff = (NI)(ilinebits_p3 - olinebits_p2);
	ibp = ((NI)0);
	obp = ((NI)0);
	{
		NI y;
		NI colontmp_;
		NI res;
		y = (NI)0;
		colontmp_ = (NI)0;
		colontmp_ = (NI)(h_p4 - ((NI)1));
		res = ((NI)0);
		{
			while (1) {
				if (!(res <= colontmp_)) goto LA3;
				y = ((NI) (res));
				{
					NI x;
					NI colontmp__2;
					NI res_2;
					x = (NI)0;
					colontmp__2 = (NI)0;
					colontmp__2 = (NI)(olinebits_p2 - ((NI)1));
					res_2 = ((NI)0);
					{
						while (1) {
							NI bit;
							if (!(res_2 <= colontmp__2)) goto LA6;
							x = ((NI) (res_2));
							bit = readBitFromReversedStream__pkgZnim807871_u6982((&ibp), input_p1, input_p1Len_0);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							setBitOfReversedStream__pkgZnim807871_u7001((&obp), output_p0, output_p0Len_0, bit);
							if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
							res_2 += ((NI)1);
						} LA6: ;
					}
				}
				ibp += diff;
				res += ((NI)1);
			} LA3: ;
		}
	}
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, adam7PassValues__pkgZnim807871Zfilters_u296)(tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ* pass_p0, NI w_p1, NI h_p2, NI bpp_p3) {
	{
		NI i;
		NI res;
		i = (NI)0;
		res = ((NI)0);
		{
			while (1) {
				if (!(res <= ((NI)6))) goto LA3;
				i = ((NI) (res));
				(*pass_p0).w[(i)- 0] = (NI)((NI)((NI)((NI)(w_p1 + ADAM7_DX__pkgZnim807871Zfilters_u20[(i)- 0]) - ADAM7_IX__pkgZnim807871Zfilters_u18[(i)- 0]) - ((NI)1)) / ADAM7_DX__pkgZnim807871Zfilters_u20[(i)- 0]);
				(*pass_p0).h[(i)- 0] = (NI)((NI)((NI)((NI)(h_p2 + ADAM7_DY__pkgZnim807871Zfilters_u21[(i)- 0]) - ADAM7_IY__pkgZnim807871Zfilters_u19[(i)- 0]) - ((NI)1)) / ADAM7_DY__pkgZnim807871Zfilters_u21[(i)- 0]);
				{
					if (!((*pass_p0).w[(i)- 0] == ((NI)0))) goto LA6_;
					(*pass_p0).h[(i)- 0] = ((NI)0);
				}
LA6_: ;
				{
					if (!((*pass_p0).h[(i)- 0] == ((NI)0))) goto LA10_;
					(*pass_p0).w[(i)- 0] = ((NI)0);
				}
LA10_: ;
				res += ((NI)1);
			} LA3: ;
		}
	}
	(*pass_p0).filterStart[(((NI)0))- 0] = ((NI)0);
	(*pass_p0).paddedStart[(((NI)0))- 0] = ((NI)0);
	(*pass_p0).start[(((NI)0))- 0] = ((NI)0);
	{
		NI i_2;
		NI res_2;
		i_2 = (NI)0;
		res_2 = ((NI)0);
		{
			while (1) {
				if (!(res_2 <= ((NI)6))) goto LA14;
				i_2 = ((NI) (res_2));
				(*pass_p0).filterStart[((NI)(i_2 + ((NI)1)))- 0] = (*pass_p0).filterStart[(i_2)- 0];
				{
					NIM_BOOL T17_;
					T17_ = (NIM_BOOL)0;
					T17_ = !(((*pass_p0).w[(i_2)- 0] == ((NI)0)));
					if (!(T17_)) goto LA18_;
					T17_ = !(((*pass_p0).h[(i_2)- 0] == ((NI)0)));
LA18_: ;
					if (!T17_) goto LA19_;
					(*pass_p0).filterStart[((NI)(i_2 + ((NI)1)))- 0] += (NI)((*pass_p0).h[(i_2)- 0] * (NI)(((NI)1) + (NI)((NI)((NI)((*pass_p0).w[(i_2)- 0] * bpp_p3) + ((NI)7)) / ((NI)8))));
				}
LA19_: ;
				(*pass_p0).paddedStart[((NI)(i_2 + ((NI)1)))- 0] = (NI)((*pass_p0).paddedStart[(i_2)- 0] + (NI)((*pass_p0).h[(i_2)- 0] * (NI)((NI)((NI)((*pass_p0).w[(i_2)- 0] * bpp_p3) + ((NI)7)) / ((NI)8))));
				(*pass_p0).start[((NI)(i_2 + ((NI)1)))- 0] = (NI)((*pass_p0).start[(i_2)- 0] + (NI)((NI)((NI)((NI)((*pass_p0).h[(i_2)- 0] * (*pass_p0).w[(i_2)- 0]) * bpp_p3) + ((NI)7)) / ((NI)8)));
				res_2 += ((NI)1);
			} LA14: ;
		}
	}
}
static N_INLINE(void, nimSetMem__systemZmemory_u7)(void* a_p0, int v_p1, NI size_p2) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a_p0, v_p1, ((size_t) (size_p2)));
}
static N_INLINE(void, nimZeroMem)(void* p_p0, NI size_p1) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_u7(p_p0, ((int)0), size_p1);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, setBitOfReversedStream0__pkgZnim807871_u8388)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0, NI bit_p2) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	{
		if (!!((bit_p2 == ((NI)0)))) goto LA3_;
		bareq___pkgZnim807871_u7026((&bitstream_p1[(NI)((NI32)((*bitptr_p0)) >> (NU32)(((NI)3)))]), ((NIM_CHAR) ((NI)((NU32)(bit_p2) << (NU32)((NI)(((NI)7) - (NI)((*bitptr_p0) & ((NI)7))))))));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}
LA3_: ;
	(*bitptr_p0) += ((NI)1);
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(void, adam7Deinterlace__pkgZnim807871_u7543)(NIM_CHAR* output_p0, NI output_p0Len_0, NIM_CHAR* input_p1, NI input_p1Len_0, NI w_p2, NI h_p3, NI bpp_p4) {
	tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ pass;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimZeroMem((void*)(&pass), sizeof(tyObject_PNGPass__XQ8Fey24VPKQWLv57TFgpQ));
	adam7PassValues__pkgZnim807871Zfilters_u296((&pass), w_p2, h_p3, bpp_p4);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	{
		if (!(((NI)8) <= bpp_p4)) goto LA3_;
		{
			NI i;
			NI res;
			i = (NI)0;
			res = ((NI)0);
			{
				while (1) {
					NI byteWidth;
					if (!(res <= ((NI)6))) goto LA7;
					i = ((NI) (res));
					byteWidth = (NI)(bpp_p4 / ((NI)8));
					{
						NI y;
						NI* colontmp_;
						NI i_2;
						y = (NI)0;
						colontmp_ = (NI*)0;
						colontmp_ = (&pass.h[(i)- 0]);
						i_2 = ((NI)0);
						{
							while (1) {
								if (!(i_2 < (*colontmp_))) goto LA10;
								y = i_2;
								{
									NI x;
									NI* colontmp__2;
									NI i_3;
									x = (NI)0;
									colontmp__2 = (NI*)0;
									colontmp__2 = (&pass.w[(i)- 0]);
									i_3 = ((NI)0);
									{
										while (1) {
											NI inStart;
											NI outStart;
											if (!(i_3 < (*colontmp__2))) goto LA13;
											x = i_3;
											inStart = (NI)(pass.start[(i)- 0] + (NI)((NI)((NI)(y * pass.w[(i)- 0]) + x) * byteWidth));
											outStart = (NI)((NI)((NI)((NI)((NI)(ADAM7_IY__pkgZnim807871Zfilters_u19[(i)- 0] + (NI)(y * ADAM7_DY__pkgZnim807871Zfilters_u21[(i)- 0])) * w_p2) + ADAM7_IX__pkgZnim807871Zfilters_u18[(i)- 0]) + (NI)(x * ADAM7_DX__pkgZnim807871Zfilters_u20[(i)- 0])) * byteWidth);
											{
												NI b;
												NI i_4;
												b = (NI)0;
												i_4 = ((NI)0);
												{
													while (1) {
														if (!(i_4 < byteWidth)) goto LA16;
														b = i_4;
														output_p0[(NI)(outStart + b)] = input_p1[(NI)(inStart + b)];
														i_4 += ((NI)1);
													} LA16: ;
												}
											}
											i_3 += ((NI)1);
										} LA13: ;
									}
								}
								i_2 += ((NI)1);
							} LA10: ;
						}
					}
					res += ((NI)1);
				} LA7: ;
			}
		}
	}
	goto LA1_;
LA3_: ;
	{
		{
			NI i_5;
			NI res_2;
			i_5 = (NI)0;
			res_2 = ((NI)0);
			{
				while (1) {
					NI ilinebits;
					NI olinebits;
					if (!(res_2 <= ((NI)6))) goto LA20;
					i_5 = ((NI) (res_2));
					ilinebits = (NI)(bpp_p4 * pass.w[(i_5)- 0]);
					olinebits = (NI)(bpp_p4 * w_p2);
					{
						NI y_2;
						NI* colontmp__3;
						NI i_6;
						y_2 = (NI)0;
						colontmp__3 = (NI*)0;
						colontmp__3 = (&pass.h[(i_5)- 0]);
						i_6 = ((NI)0);
						{
							while (1) {
								if (!(i_6 < (*colontmp__3))) goto LA23;
								y_2 = i_6;
								{
									NI x_2;
									NI* colontmp__4;
									NI i_7;
									x_2 = (NI)0;
									colontmp__4 = (NI*)0;
									colontmp__4 = (&pass.w[(i_5)- 0]);
									i_7 = ((NI)0);
									{
										while (1) {
											NI ibp;
											NI obp;
											if (!(i_7 < (*colontmp__4))) goto LA26;
											x_2 = i_7;
											ibp = (NI)((NI)(((NI)8) * pass.start[(i_5)- 0]) + (NI)((NI)(y_2 * ilinebits) + (NI)(x_2 * bpp_p4)));
											obp = (NI)((NI)((NI)(ADAM7_IY__pkgZnim807871Zfilters_u19[(i_5)- 0] + (NI)(y_2 * ADAM7_DY__pkgZnim807871Zfilters_u21[(i_5)- 0])) * olinebits) + (NI)((NI)(ADAM7_IX__pkgZnim807871Zfilters_u18[(i_5)- 0] + (NI)(x_2 * ADAM7_DX__pkgZnim807871Zfilters_u20[(i_5)- 0])) * bpp_p4));
											{
												NI b_2;
												NI i_8;
												b_2 = (NI)0;
												i_8 = ((NI)0);
												{
													while (1) {
														NI bit;
														if (!(i_8 < bpp_p4)) goto LA29;
														b_2 = i_8;
														bit = readBitFromReversedStream__pkgZnim807871_u6982((&ibp), input_p1, input_p1Len_0);
														if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
														setBitOfReversedStream0__pkgZnim807871_u8388((&obp), output_p0, output_p0Len_0, bit);
														if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
														i_8 += ((NI)1);
													} LA29: ;
												}
											}
											i_7 += ((NI)1);
										} LA26: ;
									}
								}
								i_6 += ((NI)1);
							} LA23: ;
						}
					}
					res_2 += ((NI)1);
				} LA20: ;
			}
		}
	}
LA1_: ;
	}BeforeRet_: ;
}
N_LIB_PRIVATE N_NIMCALL(NI, readBitsFromReversedStream__pkgZnim807871_u8893)(NI* bitptr_p0, NIM_CHAR* bitstream_p1, NI bitstream_p1Len_0, NI nbits_p2) {
	NI result;
	NI i;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = ((NI)0);
	i = (NI)(nbits_p2 - ((NI)1));
	{
		while (1) {
			NI T3_;
			if (!(((NI)-1) < i)) goto LA2;
			T3_ = (NI)0;
			T3_ = readBitFromReversedStream__pkgZnim807871_u6982(bitptr_p0, bitstream_p1, bitstream_p1Len_0);
			if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
			result += (NI)((NU32)(T3_) << (NU32)(i));
			i -= ((NI)1);
		} LA2: ;
	}
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, addColorBits__pkgZnim807871_u9620)(NIM_CHAR* output_p0, NI output_p0Len_0, NI index_p1, NI bits_p2, NI input_p3) {
	NI m;
	NI p;
	NI val;
	NI idx;
	m = ((NI)1);
	{
		if (!(bits_p2 == ((NI)1))) goto LA3_;
		m = ((NI)7);
	}
	goto LA1_;
LA3_: ;
	{
		if (!(bits_p2 == ((NI)2))) goto LA6_;
		m = ((NI)3);
	}
	goto LA1_;
LA6_: ;
LA1_: ;
	p = (NI)(index_p1 & m);
	val = (NI)(input_p3 & (NI)((NI)((NU32)(((NI)1)) << (NU32)(bits_p2)) - ((NI)1)));
	val = (NI)((NU32)(val) << (NU32)((NI)(bits_p2 * (NI)(m - p))));
	idx = (NI)((NI)(index_p1 * bits_p2) / ((NI)8));
	{
		if (!(p == ((NI)0))) goto LA10_;
		output_p0[idx] = ((NIM_CHAR) (val));
	}
	goto LA8_;
LA10_: ;
	{
		output_p0[idx] = ((NIM_CHAR) ((NI)(((NI) (((NU8)(output_p0[idx])))) | val)));
	}
LA8_: ;
}
